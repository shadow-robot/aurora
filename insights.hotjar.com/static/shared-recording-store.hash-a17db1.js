"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[656],{44928:(e,t,r)=>{r.d(t,{D2:()=>a,M1:()=>l,Rn:()=>i,Vl:()=>c,je:()=>d});var n=r(77508);const i=getBasedOnEnvironment({prod:2327305,staging:1,dev:1}),o=getBasedOnEnvironment({prod:1754014,staging:1,dev:1}),s=getBasedOnEnvironment({prod:"Hotjar Demo Site",staging:"Default site ðŸŒ",dev:"Default site ðŸŒ"}),a={access:"read",id:o,name:getBasedOnEnvironment({prod:"Hotjar Product Demo",staging:"Test Organization",dev:"Test Organization"}),sites:[{id:i,name:s}]};function c(e){return i===Number(e)}function d(e,t){return!!e.startsWith(`/sites/${i}/`)||!("/r"!==e||!t.startsWith(`?site=${i}`))}function l(){const e=new URL(n.AUTH.LOGIN.path,window.location.href);e.searchParams.set("next",encodeURIComponent(window.location.href)),e.searchParams.set("demo","true"),window.location.replace(e.toString())}},50785:(e,t,r)=>{function n(e){return unescape(encodeURIComponent(e))}function i(e){return btoa(n(e))}r.r(t),r.d(t,{b64EncodeUnicode:()=>i,encodeAsUtf8:()=>n})},36172:(e,t,r)=>{r.r(t),r.d(t,{hjHash:()=>m});const n={};function i(e,t){return e+t&4294967295}function o(e,t){var r=a(r=e[0],s=e[1],o=e[2],n=e[3],t[0],7,-680876936),n=a(n,r,s,o,t[1],12,-389564586),o=a(o,n,r,s,t[2],17,606105819),s=a(s,o,n,r,t[3],22,-1044525330);r=a(r,s,o,n,t[4],7,-176418897),n=a(n,r,s,o,t[5],12,1200080426),o=a(o,n,r,s,t[6],17,-1473231341),s=a(s,o,n,r,t[7],22,-45705983),r=a(r,s,o,n,t[8],7,1770035416),n=a(n,r,s,o,t[9],12,-1958414417),o=a(o,n,r,s,t[10],17,-42063),s=a(s,o,n,r,t[11],22,-1990404162),r=a(r,s,o,n,t[12],7,1804603682),n=a(n,r,s,o,t[13],12,-40341101),o=a(o,n,r,s,t[14],17,-1502002290),r=c(r,s=a(s,o,n,r,t[15],22,1236535329),o,n,t[1],5,-165796510),n=c(n,r,s,o,t[6],9,-1069501632),o=c(o,n,r,s,t[11],14,643717713),s=c(s,o,n,r,t[0],20,-373897302),r=c(r,s,o,n,t[5],5,-701558691),n=c(n,r,s,o,t[10],9,38016083),o=c(o,n,r,s,t[15],14,-660478335),s=c(s,o,n,r,t[4],20,-405537848),r=c(r,s,o,n,t[9],5,568446438),n=c(n,r,s,o,t[14],9,-1019803690),o=c(o,n,r,s,t[3],14,-187363961),s=c(s,o,n,r,t[8],20,1163531501),r=c(r,s,o,n,t[13],5,-1444681467),n=c(n,r,s,o,t[2],9,-51403784),o=c(o,n,r,s,t[7],14,1735328473),r=d(r,s=c(s,o,n,r,t[12],20,-1926607734),o,n,t[5],4,-378558),n=d(n,r,s,o,t[8],11,-2022574463),o=d(o,n,r,s,t[11],16,1839030562),s=d(s,o,n,r,t[14],23,-35309556),r=d(r,s,o,n,t[1],4,-1530992060),n=d(n,r,s,o,t[4],11,1272893353),o=d(o,n,r,s,t[7],16,-155497632),s=d(s,o,n,r,t[10],23,-1094730640),r=d(r,s,o,n,t[13],4,681279174),n=d(n,r,s,o,t[0],11,-358537222),o=d(o,n,r,s,t[3],16,-722521979),s=d(s,o,n,r,t[6],23,76029189),r=d(r,s,o,n,t[9],4,-640364487),n=d(n,r,s,o,t[12],11,-421815835),o=d(o,n,r,s,t[15],16,530742520),r=l(r,s=d(s,o,n,r,t[2],23,-995338651),o,n,t[0],6,-198630844),n=l(n,r,s,o,t[7],10,1126891415),o=l(o,n,r,s,t[14],15,-1416354905),s=l(s,o,n,r,t[5],21,-57434055),r=l(r,s,o,n,t[12],6,1700485571),n=l(n,r,s,o,t[3],10,-1894986606),o=l(o,n,r,s,t[10],15,-1051523),s=l(s,o,n,r,t[1],21,-2054922799),r=l(r,s,o,n,t[8],6,1873313359),n=l(n,r,s,o,t[15],10,-30611744),o=l(o,n,r,s,t[6],15,-1560198380),s=l(s,o,n,r,t[13],21,1309151649),r=l(r,s,o,n,t[4],6,-145523070),n=l(n,r,s,o,t[11],10,-1120210379),o=l(o,n,r,s,t[2],15,718787259),s=l(s,o,n,r,t[9],21,-343485551),e[0]=i(r,e[0]),e[1]=i(s,e[1]),e[2]=i(o,e[2]),e[3]=i(n,e[3])}function s(e,t,r,n,o,s){return t=i(i(t,e),i(n,s)),i(t<<o|t>>>32-o,r)}function a(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function d(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function l(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}function u(e){var t,r=[];for(t=0;64>t;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}n.md5=function(e){return function(e){for(var t=0;t<e.length;t++)e[t]=f(e[t]);return e.join("")}(function(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)o(n,u(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),55<t)for(o(n,i),t=0;16>t;t++)i[t]=0;return i[14]=8*r,o(n,i),n}(e))};var h="0123456789abcdef".split("");function f(e){for(var t="",r=0;4>r;r++)t+=h[e>>8*r+4&15]+h[e>>8*r&15];return t}const m=n},96983:(e,t,r)=>{var n={};r.r(n),r.d(n,{addError:()=>O,applyChanged:()=>x,clearIframesForRecording:()=>U,getError:()=>D,getIframe:()=>I,getTreeMirror:()=>S,initialize:()=>j,maybePrerenderIframes:()=>L,removeIframe:()=>P,showIframe:()=>T});var i=r(15444),o=r(86599),s=r.n(o);function a(e,t){let r,n,i;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r=e,n=t[e]);for(const o in e)if(o===r){if(e[o]===n)return e}else if(e[o]instanceof Object&&Object.prototype.hasOwnProperty.call(e,o)&&(i=a(e[o],t),i))return i;return!1}function c(e){let{page_visit_url:t,content:r,page:n,allowlisted_domains:i,start_page_content_identifier:o,recording:{id:s,web_resources:c}}=e;const d=JSON.parse(r),l=a(d.children,{tagName:"BASE"}),u="object"==typeof l&&"object"==typeof l.attributes&&void 0!==l.attributes.href;return d.docType||(d.children=function(e,t){const r=t.slice();return r.unshift(e),r}({nodeType:Node.DOCUMENT_TYPE_NODE,id:0,name:"html",publicId:"",systemId:""},d.children||[])),{page:n,pageVisitUrl:t,content:d,webResources:c,recordingId:s,baseTag:u?l:null,allowlistedDomains:i||[],startPageContentIdentifier:o}}const d={},l=(e,t,r,n,i)=>(void 0!==d[t]||(d[t]=s().get(`/api/v1/sites/${e}/recordings/${t}`,{params:{...r,token:n,track:!1,url:i}}).then((e=>e.data))),d[t]),u={},h=(e,t,r,n)=>{const i=`${t}.${r}`;return void 0!==u[i]||(u[i]=s().get(`/api/v3/sites/${e}/recording-id/${t}/page-visit/${r}`,{params:{token:n}}).then((e=>(e.data&&(e.data.page=r),c(e.data))))),u[i]};var f=r(616),m=r(89176);class g{constructor(){this.promise=new Promise(((e,t)=>{this.resolveSelf=e,this.rejectSelf=t}))}then(e,t){return this.promise.then(e,t)}catch(e){return this.promise.then(e)}resolve(e){this.resolveSelf(e)}reject(e){this.rejectSelf(e)}}const p={},b={},w={},v=(e,t)=>(p[e]=p[e]||{},p[e][t]=p[e][t]||new g,p[e][t]),E=(e,t)=>{p[e]=p[e]||{},delete p[e][t]},N=(e,t,r)=>{b[e]=b[e]||{},b[e][t]=r},y=(e,t)=>(b[e]||{})[t],C=(e,t)=>{const r=document.querySelector("#content-iframes");if(r&&r.appendChild)return r.appendChild(e),void t(e);setTimeout((()=>C(e,t)),100)},_=(e,t)=>document.querySelector(`.preview-scene-${e}-${t}`),I=(e,t)=>v(e,t).then((()=>_(e,t))),T=(e,t)=>I(e,t).then((e=>{document.querySelectorAll("iframe.active").forEach((e=>{e.id="",e.classList.remove("active")})),e.classList.add("active"),e.id="preview-scene"}));function S(e,t){return w[e][t]}const k=(e,t,r,n)=>{const{recordingId:i,startPageContentIdentifier:o}=t,s=v(i,o);((e,t)=>{const r=_(e,t);if(r)return Promise.resolve(r);const n=document.createElement("iframe");return n.classList.add(`preview-scene-${e}-${t}`),n.frameBorder="0",n.scrolling="no",n.style.border="0",n.style.overflow="hidden",n.setAttribute("tabindex","-1"),n.sandbox&&n.sandbox.add("allow-same-origin"),new Promise((e=>{C(n,e)}))})(i,o).then((i=>function(e,t,r,n,i){const{startPageContentIdentifier:o,baseTag:s,content:a,recordingId:c,webResources:d,pageVisitUrl:l,allowlistedDomains:u}=r,{contentWindow:h}=e,{document:f}=h;for(f.open(),a.docType?f.write(a.docType):(console.log("No doctype, adding <!DOCTYPE html>"),f.write("<!DOCTYPE html>"));f.firstChild;)f.removeChild(f.firstChild);const p=new m.Qq(f);try{p.configurePage({token:n,siteId:t,recordingId:c,pageVisitUrl:l,baseTag:s,allowlistedDomains:u,debug:i,webResources:d}),p.initialize.apply(p,[a.rootId,a.children])}catch(e){console.error(e)}const b=new g;return e.addEventListener("load",(()=>{e.setAttribute("data-loaded","true")})),f.close(),N(c,o,!1),b.resolve(p),b.promise}(i,e,t,r,n))).then((e=>{e&&(function(e,t,r){w[e]=w[e]||{},w[e][t]=r}(i,o,e),s.resolve())}))};function A(e){return e.reduce(((e,t,r)=>(void 0===e[t.start_page_content_identifier]&&(e[t.start_page_content_identifier]=r),e)),{})}let R=[];const D=()=>R[0],O=e=>{R=[...R,e]},j=()=>{const e=(0,f.EZ)(),t=(0,f.Tw)(),r=(0,f.v4)(),n=(0,f.LP)();h(e,t,0,n).then((t=>{k(e,t,n,r)})).catch(O);const i=(0,f.tu)(),o=(0,f.Gr)();l(e,t,i,n,o).catch(O)},x=function(e,t){N(e,t,!0);for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];S(e,t).applyChanged(...n)},L=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;const n=(0,f.EZ)(),i=(0,f.v4)(),o=(0,f.LP)(),s=(0,f.Gr)(),a=(0,f.tu)();return l(n,e,a,o,s).then((s=>{const a=A(s.page_visit_recordings),c=a[t],d=Object.values(a),l=d.indexOf(c);d.slice(l,l+r).forEach((t=>{const r=s.page_visit_recordings[t].start_page_content_identifier,a=y(e,r);!0!==a&&void 0!==a||(E(e,r),h(n,e,t,o).then((e=>{k(n,e,o,i)})))}))}))},P=(e,t)=>{E(e,t),N(e,t,void 0);const r=_(e,t);r&&r.remove()},U=e=>{const t=A(e?.page_visit_recordings);Object.keys(t).forEach((t=>{window.iframeController.removeIframe(e.id,t)}))};(0,i.F)(),j(),window.fetchRecording=l,window.iframeController=n},616:(e,t,r)=>{r.d(t,{EZ:()=>p,Gr:()=>C,LP:()=>b,RJ:()=>w,Tw:()=>g,ak:()=>m,tu:()=>y,v4:()=>v}),r(74870);var n=r(47649),i=r(55885),o=r(4165),s=r(58996),a=r(95796),c=r(37713),d=r(20149),l=r(60133),u=r(78601),h=r(4286),f=r(20387);function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;const r=e.replace(/[[\]]/g,"\\$&"),n=new RegExp(`[?&]${r}(=([^&#]*)|&|#|$)`),i=n.exec(t);return i&&i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):""}const g=()=>parseInt(m("recording"),10),p=()=>parseInt(m("site"),10),b=()=>m("token"),w=()=>Boolean(m("forRetaker")),v=()=>"true"===m("debugCreateElement"),E=[i.w_.VisitedURL,i.w_.TeamComment,i.w_.Event,i.w_.RageClickKind,i.w_.UTurnKind,i.w_.NPS,i.w_.IncomingFeedback,i.w_.Clicked,i.w_.Error,i.w_.Funnel];const N=e=>{if(!e||e.length<1)return null;const t=e[0];return t.kind===i.w_.RageClickKind?t.value===a.v.OCCURRED||null:t.kind===i.w_.UTurnKind&&t.value===c.K.OCCURRED||null},y=()=>{const e=function(){const e=function(){try{const e=localStorage.getItem("recordingFiltersUiFormat");return e?JSON.parse(e):{filterList:[]}}catch{}return{filterList:[]}}().filterList.filter((e=>E.includes(e.kind)));return(0,n.Z)(e,"kind")}(),t=(r=e[i.w_.VisitedURL]||[])&&r.length?r.reduce(((e,t)=>{if(t.kind!==i.w_.VisitedURL||!t.value)return e;const{operation:r,negate:n}=o.Ey(t.value.operation);if(!r||n||!("value"in t.value))return e;const s={[r.toLocaleLowerCase()]:t.value.value};return e.push(s),e}),[]):null;var r;const a=(e=>e&&e.length?e.reduce(((e,t)=>(t.kind===i.w_.Event&&t.value&&t.value.operation===s.i.IS_ANY_OF_THESE&&e.push(...t.value.selectedValues),[...new Set(e)])),[]):null)(e[i.w_.Event]||[]),c=N(e[i.w_.RageClickKind]||[]),m=N(e[i.w_.UTurnKind]||[]),g=(e=>{if(!e||e.length<1)return null;const t=e[0];return t.kind===i.w_.NPS?l.y(t.value):null})(e[i.w_.NPS]||[]),p=(e=>{if(!e||e.length<1)return null;const t=e[0];return t.kind===i.w_.IncomingFeedback?d.y(t.value):null})(e[i.w_.IncomingFeedback]||[]),b=(e=>{if(!e||e.length<1)return null;const t=e.reduce(((e,t)=>(t.kind===i.w_.Clicked&&t.value&&e.push(u.y(t.value)),e)),[]);return t.length>0?t:null})(e[i.w_.Clicked]||[]),w=(e=>{if(!e||e.length<1)return null;const t=e.reduce(((e,t)=>(t.kind===i.w_.Error&&t.value&&e.push(h.y(t.value)),e)),[]);return t.length>0?t:null})(e[i.w_.Error]||[]),v=(e=>{if(!e||e.length<1)return null;const t=e.reduce(((e,t)=>{if(t.kind===i.w_.Funnel&&t.value){const r=(0,f.G)([t]);e.push(r)}return e}),[]);return t.length>0?t:null})(e[i.w_.Funnel]||[]);return{...t&&{page_filters:JSON.stringify(t)},...a&&{event_filters:JSON.stringify(a)},...c&&{rageclick_filters:c},...m&&{uturn_filters:m},...g&&{nps_filters:JSON.stringify(g)},...p&&{if_filters:JSON.stringify(p)},...b&&{clicked_filters:JSON.stringify(b)},...w&&{error_filters:JSON.stringify(w)},...v&&{funnel_filters:JSON.stringify(v[0])}}},C=()=>window.location.pathname+window.location.search},15444:(e,t,r)=>{r.d(t,{F:()=>d});var n=r(55514),i=r(86599),o=r.n(i),s=r(75616),a=r(42365),c=r(44928);const d=()=>{var e;o().defaults.withCredentials=!0,o().defaults.baseURL=(0,n.G)(),(e=o()).interceptors.request.use((async e=>{const t=await(0,a.bH)(),r=(0,a.Nh)(t);return r&&(e.headers={...e.headers,...r}),e}),(e=>Promise.reject(e))),e.interceptors.response.use((e=>e),(async e=>{if(401===e?.response?.status){if((0,c.je)(window.location.pathname,window.location.search))return(0,c.M1)(),Promise.reject(e);if(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=(0,s.zj)("INSIGHTS",window.location.host);return(t===s.Fw.REVIEW||t===s.Fw.REVIEW_WEBAPP)&&Boolean(e.match("/saved_heatmaps"))}(e?.config?.url??""))return Promise.reject(e);await(0,a.yB)()}return Promise.reject(e)}))}},57608:(e,t,r)=>{r.r(t),r.d(t,{HjTreeMirror:()=>l});var n=r(41389);const{getApiHost:i}=r(16420),{hjHash:o}=r(36172),{b64EncodeUnicode:s}=r(50785),a={};let c;a.findStoredCss=function(e,t){let{sceneDocument:r,siteId:n,recordingId:a,webResources:d,token:l}=t;c||(c=r.createElement("link"),c.rel="stylesheet"),c.href=e;var u=o.md5(s(c.href));let h;return d.forEach((e=>{e.url_hash===u&&e.content_hash&&(h=function(e,t,r,n){let o=`${i()}/api/v2/sites/${t}/recording-id/${r}/web-resource/${e}`;return n&&(o+=`?token=${n}`),o}(e.content_hash,n,a,l))})),h||e};const d=a;class l{w=window;sceneDocument;allowlistedDomains=[];webResources=[];pageVisitUrl;siteId;recordingId;token;baseTag;childDebugEnabled;cssHoverAttribute="hotjar-css-hover";currentDomain="hj-hardcoded-domain.no-match";constructor(){this.setAttribute=(0,n.t)(this.setAttribute,window.document.location.hostname)}getDomain(e){return e&&e.replace("http://","").replace("https://","").split(/[/?#]/)[0]||""}checkIsValidDomain(e,t){var r=this.getDomain(t);return!r||!!e.filter((e=>r.indexOf(e)>-1)).length}setChildDebugEnabled=e=>{this.childDebugEnabled=e};setSceneDocument=e=>{this.sceneDocument=e};setToken=e=>{this.token=e};setBaseTag=e=>{this.baseTag=e};setRecordingId=e=>{this.recordingId=e};setSiteId=e=>{this.siteId=e};setWebResources=e=>{this.webResources=e};setAllowlistedDomains=e=>{this.allowlistedDomains=e};setPageVisitUrl=e=>{this.pageVisitUrl=e};setCurrentDomain=e=>{e&&(this.currentDomain=this.getDomain(e))};checkEmptyAndReturnLower=e=>"string"==typeof e?e.toLowerCase():"";ignoredElement=e=>{var t=this.sceneDocument.createElement("IGNORE-"+e.tagName);return t.style.display="none",t};createElement=e=>{var t;if(this.childDebugEnabled&&console.debug(e),"object"==typeof e&&"string"==typeof e.tagName){if(e.tagName=e.tagName.replace(/[^a-zA-Z0-9-_]/g,""),"SCRIPT"===e.tagName||"NOSCRIPT"===e.tagName)return this.ignoredElement(e);if("LINK"===e.tagName){if(e.attributes.integrity&&delete e.attributes.integrity,e.attributes.crossorigin&&delete e.attributes.crossorigin,e.attributes.href&&-1!==e.attributes.href.indexOf("blob:")&&delete e.attributes.href,"script"===this.checkEmptyAndReturnLower(e.attributes.as)&&"preload"===this.checkEmptyAndReturnLower(e.attributes.rel))return this.ignoredElement(e);if(-1!==this.checkEmptyAndReturnLower(e.attributes.href).indexOf("-extension://"))return this.ignoredElement(e)}else{if("HEAD"===e.tagName)return(t=this.sceneDocument.createElement("HEAD")).appendChild(this.sceneDocument.createElement("BASE")),this.baseTag?t.firstChild.href=this.fixBaseTagHref(this.baseTag.attributes.href,this.pageVisitUrl):t.firstChild.href=this.pageVisitUrl,t;if("STYLE"===e.tagName)for(var r=0;r<(e.childNodes||[]).length;r++){var n=e.childNodes[r];n.textContent&&(n.textContent=n.textContent.replace(/:hover/g,"["+this.cssHoverAttribute+"]"))}else{if("META"===e.tagName&&("object"==typeof e.attributes&&"x-frame-options"===this.checkEmptyAndReturnLower(e.attributes["http-equiv"])&&"deny"===this.checkEmptyAndReturnLower(e.attributes.content)||"content-security-policy"===this.checkEmptyAndReturnLower(e.attributes["http-equiv"])))return this.ignoredElement(e);if("INPUT"===e.tagName)return(t=this.sceneDocument.createElement(e.tagName)).setAttribute("autocomplete","nope"),t.setAttribute("readonly",""),t;if("IFRAME"===e.tagName){if("_hjRemoteVarsFrame"===e.attributes.id)return this.ignoredElement(e);if(-1!==this.checkEmptyAndReturnLower(e.attributes.src).indexOf("-extension://"))return this.ignoredElement(e);void 0!==e.attributes["data-hj-allow-iframe"]&&this.checkIsValidDomain(this.allowlistedDomains.concat(this.currentDomain),e.attributes.src)||(void 0!==e.attributes.src&&(e.attributes["data-hj-original-src"]=e.attributes.src),e.attributes.src=document.location.protocol+"//"+document.location.host+"/static/playbacks/html/iframe-content-blocked.html")}}}if("LINK"===e.tagName){var i=this.sceneDocument.createElement(e.tagName);return(!e.attributes.href||e.attributes.href&&-1!==e.attributes.href.indexOf("blob:"))&&(delete e.attributes.href,i.setAttribute("href","#")),i}return e&&e.namespaceURI?this.sceneDocument.createElementNS(e.namespaceURI,e.tagName.toLowerCase()):this.sceneDocument.createElement(e.tagName)}return!1};setAttribute=(e,t,r)=>{if(t=t.replace(/[^a-z0-9-_:]/gi,""),"BASE"===e.tagName&&"href"===t)r=this.fixBaseTagHref(r,this.pageVisitUrl);else if("LINK"===e.tagName&&"href"===t)r=d.findStoredCss(r,{webResources:this.webResources,siteId:this.siteId,recordingId:this.recordingId,sceneDocument:this.sceneDocument,token:this.token});else if("INPUT"===e.tagName&&"autofocus"===t)return e.setAttribute("ignore-"+t,r),!0;return"LINK"===e.tagName&&"href"===t&&-1!==r.indexOf("blob:")||("src"===t||"href"===t)&&-1!==r.toLowerCase().indexOf("javascript:")||(isNaN(t.charAt(0))&&"-"!==t.charAt(0)&&0!==t.indexOf("on")&&(-1!==t.indexOf("xlink:")&&e.setAttributeNS?e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r):e.setAttribute&&e.setAttribute(t,r),e.setAttribute),!0)};fixBaseTagHref=(e,t)=>{const r=document.createElement("a");var n;if(r.setAttribute("href",t),"http"===e.substr(0,4)||"//"===e.substr(0,2))return e;n="/"===e.substr(0,1)?e:("/"===r.pathname.slice(-1)?r.pathname:r.pathname.substring(0,r.pathname.lastIndexOf("/")+1))+e;var i=r.protocol+"//"+r.hostname+(r.port?":"+r.port:"");return new URL(i+n).href}}},89176:(e,t,r)=>{r.d(t,{II:()=>o,Qq:()=>a,u5:()=>s});var n=r(65387);const{HjTreeMirror:i}=r(57608),o="constructed-style-";function s(e){const t=document.createDocumentFragment();return e.forEach((e=>{const r=e.rules.join(" "),n=document.createElement("style");var i;n.appendChild(document.createTextNode(r)),n.id=(i=e.id,o+i),t.appendChild(n)})),t}function a(e){this.hjTreeMirror=new i,this.root=e,this.delegate={createElement:this.hjTreeMirror.createElement,setAttribute:this.hjTreeMirror.setAttribute},this.idMap={},this.isEmpty=!1,this.SVG_NAMESPACE="http://www.w3.org/2000/svg"}a.prototype.isSVGNamespacedElement=(0,n.Z)((function(e){for(;e;){if(e.tagName&&"foreignobject"===e.tagName.toLowerCase())return!1;if(e.tagName&&"svg"===e.tagName.toLowerCase()||e.namespaceURI===this.SVG_NAMESPACE)return!0;e=e.parentNode}return!1})),a.prototype.configurePage=function(e){let{token:t,siteId:r,recordingId:n,pageVisitUrl:i,baseTag:o,allowlistedDomains:s,webResources:a,debug:c}=e;this.hjTreeMirror.setSceneDocument(this.root),this.hjTreeMirror.setToken(t),this.hjTreeMirror.setSiteId(r),this.hjTreeMirror.setRecordingId(n),this.hjTreeMirror.setCurrentDomain(i),this.hjTreeMirror.setPageVisitUrl(i),this.hjTreeMirror.setBaseTag(o),this.hjTreeMirror.setAllowlistedDomains(s),this.hjTreeMirror.setWebResources(a),this.hjTreeMirror.setChildDebugEnabled(c)},a.prototype.initialize=function(e,t){if(e){this.idMap[e]=this.root;for(var r=0;r<t.length;r++)this.deserializeNode(t[r],this.root)}else this.isEmpty=!0};var c=0;function d(e,t,r){return function(){try{return e.apply(this,arguments)}catch(e){20===(c+=1)&&console.error("*** Error logging stopped for mutation errors (over threshold) ***"),c<20&&console.error(e,{nodeData:arguments[0],mutation:arguments[2],context:t,mutationTimestamp:r}),c<5&&parent&&parent.Sentry&&parent.Sentry.withScope((function(n){n.setExtras({errorIndex:c,nodeData:arguments[0],mutation:arguments[2],context:t,module:"playback-tree-mirror"});const i=new URLSearchParams(window.document.location.search);n.setTags({site:i.get("site"),recording:i.get("recording"),mutationTimestamp:r}),parent.Sentry.captureException(e)}))}}}a.prototype.applyChanged=function(e,t,r,n,i){if(!this.isEmpty){var o=this;t.forEach(d((function(e){const t=o.deserializeNode(e.parentNode),r=o.deserializeNode(e,null,o.isSVGNamespacedElement(t));o.deserializeNode(e.previousSibling);const n=r.parentNode;n&&n.removeChild(r)}),"addedOrMoved1",i)),e.forEach(d((function(e){const t=o.deserializeNode(e),r=t.parentNode;r&&r.removeChild(t)}),"removed",i)),t.forEach(d((function(e){const t=o.deserializeNode(e.parentNode),r=o.deserializeNode(e,null,o.isSVGNamespacedElement(t)),n=o.deserializeNode(e.previousSibling);t.shadowRoot&&e.isInShadowRoot?t.shadowRoot.insertBefore(r,n?n.nextSibling:t.shadowRoot.firstChild):t.insertBefore(r,n?n.nextSibling:t.firstChild)}),"addedOrMoved2",i)),r.forEach(d((function(e){var t=o.deserializeNode(e);Object.keys(e.attributes).forEach((function(r){var n=e.attributes[r];((e,t)=>{var r=e&&e.tagName?e.tagName.toLowerCase():"",n=t?t.toLowerCase():"",i="iframe"===r&&"src"===n;return!i||i&&e.hasAttribute("data-hj-allow-iframe")})(t,r)&&(null===n?t.removeAttribute(r):o.delegate&&o.delegate.setAttribute&&o.delegate.setAttribute(t,r,n)||t.setAttribute(r,n))}))}),"attributes",i)),n.forEach(d((function(e){o.deserializeNode(e).textContent=e.textContent}),"text",i)),e.forEach(d((function(e){delete o.idMap[e.id]}),"removed",i))}},a.prototype.deserializeNode=function(e,t,r){var n=this;if(null===e)return null;var i=this.idMap[e.id];if(i)return i;var o=this.root.ownerDocument;switch(null===o&&(o=this.root),e.nodeType){case Node.COMMENT_NODE:i=o.createComment(e.textContent);break;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:i=o.createTextNode(e.textContent);break;case Node.DOCUMENT_TYPE_NODE:i=o.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);break;case Node.ELEMENT_NODE:if(e&&e.namespaceURI||["style"].indexOf(e.tagName.toLowerCase())>=0||!r&&"svg"!==e.tagName&&!n.isSVGNamespacedElement(t)?(this.delegate&&this.delegate.createElement&&(i=this.delegate.createElement(e)),i||(i=o.createElement(e.tagName))):(i=o.createElementNS(this.SVG_NAMESPACE,e.tagName),e.attributes.xmlns&&delete e.attributes.xmlns),i.tagName.toLowerCase().startsWith("ignore"))break;Object.keys(e.attributes).forEach((function(t){n.delegate&&n.delegate.setAttribute&&n.delegate.setAttribute(i,t,e.attributes[t])||i.setAttribute(t,e.attributes[t])}));break;case Node.PROCESSING_INSTRUCTION_NODE:i=o.createTextNode("")}if(!i)throw Error("Problem detected playing back recording.");if(this.idMap[e.id]=i,t&&t.shadowRoot&&e.isInShadowRoot?t.shadowRoot.appendChild(i):t&&t.appendChild(i),e&&e.hasShadowRoot&&!e.isSyntheticShadow){const t=i.attachShadow({mode:"open"});if(e.adoptedStyleSheetsRules){const r=s(e.adoptedStyleSheetsRules);t.append(r)}}var a=i&&0===(i.tagName||"").toLowerCase().indexOf("ignore-");if(e.childNodes&&!a)for(var c=0;c<e.childNodes.length;c++)this.deserializeNode(e.childNodes[c],i);return i},a.prototype.getNodeById=function(e){return this.idMap[e]}}},e=>{e.O(0,[5733,4870,5356,4566,7759,3059,5616,3803,3226,3305,4183,6420,9953,387],(()=>(96983,e(e.s=96983)))),e.O()}]);