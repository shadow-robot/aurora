"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[4710],{14710:(e,t,n)=>{n.d(t,{fy:()=>nt});var r=n(65733);function i(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}var o={log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console)},s="?";function a(e,t){var n,r=void 0===t?0:+t;try{if(n=function(e){var t=f(e,"stacktrace");if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.split("\n"),a=[],u=0;u<o.length;u+=2){var c=void 0;r.exec(o[u])?c={args:[],column:void 0,func:(n=r.exec(o[u]))[3],line:+n[1],url:n[2]}:i.exec(o[u])&&(c={args:(n=i.exec(o[u]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),c&&(!c.func&&c.line&&(c.func=s),c.context=[o[u+1]],a.push(c))}if(a.length)return{stack:a,message:f(e,"message"),name:f(e,"name")}}}(e),n)return n}catch(e){if(u)throw e}try{if(n=function(e){var t=f(e,"stack");if(t){for(var n,r,i,o,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d=/\((\S*)(?::(\d+))(?::(\d+))\)/,p=t.split("\n"),h=[],v=0,g=p.length;v<g;v+=1){if(a.exec(p[v])){var m=(i=a.exec(p[v]))[2]&&0===i[2].indexOf("native");n=i[2]&&0===i[2].indexOf("eval"),r=d.exec(i[2]),n&&r&&(i[2]=r[1],i[3]=r[2],i[4]=r[3]),o={args:m?[i[2]]:[],column:i[4]?+i[4]:void 0,func:i[1]||s,line:i[3]?+i[3]:void 0,url:m?void 0:i[2]}}else if(c.exec(p[v]))o={args:[],column:(i=c.exec(p[v]))[4]?+i[4]:void 0,func:i[1]||s,line:+i[3],url:i[2]};else{if(!u.exec(p[v]))continue;n=(i=u.exec(p[v]))[3]&&i[3].indexOf(" > eval")>-1,r=l.exec(i[3]),n&&r?(i[3]=r[1],i[4]=r[2],i[5]=void 0):0!==v||i[5]||void 0===e.columnNumber||(h[0].column=e.columnNumber+1),o={args:i[2]?i[2].split(","):[],column:i[5]?+i[5]:void 0,func:i[1]||s,line:i[4]?+i[4]:void 0,url:i[3]}}!o.func&&o.line&&(o.func=s),h.push(o)}if(h.length)return{stack:h,message:f(e,"message"),name:f(e,"name")}}}(e),n)return n}catch(e){if(u)throw e}try{if(n=function(e){var t=f(e,"message");if(t){var n=t.split("\n");if(!(n.length<4)){var r,i,o,a=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,u=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,c=/^\s*Line (\d+) of function script\s*$/i,l=[],d=window&&window.document&&window.document.getElementsByTagName("script"),p=[];for(var h in d)i=d,o=h,Object.prototype.hasOwnProperty.call(i,o)&&!d[h].src&&p.push(d[h]);for(var v=2;v<n.length;v+=2){var g=void 0;a.exec(n[v])?g={args:[],column:void 0,func:(r=a.exec(n[v]))[3],line:+r[1],url:r[2]}:u.exec(n[v])?g={args:[],column:void 0,func:(r=u.exec(n[v]))[4],line:+r[1],url:r[3]}:c.exec(n[v])&&(r=c.exec(n[v]),g={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+r[1]}),g&&(g.func||(g.func=s),g.context=[n[v+1]],l.push(g))}if(l.length)return{stack:l,message:n[0],name:f(e,"name")}}}}(e),n)return n}catch(e){if(u)throw e}try{if(n=c(e,r+1))return n}catch(e){if(u)throw e}return{message:f(e,"message"),name:f(e,"name"),stack:[]}}var u=!1;function c(e,t){for(var n,r,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,o=[],u={},l=!1,d=c.caller;d&&!l;d=d.caller)d!==a&&(r={args:[],column:void 0,func:s,line:void 0,url:void 0},n=i.exec(d.toString()),d.name?r.func=d.name:n&&(r.func=n[1]),void 0===r.func&&(r.func=n?n.input.substring(0,n.input.indexOf("{")):void 0),u[d.toString()]?l=!0:u[d.toString()]=!0,o.push(r));t&&o.splice(0,t);var p={stack:o,message:f(e,"message"),name:f(e,"name")};return function(e,t,n){var r={url:t,line:n?+n:void 0};if(r.url&&r.line){e.incomplete=!1;var i=e.stack;if(i.length>0&&i[0].url===r.url){if(i[0].line===r.line)return!1;if(!i[0].line&&i[0].func===r.func)return i[0].line=r.line,i[0].context=r.context,!1}return i.unshift(r),e.partial=!0,!0}e.incomplete=!0}(p,f(e,"sourceURL")||f(e,"fileName"),f(e,"line")||f(e,"lineNumber")),p}function f(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var l,d="agent",p="console",h="network";function v(e){var t=g(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",i=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+i+o})),t}function g(e){return(e.name||"Error")+": "+e.message}function m(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return C((function(){var n=a(t);n.stack=n.stack.slice(2),e=v(n)})),e}!function(e){e.HANDLED="handled",e.UNHANDLED="unhandled"}(l||(l={}));var y,b=/[^\u0000-\u007F]/,w=function(){function e(e,t,n,r,i,o){void 0===o&&(o=j),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=i,this.beforeUnloadCallback=o,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(e){if(0!==this.bufferMessageCount){var t=(0,r.pr)(this.pushOnlyBuffer,q(this.upsertBuffer));this.request.send(t.join("\n"),this.bufferBytesSize,e),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}},e.prototype.sizeInBytes=function(e){return b.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,i=n.messageBytesSize;i>=this.maxMessageSize?o.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(i)&&this.flush("willReachedBytesLimitWith"),this.push(r,i,t),this.isFull()&&this.flush("isFull"))},e.prototype.process=function(e){var t=z(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout(O((function(){e.flush("flushPeriodically"),e.flushPeriodically()})),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&(G(window,"beforeunload",this.beforeUnloadCallback),G(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.flush("visibilitychange")})),G(window,"beforeunload",(function(){return e.flush("beforeunload")})))},e}(),k=!1,E=function(){function e(e,t){this.endpointBuilder=e,this.bytesLimit=t}return e.prototype.send=function(e,t,n){var i=this.endpointBuilder.build(),s=!!navigator.sendBeacon&&t<this.bytesLimit;if(s)try{if(navigator.sendBeacon(i,e))return}catch(e){!function(e){x||(x=!0,L(e))}(e)}var a=new XMLHttpRequest;a.addEventListener("loadend",O((function(e){return function(e){var a,u,c=null==e?void 0:e.currentTarget;c.status>=200&&c.status<300||k||(k=!0,a="XHR fallback failed",function(e,t){T.debugMode&&o.log("[MONITORING MESSAGE]","XHR fallback failed",t)}(0,u={on_line:navigator.onLine,size:t,url:i,try_beacon:s,flush_reason:n,event:{is_trusted:e.isTrusted,total:e.total,loaded:e.loaded},request:{status:c.status,ready_state:c.readyState,response_text:c.responseText.slice(0,512)}}),B((0,r.pi)((0,r.pi)({message:a},u),{status:y.info})))}(e)}))),a.open("POST",i,!0),a.send(e)},e}(),x=!1;!function(e){e.info="info",e.error="error"}(y||(y={}));var S,T={maxMessagesPerPage:0,sentMessageCount:0};function R(e){if(e.internalMonitoringEndpointBuilder){var t=function(e){var t,n=r(e.internalMonitoringEndpointBuilder);function r(t){return new w(new E(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.internalMonitoringEndpointBuilder)),{add:function(e){var r=function(e){return X({date:(new Date).getTime()},void 0!==S?S():{},e)}(e);n.add(r),t&&t.add(r)}}}(e);!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}(T,{batch:t,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(e){S=e}}}function M(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=T.batch?O(r):r;return n.apply(this,e)}}function O(e){return function(){return C(e,this,arguments)}}function C(e,t,n){try{return e.apply(t,n)}catch(e){_(e);try{L(e)}catch(e){_(e)}}}function L(e){B((0,r.pi)((0,r.pi)({},function(e){if(e instanceof Error){var t=a(e);return{error:{kind:t.name,stack:v(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+z(e)}}(e)),{status:y.error}))}function B(e){T.batch&&T.sentMessageCount<T.maxMessagesPerPage&&(T.sentMessageCount+=1,T.batch.add(e))}function A(e){T.debugMode=e}function _(e){T.debugMode&&o.error("[INTERNAL ERROR]",e)}var I,N,D,P=1e3;function U(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,U)}function j(){}function z(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];H(e)&&(r=[!0,e.toJSON],delete e.toJSON);var i,o,s=[!1,void 0];"object"==typeof e&&H(i=Object.getPrototypeOf(e))&&(s=[!0,i.toJSON],delete i.toJSON);try{o=JSON.stringify(e,t,n)}catch(e){o="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),s[0]&&(i.toJSON=s[1])}return o}function H(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function F(e,t){return-1!==e.indexOf(t)}function q(e){return Object.keys(e).map((function(t){return e[t]}))}function G(e,t,n,r){return $(e,[t],n,r)}function $(e,t,n,r){var i=void 0===r?{}:r,o=i.once,s=i.capture,a=i.passive,u=O(o?function(e){f(),n(e)}:n),c=a?{capture:s,passive:a}:s;t.forEach((function(t){return e.addEventListener(t,u,c)}));var f=function(){return t.forEach((function(t){return e.removeEventListener(t,u,c)}))};return{stop:f}}function K(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=K(i[o],t[o],n);return i}var s,a="object"==(null===(s=e)?"null":Array.isArray(s)?"array":typeof s)?e:{};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(a[u]=K(a[u],t[u],n));return a}}function X(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];null!=o&&(e=K(e,o))}return e}!function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(I||(I={})),function(e){e.FETCH="fetch",e.XHR="xhr"}(N||(N={}));var J,V={debug:"debug",error:"error",info:"info",warn:"warn"},W=((D={})[V.debug]=0,D[V.info]=1,D[V.warn]=2,D[V.error]=3,D),Y=(Object.keys(V),"console"),Z="http",Q=function(){function e(e,t,n,r){void 0===t&&(t=Z),void 0===n&&(n=V.debug),void 0===r&&(r={}),this.sendLog=e,this.handlerType=t,this.level=n,this.contextManager=i(),this.contextManager.set(r)}return e.prototype.log=function(e,t,n){if(void 0===n&&(n=V.info),W[n]>=W[this.level]){var i=Array.isArray(this.handlerType)?this.handlerType:[this.handlerType];F(i,Z)&&this.sendLog((0,r.pi)({message:e,status:n},X(this.contextManager.get(),t))),F(i,Y)&&o.log(n+": "+e,X(this.contextManager.get(),t))}},e.prototype.debug=function(e,t){this.log(e,t,V.debug)},e.prototype.info=function(e,t){this.log(e,t,V.info)},e.prototype.warn=function(e,t){this.log(e,t,V.warn)},e.prototype.error=function(e,t){var n={error:{origin:"logger"}};this.log(e,X(n,t),V.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.addContext=function(e,t){this.contextManager.add(e,t)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.setLevel=function(e){this.level=e},(0,r.gn)([M],e.prototype,"log",null),e}();function ee(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires="+i.toUTCString(),s=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"";document.cookie=e+"="+t+";"+o+";path=/;samesite="+s+a+u}function te(e){return function(e,t){var n=new RegExp("(?:^|;)\\s*"+t+"\\s*=\\s*([^;]+)").exec(e);return n?n[1]:void 0}(document.cookie,e)}function ne(e,t){ee(e,"",0,t)}function re(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){o.error(t,e)}}}function ie(){return Date.now()}function oe(){return performance.now()}function se(){return{relative:oe(),timeStamp:ie()}}function ae(e,t){return t-e}var ue={alternate:{logs:"logs",rum:"rum",sessionReplay:"session-replay"},classic:{logs:"browser",rum:"rum",sessionReplay:void 0}},ce={logs:"logs",rum:"rum",sessionReplay:"replay"},fe="datadoghq.com",le="datadoghq.eu",de=[fe,le],pe=[fe,"us3.datadoghq.com",le,"ddog-gov.com"];function he(e,t,n,r){var i=t.sdkVersion,o=e.site,s=void 0===o?fe:o,a=e.clientToken,u=e.env,c=e.proxyHost,f=e.proxyUrl,l=e.service,d=e.version,p=e.intakeApiVersion,h=e.useAlternateIntakeDomains,v=function(e){if(function(e){return h||!F(de,s)||"sessionReplay"===e}(e)){var t=ue.alternate[e],n=s.split("."),r=n.pop();return t+".browser-intake-"+(n.join("-")+"."+r)}return ue.classic[e]+"-http-intake.logs."+s}(n),g=function(e){return y(e)?"/api/v2/"+ce[e]:"/v1/input/"+a}(n);function m(){var e=function(e,t){var n="ddsource="+(t||"browser")+"&ddtags="+encodeURIComponent("sdk_version:"+i+(u?",env:"+u:"")+(l?",service:"+l:"")+(d?",version:"+d:""));return y(e)&&(n+="&dd-api-key="+a+"&dd-evp-origin-version="+encodeURIComponent(i)+"&dd-evp-origin=browser&dd-request-id="+U()),"rum"===e&&(n+="&batch_time="+ie()),n}(n,r),t="https://"+v+g+"?"+e;return f?f+"?ddforward="+encodeURIComponent(t):c?"https://"+c+g+"?ddhost="+v+"&"+e:t}function y(e){return 2===p||!F(pe,s)||"sessionReplay"===e}return{build:m,buildIntakeUrl:function(){var e=m();return e.slice(0,e.indexOf("?"))}}}var ve,ge,me={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},ye={allowedTracingOrigins:[],maxErrorsPerMinute:3e3,maxActionsPerMinute:3e3,maxInternalMonitoringMessagesPerPage:15,sampleRate:100,replaySampleRate:100,silentMultipleInit:!1,trackInteractions:!1,trackViewsManually:!1,defaultPrivacyLevel:me.MASK_USER_INPUT,requestErrorResponseLengthLimit:32768,flushTimeout:3e4,maxBatchSize:50,maxMessageSize:262144,batchBytesLimit:16384};function be(e,t){var n,i,o=(0,r.pi)((0,r.pi)({beforeSend:e.beforeSend&&re(e.beforeSend,"beforeSend threw an error:"),cookieOptions:we(e),service:e.service},function(e,t){var n=function(e,t){if(t.buildMode===ge.E2E_TEST){var n=function(e){return{build:function(){return e},buildIntakeUrl:function(){return e}}};return{logsEndpointBuilder:n("<<< E2E LOGS ENDPOINT >>>"),rumEndpointBuilder:n("<<< E2E RUM ENDPOINT >>>"),sessionReplayEndpointBuilder:n("<<< E2E SESSION REPLAY ENDPOINT >>>"),internalMonitoringEndpointBuilder:n("<<< E2E INTERNAL MONITORING ENDPOINT >>>")}}var i={logsEndpointBuilder:he(e,t,"logs"),rumEndpointBuilder:he(e,t,"rum"),sessionReplayEndpointBuilder:he(e,t,"sessionReplay")};return e.internalMonitoringApiKey?(0,r.pi)((0,r.pi)({},i),{internalMonitoringEndpointBuilder:he((0,r.pi)((0,r.pi)({},e),{clientToken:e.internalMonitoringApiKey}),t,"logs","browser-agent-internal-monitoring")}):i}(e,t),i=q(n).map((function(e){return e.buildIntakeUrl()})),o=function(e,t,n){if(t.buildMode===ge.STAGING&&void 0!==e.replica){var i=(0,r.pi)((0,r.pi)({},e),{site:fe,applicationId:e.replica.applicationId,clientToken:e.replica.clientToken,useAlternateIntakeDomains:!0,intakeApiVersion:2}),o={logsEndpointBuilder:he(i,t,"logs"),rumEndpointBuilder:he(i,t,"rum"),internalMonitoringEndpointBuilder:he(i,t,"logs","browser-agent-internal-monitoring")};return n.push.apply(n,q(o).map((function(e){return e.buildIntakeUrl()}))),(0,r.pi)({applicationId:e.replica.applicationId},o)}}(e,t,i);return(0,r.pi)((0,r.pi)({isIntakeUrl:function(e){return i.some((function(t){return 0===e.indexOf(t)}))}},n),{replica:o})}(e,t)),ye);return"allowedTracingOrigins"in e&&(o.allowedTracingOrigins=e.allowedTracingOrigins),"sampleRate"in e&&(o.sampleRate=e.sampleRate),"replaySampleRate"in e&&(o.replaySampleRate=e.replaySampleRate),"trackInteractions"in e&&(o.trackInteractions=!!e.trackInteractions),"trackViewsManually"in e&&(o.trackViewsManually=!!e.trackViewsManually),"actionNameAttribute"in e&&(o.actionNameAttribute=e.actionNameAttribute),n=me,i=e.defaultPrivacyLevel,Object.keys(n).some((function(e){return n[e]===i}))&&(o.defaultPrivacyLevel=e.defaultPrivacyLevel),o}function we(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===J){for(var e="dd_site_test_"+U(),t=window.location.hostname.split("."),n=t.pop();t.length&&!te(e);)ee(e,"test",1e3,{domain:n=t.pop()+"."+n});ne(e,{domain:n}),J=n}return J}()),t}!function(e){e.RELEASE="release",e.STAGING="staging",e.CANARY="canary",e.E2E_TEST="e2e-test"}(ge||(ge={}));var ke,Ee,xe=function(){function e(e){void 0===e&&(e=1e4),this.limit=e,this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>this.limit&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}(),Se=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function Te(e,t){var n=function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(r instanceof Error)return r}}(e);return{message:(0,r.pr)(["console error:"],e).map((function(e){return function(e){return"string"==typeof e?e:e instanceof Error?g(a(e)):z(e,void 0,2)}(e)})).join(" "),stack:n?v(a(n)):void 0,handlingStack:t}}function Re(e,t,n){var r=e[t],i=n(r),o=function(){return i.apply(this,arguments)};return e[t]=o,{stop:function(){e[t]===o?e[t]=r:i=r}}}function Me(e,t,n){var r=n.before,i=n.after;return Re(e,t,(function(e){return function(){var t,n=arguments;return r&&C(r,this,n),"function"==typeof e&&(t=e.apply(this,n)),i&&C(i,this,n),t}}))}var Oe,Ce,Le,Be=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function Ae(e){return t=function(t,n){var r=function(e,t,n,r){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:v(e),handlingStack:r,type:e.name}:{message:"Uncaught "+z(t),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}}(t,n),i=r.stack,o=r.message,s=r.type;e.notify({message:o,stack:i,type:s,source:"source",startClocks:se(),originalError:n,handling:l.UNHANDLED})},n=function(e){return Me(window,"onerror",{before:function(t,n,r,i,o){var s;if(o)s=a(o),e(s,o);else{var u,c={url:n,column:i,line:r},f=t;if("[object String]"==={}.toString.call(t)){var l=Be.exec(f);l&&(u=l[1],f=l[2])}e(s={name:u,message:"string"==typeof f?f:void 0,stack:[c]},t)}}})}(t).stop,r=function(e){return Me(window,"onunhandledrejection",{before:function(t){var n=t.reason||"Empty reason",r=a(n);e(r,n)}})}(t).stop,{stop:function(){n(),r()}};var t,n,r}function _e(e){return function(e,t){if(function(){if(void 0!==Oe)return Oe;try{var e=new URL("http://test/path");return Oe="http://test/path"===e.href}catch(e){Oe=!1}return Oe}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,r=n.createElement("a");if(void 0!==t){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(r)}return r.href=e,r}(e,function(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}(window.location)).href}function Ie(){var e;return Ce||(e=new Se((function(){var t=Me(XMLHttpRequest.prototype,"open",{before:Ne}).stop,n=Me(XMLHttpRequest.prototype,"send",{before:function(){De.call(this,e)}}).stop,r=Me(XMLHttpRequest.prototype,"abort",{before:Pe}).stop;return function(){t(),n(),r()}})),Ce=e),Ce}function Ne(e,t){this._datadog_xhr={state:"open",method:e,url:_e(t)}}function De(e){var t=this;if(this._datadog_xhr){var n=this._datadog_xhr;n.state="start",n.startTime=oe(),n.startClocks=se(),n.isAborted=!1,n.xhr=this;var i=!1,o=Me(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&s()}}).stop,s=O((function(){if(t.removeEventListener("loadend",s),o(),!i){i=!0;var a=t._datadog_xhr;a.state="complete",a.duration=ae(n.startClocks.timeStamp,ie()),a.responseText=t.response,a.status=t.status,e.notify((0,r.pi)({},a))}}));this.addEventListener("loadend",s),e.notify(n)}}function Pe(){this._datadog_xhr&&(this._datadog_xhr.isAborted=!0)}function Ue(e,t,n){var r=n&&n.method||"object"==typeof t&&t.method||"GET",i=_e("object"==typeof t&&t.url||t),o={state:"start",init:n,input:t,method:r,startClocks:se(),url:i};return e.notify(o),o}function je(e,t,n){var i=this,o=function(t){return(0,r.mG)(i,void 0,void 0,(function(){var i,o,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return(i=n).state="complete",i.duration=ae(i.startClocks.timeStamp,ie()),"stack"in t||t instanceof Error?(i.status=0,i.responseText=v(a(t)),i.isAborted=t instanceof DOMException&&t.code===DOMException.ABORT_ERR,i.error=t,e.notify(i),[3,6]):[3,1];case 1:if(!("status"in t))return[3,6];o=void 0,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t.clone().text()];case 3:return o=r.sent(),[3,5];case 4:return s=r.sent(),o="Unable to retrieve response: "+s,[3,5];case 5:i.response=t,i.responseText=o,i.responseType=t.type,i.status=t.status,i.isAborted=!1,e.notify(i),r.label=6;case 6:return[2]}}))}))};t.then(O(o),O(o))}function ze(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function He(e){return N.XHR===e?"XHR":"Fetch"}var Fe=9e5;function qe(e,t,n){var i=function(e,t){var n,r,i=!1,o=function(){i=!0,clearTimeout(n),n=setTimeout((function(){i=!1}),1e3)};return{get:function(){return i||(r=te(e),o()),r},set:function(n,i){ee(e,n,i,t),r=n,o()},clearCache:function(){clearTimeout(n),i=!1}}}("_dd_s",e);!function(e){var t=e.get(),n=te("_dd"),r=te("_dd_r"),i=te("_dd_l");if(!t){var o={};n&&(o.id=n),i&&/^[01]$/.test(i)&&(o.logs=i),r&&/^[012]$/.test(r)&&(o.rum=r),Ke(o,e)}}(i);var o,s,a,u,c=new Se,f=$e(i),l=(o=O((function(){i.clearCache();var e=$e(i),o=n(e[t]),s=o.trackingType,a=o.isTracked;e[t]=s,a&&!e.id&&(e.id=U(),e.created=String(Date.now())),Ke(e,i),a&&f.id!==e.id&&(f=(0,r.pi)({},e),c.notify()),f=(0,r.pi)({},e)})),u=!1,{throttled:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u?s=e:(o.apply(void 0,e),u=!0,a=setTimeout((function(){s&&o.apply(void 0,s),u=!1,s=void 0}),1e3))},cancel:function(){clearTimeout(a),u=!1,s=void 0}}).throttled;return l(),function(e){var t=$(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;Ve.push(t)}(l),function(e){var t=O((function(){"visible"===document.visibilityState&&(i.clearCache(),Ke($e(i),i))})),n=G(document,"visibilitychange",t).stop;Ve.push(n);var r=setInterval(t,6e4);Ve.push((function(){clearInterval(r)}))}(),{getId:function(){return $e(i).id},getTrackingType:function(){return $e(i)[t]},getInMemoryTrackingType:function(){return f[t]},renewObservable:c}}var Ge=/^([a-z]+)=([a-z0-9-]+)$/;function $e(e){var t=function(e){var t=e.get(),n={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||Ge.test(e))}(t)&&t.split("&").forEach((function(e){var t=Ge.exec(e);if(null!==t){var r=t[1],i=t[2];n[r]=i}})),n}(e);return function(e){return(void 0===e.created||Date.now()-Number(e.created)<144e5)&&(void 0===e.expire||Date.now()<Number(e.expire))}(t)?t:(Xe(e),{})}function Ke(e,t){if(n=e,0!==Object.keys(n).length){var n;e.expire=String(Date.now()+Fe);var r=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}(e).map((function(e){return e[0]+"="+e[1]})).join("&");t.set(r,Fe)}else Xe(t)}function Xe(e){e.set("",0)}var Je,Ve=[];function We(e){return 0!==(t=e.sampleRate)&&100*Math.random()<=t?Je.TRACKED:Je.NOT_TRACKED;var t}!function(e){e.NOT_TRACKED="0",e.TRACKED="1"}(Je||(Je={}));var Ye={buildMode:"release",sdkVersion:"3.8.0"};function Ze(e){var t=window.DD_RUM;return t&&t.getInternalContext?t.getInternalContext(e):void 0}var Qe,et,tt,nt=function(e){var t,n,s=!1,a=i(),u={},c=new xe,f=function(e,t){c.add((function(){return f(e,t)}))},v=function(){},g=new Q(y);return t={logger:g,init:O((function(e){(function(e){return s?(e.silentMultipleInit||o.error("DD_LOGS is already initialized."),!1):e&&e.clientToken?!!(void 0===e.sampleRate||(t=e.sampleRate,function(e){return"number"==typeof e}(t)&&t>=0&&t<=100))||(o.error("Sample Rate should be a number between 0 and 100"),!1):(o.error("Client Token is not configured, we will not send any data."),!1);var t})(e)&&(f=function(e,t){var n=function(e,t){var n;n=e.enableExperimentalFeatures,Array.isArray(n)&&(ve||(ve=new Set(n)),n.filter((function(e){return"string"==typeof e})).forEach((function(e){ve.add(e)})));var r=be(e,t);return{configuration:r,internalMonitoring:R(r)}}(e,Ye),i=n.configuration,s=n.internalMonitoring,a=new Se;return!1!==e.forwardErrorsToLogs&&(function(e){(Ee||(Ee=new Se,ke=console.error,console.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=m();C((function(){ke.apply(console,e);var t=(0,r.pi)((0,r.pi)({},Te(e,n)),{source:p,startClocks:se(),handling:l.HANDLED});Ee.notify(t)}))}),Ee).subscribe((function(t){return e.notify(t)}))}(a),Ae(a),function(e,t){var n;Ie().subscribe((function(e){"complete"===e.state&&r(N.XHR,e)})),(Le||(n=new Se((function(){if(window.fetch)return Re(window,"fetch",(function(e){return function(t,r){var i,o=C(Ue,null,[n,t,r]);return o?(i=e.call(this,o.input,o.init),C(je,null,[n,i,o])):i=e.call(this,t,r),i}})).stop})),Le=n),Le).subscribe((function(e){"complete"===e.state&&r(N.FETCH,e)}));function r(n,r){e.isIntakeUrl(r.url)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!function(e){return e.status>=500}(r)||t.notify({message:He(n)+" error "+r.method+" "+r.url,resource:{method:r.method,statusCode:r.status,url:r.url},source:h,stack:ze(r.responseText,e)||"Failed to load",startClocks:r.startClocks})}}(i,a)),function(e,t,n,r,i){n.setExternalContextProvider((function(){return X({session_id:r.getId()},Ze(),{view:{name:null,url:null,referrer:null}})}));var o=function(e,t,n){var r,i,o,s,a,u=(r=V.error,i=t.maxErrorsPerMinute,o=n,s=0,a=!1,{isLimitReached:function(){if(0===s&&setTimeout((function(){s=0}),6e4),(s+=1)<=i||a)return a=!1,!1;if(s===i+1){a=!0;try{o({message:"Reached max number of "+r+"s by minute: "+i,source:d,startClocks:se()})}finally{a=!1}}return!0}});return function(n,r){if(e.isTracked()){var i=X({service:t.service,session_id:e.getId()},r,Ze(),n);if(!(t.beforeSend&&!1===t.beforeSend(i)||i.status===V.error&&u.isLimitReached()))return i}}}(r,e,a),s=function(e){var t,n=r(e.logsEndpointBuilder);function r(t){return new w(new E(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.logsEndpointBuilder)),{add:function(e){n.add(e),t&&t.add(e)}}}(e);function a(e){i.error(e.message,X({date:e.startClocks.timeStamp,error:{kind:e.type,origin:e.source,stack:e.stack}},e.resource?{http:{method:e.resource.method,status_code:e.resource.statusCode,url:e.resource.url}}:void 0,Ze(e.startClocks.relative)))}return t.subscribe(a),function(e,t){var n=o(e,t);n&&s.add(n)}}(i,a,s,function(e,t){if(!t){var n=We(e)===Je.TRACKED;return{getId:function(){},isTracked:function(){return n}}}var r=qe(e.cookieOptions,"logs",(function(t){return function(e,t){var n=function(e){return e===Je.NOT_TRACKED||e===Je.TRACKED}(t)?t:We(e);return{trackingType:n,isTracked:n===Je.TRACKED}}(e,t)}));return{getId:r.getId,isTracked:function(){return r.getTrackingType()===Je.TRACKED}}}(i,function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_"+U(),n="test";ee(t,n,P,e);var r=te(t)===n;return ne(t,e),r}catch(e){return o.error(e),!1}}(i.cookieOptions)),t)}(e,g),v=function(){return K(void 0,e)},c.drain(),s=!0)})),getLoggerGlobalContext:O(a.get),setLoggerGlobalContext:O(a.set),addLoggerGlobalContext:O(a.add),removeLoggerGlobalContext:O(a.remove),createLogger:O((function(e,t){return void 0===t&&(t={}),u[e]=new Q(y,t.handler,t.level,(0,r.pi)((0,r.pi)({},t.context),{logger:{name:e}})),u[e]})),getLogger:O((function(e){return u[e]})),getInitConfiguration:O((function(){return v()}))},n=(0,r.pi)((0,r.pi)({},t),{onReady:function(e){e()}}),Object.defineProperty(n,"_setDebug",{get:function(){return A},enumerable:!1}),n;function y(e){f(e,X({date:Date.now(),view:{referrer:document.referrer,url:window.location.href}},a.get()))}}();Qe=function(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}(),et=nt,tt=Qe["DD_LOGS"],Qe.DD_LOGS=et,tt&&tt.q&&tt.q.forEach((function(e){return re(e,"onReady callback threw an error:")()}))}}]);