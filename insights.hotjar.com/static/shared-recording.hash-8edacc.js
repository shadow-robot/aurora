(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[2489],{25240:(e,t,n)=>{"use strict";n.d(t,{y:()=>p});var i=n(95851),o=n(68212),r=n(16346);const a=n.p+"1ff06c378974f5440569.png";var s=n(91995);const l=(0,i.Z)("div",{target:"e6fzx0g3"})("display:flex;flex-direction:column;align-items:center;position:fixed;top:0;left:0;z-index:9999;width:100vw;height:100vh;justify-content:center;background:",o.TV.BRAND_COLORS.white,";"),c=(0,i.Z)("div",{target:"e6fzx0g2"})({name:"183s86w",styles:"width:500px;display:flex;flex-direction:column;align-items:center;text-align:center"}),d=(0,i.Z)("div",{target:"e6fzx0g1"})({name:"1h7sx2f",styles:"max-width:350px;margin-top:32px"}),u=(0,i.Z)("img",{target:"e6fzx0g0"})("width:80%;margin-bottom:",o.TV.spacer.x3,";"),g=e=>{let{href:t,children:n}=e;return(0,s.tZ)(o.rU,{href:t||"",kind:"inline",isExternal:!0,children:n})},p=()=>{const{t:e}=(0,r.$G)();return(0,s.tZ)(l,{children:(0,s.BX)(c,{children:[(0,s.tZ)(u,{src:a,alt:"Hotjar"}),(0,s.tZ)(o.xv,{as:"h4",textType:"header4",children:e("common:maintenance-page.title")}),(0,s.tZ)(d,{children:(0,s.tZ)(o.xv,{as:"p",textType:"body1",children:(0,s.tZ)(r.cC,{i18nKey:"common:maintenance-page.body",t:e,components:[(0,s.tZ)(g,{href:"https://mobile.twitter.com/hotjar_status"}),(0,s.tZ)(g,{href:"https://status.hotjar.com/"})]})})})]})})}},83419:(e,t,n)=>{"use strict";function i(){var e,t,n,i,o,r,a,s,l,c,d,u,g,p,h,m,b,f,y,_,v,k,x,w;e=window,t=document,"insights.hotjar.com"!==(w=document.location.host)&&((g=w.match(/^(insights-webapp|insights)-(.+)\.(.+)\.eks\.hotjar\.com$/))&&"insights-webapp"===g[1]?(r="staging",p=14,c=w,d=w,l="in-integration.live.eks.hotjar.com",u="ws1-integration.live.eks.hotjar.com",h="static-integration.live.eks.hotjar.com",m="vars-integration.live.eks.hotjar.com",b="surveys-webapp-"+(a=g[2])+".live.eks.hotjar.com",o="https://1f207eb734724d2698fcacdeae569a24@sentry.io/1803150",y="https://vc-staging.hotjar.io/sessions",_=1,v="https://surveystats-staging.hotjar.io/hit",f="https://identify-integration.hotjar.com",k="pacman-content-integration.live.eks.hotjar.com",x="https://pacman-events-integration.live.eks.hotjar.com"):g&&"insights"===g[1]?(r="staging",p=14,c=w,d=w,l="in-"+(a=g[2])+"."+(s=g[3])+".eks.hotjar.com",u="ws1-"+a+"."+s+".eks.hotjar.com",h="static-"+a+"."+s+".eks.hotjar.com",m="vars-"+a+"."+s+".eks.hotjar.com",b="surveys-"+a+"."+s+".eks.hotjar.com",o="https://1f207eb734724d2698fcacdeae569a24@sentry.io/1803150",y="https://vc-staging.hotjar.io/sessions",_=1,v="https://surveystats-staging.hotjar.io/hit",f="https://identify-integration.hotjar.com",k="pacman-content-integration.live.eks.hotjar.com",x="https://pacman-events-integration.live.eks.hotjar.com"):"insights-staging.hotjar.com"===w||"staging.jonathor.com"===w?(r="staging",a="staging",p=14,o="https://1f207eb734724d2698fcacdeae569a24@sentry.io/1803150",l="in-staging.hotjar.com",c="insights-staging.hotjar.com",d="insights-staging.hotjar.com",u="ws1-staging.hotjar.com",h="static-staging.hotjar.com",m="vars-staging.hotjar.com",b="surveys-staging.hotjar.com",y="https://vc-staging.hotjar.io/sessions",_=1,v="https://surveystats-staging.hotjar.io/hit",f="https://identify-integration.hotjar.com",k="pacman-content-integration.live.eks.hotjar.com",x="https://pacman-events-integration.live.eks.hotjar.com"):(r="dev",a="dev",p=14,o=null,l="in.local.hotjar.com:8443",c="local.hotjar.com"+(""!==location.port?":"+location.port:""),d="local.hotjar.com:8443",u="ws.local.hotjar.com:8443",h="static.local.hotjar.com:8443",m="vars.local.hotjar.com:9443",b="surveys.local.hotjar.com",y=null,v=null,f="http://localhost:8000",k="pacman-content-integration.live.eks.hotjar.com",x="https://pacman-events-integration.live.eks.hotjar.com"),e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:p,hjsv:6,host:l,insightsHost:c,insightsApiHost:d,wsHost:u,staticHost:h,varsHost:m,surveysHost:b,errorUrl:o,environment:r,environmentID:a,identifyEndpoint:f,viewCounterEndpoint:y,viewCounterHitPercentage:_,surveyImpressionsEndpoint:v,contentHost:k,eventsHost:x,metricsUrl:"https://pacman-metrics-integration.live.eks.hotjar.com/"},n=t.getElementsByTagName("head")[0],(i=t.createElement("script")).async=1,i.src="https://"+h+"/c/hotjar-"+e._hjSettings.hjid+".js?sv="+e._hjSettings.hjsv,n.appendChild(i))}n.d(t,{l:()=>i})},16998:(e,t,n)=>{"use strict";n.r(t);var i=n(64934),o=n(22198),r=n(66624),a=n(68212),s=n(9779),l=n(97225),c=n(4479),d=n(88610),u=n(26169),g=n(15444),p=n(86781),h=n(1965),m=n(25240),b=n(18219);function f(e){return{site_id:e.site_id,organization_id:e.organization_id,account_id:e.account_id}}const y=(e,t)=>{const n={...f(e),...t};(0,u.track)("Element Clicked",n)},_=(e,t)=>{const n={...f(e),...t};(0,u.track)("Experiment Viewed",n)},v=(e,t,n)=>function(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return b.I.activate(e,t,o).then((o=>(o&&_(n,{experiment_id:e,experiment_target_id:t,variation_id:o,user_id:i&&i.user_id||"unknown"}),o)),(()=>"control"))}(e,`acc-${t.account_id}`,t,n,{account_created:t.account_created}),k=e=>{const{nextRecordingCountdown:t,setCancelledNextRecordingCountdown:n}=e.getState();n(!0),clearTimeout(t)};var x=n(86599),w=n.n(x),T=n(65387);const C="noop",S=(0,T.Z)(((e,t)=>-1===["write","admin"].indexOf(String(e?.user_access))||t),(()=>C)),I=e=>{const{isLightPlayer:t,recording:n}=e.getState();return!(!S.cache.get(C)&&!n)&&S(n,t)};var Z=n(27759),R=n(38967),E=n(43981),P=n(41218),N=n(16431),O=(n(74870),n(31207));class A{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;this.recordingDuration=e;const i=this.toPercent(t);this.minDurationForInactivityInMs=i>1?t:this.toMs(1),this.delayAfterInactivityInMs=2*n<=this.minDurationForInactivityInMs?n:this.minDurationForInactivityInMs/2}generateSectionInfoList=e=>{const t=Object.values(O.S),n=[];let i=0;return e.forEach(((e,o)=>{i=e.time_in_timeline;const r=e.events.filter((e=>t.includes(e.type)));for(const t of r){if(t.time_in_timeline-i>this.minDurationForInactivityInMs){const r={sectionInfoList:n,pageIndex:o,pageVisit:e};this.addInactivitySection(i,t.time_in_timeline,r)}i=t.time_in_timeline}if(e.time_in_timeline+e.duration-i>this.minDurationForInactivityInMs){const t={sectionInfoList:n,pageIndex:o,pageVisit:e};return void this.addInactivitySection(i,e.time_in_timeline+e.duration,t)}const a=e.time_in_timeline+e.duration,s={sectionInfoList:n,pageIndex:o,pageVisit:e};this.addSectionInfo(a,!0,s)})),n};addSectionInfo=(e,t,n)=>{let{sectionInfoList:i,pageIndex:o,pageVisit:r}=n;const a=0===i.length?null:i[i.length-1],s={index:i.length,pageIndex:o,url:r.page_url,tabIndex:r.tab_index,isActive:t};let l;if(a){const t=a.startTimeInMs+a.durationInMs,n=e-t;l={startTimeInMs:t,startTimeInPercent:this.toPercent(t),durationInMs:n,durationInPercent:this.toPercent(n)}}else l={startTimeInMs:0,startTimeInPercent:this.toPercent(0),durationInMs:e,durationInPercent:this.toPercent(e)};i.push({...l,...s})};addInactivitySection=(e,t,n)=>{let{sectionInfoList:i,pageIndex:o,pageVisit:r}=n;const a=Math.max(e,t===r.time_in_timeline+r.duration?t:t-this.delayAfterInactivityInMs);let s=!0;const l={sectionInfoList:i,pageIndex:o,pageVisit:r};this.addSectionInfo(e,s,l),s=!1,this.addSectionInfo(a,s,l)};toPercent=e=>e/this.recordingDuration*100;toMs=e=>e/100*this.recordingDuration}var L=n(30157),M=n(91995);const V=(0,L.O)((function(e){let{organizationName:t,onSubmit:n}=e;const i="Playing recording";return(0,M.BX)(a.u_,{onClose:n,contentLabel:i,isOpen:!0,size:"s",children:[(0,M.tZ)(a.u_.Header,{title:i}),(0,M.BX)(a.u_.Body,{children:[(0,M.BX)("p",{children:["The recording you are about to watch is only accessible by users who have access to"," ",t,"."]}),(0,M.tZ)("p",{children:"The link you are using to watch this recording is a temporary one which will expire within 7 days of the notification email arriving in your inbox."})]}),(0,M.tZ)(a.u_.Footer,{children:(0,M.tZ)(a.zx,{kind:"primary",onClick:()=>n(),children:"Continue"})})]})}));var D=n(34448),B=n(616);const j=()=>!!(0,B.ak)("secure"),z=()=>{const e=document.querySelector("#preview-play");e&&(e.style.display="block",setTimeout((()=>{e.style.display="none"}),400))},H=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{playbackScript:i,currentPageIndex:o,recording:r,startPageContentIdentifier:a,setStartPageContentIdentifier:s,setLastTickTime:l,storeIframeLoadTime:c,setCurrentPageOriginalUrl:d}=e.getState();if(!r||!i)return;i.clearTrail();const u=t||o,g=r.page_visit_recordings[u];l(null),(a!==g.start_page_content_identifier||n)&&(s(g.start_page_content_identifier),c(),i.run(u,g.start_page_content_identifier,a,r.id,r.device,D.hr.getState().currentTime)),d(g.page_url)},$=(0,n(78027).Z)((e=>{const{experimentForcePlaybackVariant:t,recording:n,user:i}=e.getState();n&&t&&_(n,{experiment_id:"ar_player_loading_force_playback",experiment_target_id:`acc-${n.account_id}`,variation_id:t,user_id:i&&i.user_id||"unknown"})})),X=e=>void 0!==e&&e.length>0;function G(e,t,n){"mutation"===e?(X(t.a)&&t.a.forEach((e=>{let{id:t}=e;console.debug(`MUTATION: Removed node ${t}`),console.debug("pageDom.idMap: ",n)})),X(t.b)&&t.b.forEach((e=>{console.debug(`MUTATION: Added or changed node ${e.id}`),console.debug(n),console.debug(e)})),X(t.c)&&t.c.forEach((e=>{let{id:t,attributes:i}=e;console.debug(`MUTATION: Attribute changed for node ${t}`),console.debug(n),console.debug(i)})),X(t.d)&&t.d.forEach((e=>{let{id:t,textContent:i}=e;console.debug(`MUTATION: Text set for node ${t}`),console.debug(n),console.debug(i)}))):(console.debug(`${e}: `),console.debug(t))}const F=(e,t)=>{const{debugAllEvents:n,debugSpecificEvents:i}=e.getState();return n||i.indexOf(t)>-1};function U(e,t){const n=(i=t?t[0]:100,o=t?t[1]:3e3,e=>e<=i&&e>=o);var i,o;return e.every(n)}const W=(e,t)=>{const{playbackScript:n,recording:i}=e.getState();i&&("desktop"===i.device||((e,t,n)=>{const{recording:i}=e.getState();return!!i&&!U(i.window_size)&&U([t,n])})(e,t.w,t.h))&&(i.window_size=[t.w,t.h],n.adjustRecordingWidth(t.w))},q=(e,t,n,i,o)=>{const{startPageContentIdentifier:r,playbackScript:a,setShowCursor:s,recording:l}=e.getState();if(!l)return;const c=l.page_visit_recordings[t].events,d=l.page_visit_recordings[t].window_width||l.page_visit_recordings.find((e=>e.window_width))?.window_width||0;let u,g,p;for(let t=n;t<=i;t++){const n=c[t];if(F(e,n.type)){const e=window.frames[0]?.window?._hjRecording?.pageDom?.idMap[n.id];G(n.type,n,e)}switch(n.type){case"mouse_move":u=n;break;case"mouse_click":g=n;break;case"viewport_resize":p=n}}u&&s(!0),g&&(e=>{const{clickSound:t,recording:n,isMuteClicksActive:i}=e.getState();if(!i&&n&&"desktop"===n.device){const e=t.play();void 0!==e&&e.catch((()=>{}))}})(e),p&&W(e,p),a.sendEventsData(c,d,{page:t,recordingId:l.id,startPageContentIdentifier:r,fromPosition:n,toPosition:i,skipNonMutationEvents:o})};var Y=n(91086),J=n(39269);const K=e=>{const{isLightPlayer:t,isRetakerMode:n,lastTickTime:i,jumpToPause:o,playTickInterval:r,playbackSpeedLogCount:a,playbackSpeedTotalLog:s,timelineJumpToTime:l,isFirstTimelineJump:c,playTickCount:d,recording:u,skipPauses:g,playbackSpeed:p,manuallyPausedOnce:h,setLastTickTime:m,incrementPlayTickCount:b,resetPlaybackSpeedLog:f,incrementPlaybackSpeedLog:y,setFirstTimelineJump:_,setTimelineJumpToTime:v,hasRegisteredFirstTick:k,setHasRegisteredFirstTick:x}=e.getState();if(t||!u||n||!window.datadogRum)return;const{duration:w}=u;if(!g&&!o){if(i){const e=r/p;y(p,performance.now()-i-e)}m(performance.now())}"hidden"===document.visibilityState&&m(null);const T=w/r*.05;if(a[p]>T){const e=`playback_speed_${p.toString().replace(".","")}x_delta_average`,t=s[p]/a[p];window.datadogRum.addAction("playback-speed",{[e]:t}),m(null),f(p)}if(null!==l){const e=Math.floor(performance.now()-l);c&&(_(),window.datadogRum.addAction("first-timeline-jump",{first_timeline_jump:e})),window.datadogRum.addAction("timeline-jump",{timeline_jump:e}),v(null)}if(1===d&&!h&&"visible"===document.visibilityState)if(k){const e=performance.getEntriesByName(J.o.PLAYBACKS_NEXT_RECORDING_FETCH_START)[0],t=Math.floor(performance.now())-Math.floor(e.startTime);(0,Y.fj)({name:J.o.PLAYBACKS_RECORDING_FIRST_TICK,startMark:J.o.PLAYBACKS_NEXT_RECORDING_FETCH_START,extra:{first_tick:t,isFirstRecording:!1}})}else(0,Y.fj)({name:J.o.PLAYBACKS_RECORDING_FIRST_TICK,extra:{first_tick:Math.floor(performance.now()),isFirstRecording:!0}}),x(!0);b()},Q=e=>{const{setOpenWorthWatchingTooltip:t,setOpenWorthWatchingTooltipCountdown:n}=e.getState(),i="worthWatchingTooltipSeen";P.mM.get(i)||(t(!1),n(+setTimeout((()=>t(!0)),500)),P.mM.set(i,!0))},ee=()=>{const e=document.querySelector("#preview-pause");e&&(e.style.display="block",setTimeout((()=>{e.style.display="none"}),400))},te=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{playbackScript:i,playTimeoutId:o,done:r,setManuallyPausedOnce:a,setPlaying:s}=e.getState();r||Q(e),s(!1),a(n),clearTimeout(o),i.pause(),t&&ee()},ne=e=>{const{recordingsList:t,recordingId:n,lowerBound:i,getRecordingIndexById:o}=e.getState();return!!t.length&&o(n)<t.length-1+i};var ie=n(89085),oe=n(75360),re=n(55658);const ae=e=>{window.fetchRecording?e():setTimeout((()=>ae(e)),100)},se={TOP_BAR:"playback-top-menu-wrapper",TIMELINE:"timeline-container",PLAYER_CONTROLS_CONTAINER:"player-controls-container",PLAY_PAUSE_BUTTON:"play-pause-replay-button",PLAYER_TIME_INFO:"time-info",HIGHLIGHTS_REACTIONS_CONTAINER:"highlights-reactions-container",RECORDING_CONTROLS_CONTAINER:"recording-controls-container",RELEVANT_ACTIONS_CONTAINER:"relevant-actions-container",COMMENTS_CONTAINER:"comments-container",SELECTION_TOOLTIP:"control-selection-tooltip",ADDRESS_BAR:"address-bar"},le=Object.keys(se).reduce(((e,t)=>(e[t]=`#${se[t]}`,e)),{}),ce=(e,t)=>{const{playTickInterval:n,playTimeoutId:i,playing:o,recording:r,setShowLoader:a,setDone:s,setShowCursor:l,setLastTickTime:c,setPageToStartProcess:d,setCurrentPageIndex:u,setPosition:g,setJumpToPause:p,setSkipNonMutationEvents:h}=e.getState();if(!r)return;h(!0);let m=t;m<0&&(m=0),m>r.duration&&(m=r.duration),c(null),m<D.hr.getState().currentTime&&Q(e),k(e),a(!0),s(!1),clearTimeout(i);const b=r.page_visit_recordings.findIndex((e=>e.time_in_timeline<=m&&m<=e.time_in_timeline+e.duration)),f=r.page_visit_recordings[b].start_page_content_identifier;let y=b;for(let e=b;e>=0;e--)r.page_visit_recordings[e].start_page_content_identifier===f&&(y=e);d(y),u(b),H(e,y,!0),W(e,{w:r.page_visit_recordings[y].window_width,h:r.page_visit_recordings[y].window_height}),o?(0,D.m1)(m):((0,D.m1)(Math.max(0,m-n)),p(!0)),g(0,0),l(!1),be(e)},de=`\n${le.TOP_BAR},\n${le.SELECTION_TOOLTIP},\n${le.COMMENTS_CONTAINER},\n${le.RELEVANT_ACTIONS_CONTAINER},\n${le.RECORDING_CONTROLS_CONTAINER},\n${le.HIGHLIGHTS_REACTIONS_CONTAINER},\n${le.PLAYER_CONTROLS_CONTAINER}\n  > *:not(${le.PLAYER_TIME_INFO}):not(${le.PLAY_PAUSE_BUTTON})\n{\n  display: none !important;\n}\n\n${le.ADDRESS_BAR} { display: none !important; }\n`,ue=async e=>{const{siteId:t,recordingId:n,isHighlightMode:i,isRetakerMode:o,setDebugEvents:r,setLoaded:a,setPlaybacksOpener:s}=e.getState(),l=(0,B.ak)("opener");l&&(s(l),history.replaceState&&history.replaceState(null,"",location.pathname+location.search.replace(/[?&]opener=[^&]+/,"").replace(/^&/,"?"))),"all"===(0,B.ak)("debug")?r():(0,B.ak)("debug").length&&r((0,B.ak)("debug").split(",")),t&&n?(window.document.title=`Recording ${n}`,o&&(e=>{const t=e.getState(),n=Number((0,B.ak)("startTime")||0),i=document.createElement("style");var o,r;i.innerHTML=de,document.body.appendChild(i),t.setSkipNonMutationEvents(!0),t.setAutoplay(!1),t.setJumpToPause(!0),t.setIsMuteClicksActive(!0),t.setShowSidePanel(!1),o=e=>e.currentTime,r=e=>{const{currentTime:t}=e;try{window.parent.postMessage({event:"hm_retaker_event",payload:{currentTime:t}},window.location.origin)}catch(e){console.error(e)}return e},D.hr.subscribe(o,r),window.addEventListener("recording-loaded",(()=>{const t=e.getState(),i=((e,t)=>({key:"1",time:e,duration:t,url:"",progress_pos:(e/t*100).toFixed(2),type:"heatmap_screenshot",is_highlighted:!1}))(n,t.recording?.duration??0);ce(e,n),t.setShared(!1),t.setWorthWatching(!1),t.setEvents([i],[i],[i]),window.parent.postMessage({event:"hm_retaker_event",payload:{isLoaded:!0}},window.location.origin)}))})(e),ae((()=>Te(e))),await(e=>{const{sharingToken:t,setUser:n}=e.getState();return w().get("/api/v2/users/me",{params:{token:t}}).then((function(e){const t=e.data;t&&(n(t),u.setAnonymizedUserId(t.current_ip),u.setCountryCode(t.country))})).catch(re.X.onError)})(e)):a(),14===t||i||window.injectHotjarTrackingCode()};var ge=n(12964);const pe=async(e,t)=>{try{(0,Y.B1)(J.o.PLAYBACKS_NEXT_RECORDING_FETCH_START);const n=await((e,t)=>{const{siteId:n,removeRecordingFromList:i,getRecordingIdByIndex:o}=e.getState(),r=o(t);function a(){return i(r),Promise.reject("Unable to load the recording")}return function(e){return w().post(`/api/v1/sites/${n}/recordings/${e}`,{action:"exists"}).then((e=>Promise.resolve(e.data))).catch((()=>a()))}(r)})(e,t);if(!n)return;he(e,n)}catch{const{setIsRecordingListOutOfSync:t}=e.getState();t(!0)}},he=(e,t)=>{const{setIsRecordingListOutOfSync:n,siteId:i,user:o}=e.getState();ie.G.incrementWatched(),i&&o?.user_id&&(0,oe.nP)(i,Number(o.user_id)),n(!1);const r=(0,ge.t)(t,"recordings-player");try{window.history.pushState("","",r),(e=>{const{reset:t,recording:n}=e.getState();te(e),k(e),(e=>{const{openWorthWatchingTooltipCountdown:t}=e.getState();null!==t&&clearTimeout(t)})(e),n&&window.iframeController.clearIframesForRecording(n),t(e.getState()),(0,D.Dq)(),ue(e)})(e)}catch{window.location.href=r}},me=e=>{const{recordingId:t,getRecordingIndexById:n}=e.getState();return pe(e,n(t)+1)},be=e=>{const{currentPageIndex:t,playTickInterval:n,playTimeoutId:i,iframeStartLoadTime:o,pageToStartProcess:r,skipNonMutationEvents:a,playbackScript:s,processedPosition:l,currentPosition:c,targetEndTime:d,jumpToPause:u,recording:g,skipPauses:p,playbackSpeed:h,currentPageOriginalUrl:m,startPageContentIdentifier:b,jumpToCallback:f,endCallback:y,playing:_,setPlayTimeoutId:v,setPageToStartProcess:k,setCurrentPageIndex:x,setPosition:w,setJumpToPause:T,setSkipNonMutationEvents:C,setShowLoader:S,setJumpToCallback:I}=e.getState();if(!g)return;if(!_&&!u)return;const Z=g.page_visit_recordings[t],R=Z.events;let E=n/h;if(null===m)return H(e),void v(+setTimeout((()=>be(e)),E));if(!window.playbackModuleHasLoadedThePage&&o&&Date.now()-o>1e3&&(e=>{const{experimentForcePlaybackVariant:t,currentPageIndex:n,playbackScript:i,recording:o,setIsForcingPlayback:r}=e.getState();if(!o)return;if($(e),"variant"!==t)return;r(!0);const a=o.page_visit_recordings[n];i.forcePlayback(o.id,a.start_page_content_identifier)})(e),!window.playbackModuleHasLoadedThePage)return void v(+setTimeout((()=>be(e)),E));if(S(!1),r>=0){const n=g.page_visit_recordings[t];for(let i=r;i<t;i++){if(g.page_visit_recordings[i].start_page_content_identifier!==n.start_page_content_identifier)continue;const t=g.page_visit_recordings[i];q(e,i,0,t.events.length-1,a)}s.clearTrail()}k(-1),K(e);const P=D.hr.getState().currentTime+n;if((0,D.m1)(Math.min(P,g.duration)),p){const t=D.hr.getState(),n=t.sectionInfoList[t.currentSectionIndex];if(n&&!n.isActive){const i=n.startTimeInMs+n.durationInMs+1;K(e),(0,D.m1)(Math.min(i,t.duration))}}let N=!1,O=c;for(let e=l;e<R.length&&R[e].time_in_timeline<=D.hr.getState().currentTime;e++)N=!0,O=e;if(N?(q(e,t,l,O,a),w(O,O+1)):(s.inactiveTick(D.hr.getState().currentTime),p&&(E=0)),d&&D.hr.getState().currentTime>=d&&y&&y(),u)te(e),T(!1);else if(Z.time_in_timeline+Z.duration<=P&&R.length-1<=c)if(t<g.page_visit_recordings.length-1){const n=t+1;x(n),w(-1,0);const o=g.page_visit_recordings[n].start_page_content_identifier;if(b!==o){let t=n;for(let e=n;e>=0;e--)g.page_visit_recordings[e].start_page_content_identifier===o&&(t=e);k(t),H(e,t)}else H(e);W(e,{w:g.page_visit_recordings[n].window_width,h:g.page_visit_recordings[n].window_height}),E?v(+setTimeout((()=>be(e)),E)):(clearTimeout(i),be(e))}else y?y():(e=>{const{isAutoplaying:t,isSharedRecording:n,setNextRecordingCountdown:i,setDone:o,setCancelledNextRecordingCountdown:r,setShowPollUpsell:a}=e.getState();te(e),o(!0),r(!1),ne(e)&&t&&!n?i(+setTimeout((()=>me(e)),8e3)):a(!0)})(e);else E?v(+setTimeout((()=>be(e)),E)):(clearTimeout(i),setTimeout((()=>{be(e)}),0));f&&(f(),I(null)),C(!1)},fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{playbackScript:n,playTimeoutId:i,showCommentMentionsCallout:o,commentMentionsCalloutDisplayed:r,setShowCommentMentionsCallout:a,setLastTickTime:s,setDone:l,setPlaying:c}=e.getState();s(null),k(e),c(!0),l(!1),n.resume(),t&&z(),clearTimeout(i),be(e),o&&r&&a(!1)};var ye=n(3413);var _e=n(61141),ve=n(77508),ke=n(44928);const xe=e=>{const t=window.location.pathname+document.location.search,n=(0,_e.Bv)(ve.PERMISSION_REQUIRED.BASE.path,{siteId:e,next:t});window.location.replace(n)};var we=n(55995);const Te=e=>{const{siteId:t,recordingId:n,sharingToken:i,isLightPlayer:o,isRetakerMode:r,isCypressMode:a,showCommentMentionsCallout:s,setExperimentForcePlaybackVariant:l,setTargetEndTime:c,setEvents:d,setCommentMentionsCalloutDisplayed:u,setRecording:g,setLastFetchedRecordingId:p,setShowCommentMentionsCallout:m,setJumpToCallback:f,setJumpStartEvent:y,setEndCallback:_}=e.getState();if(!window.fetchRecording||!n)return;let k=s;return window.fetchRecording(t,n).then((e=>(e=>{const t=e.window_size[0]||e.page_visit_recordings.find((e=>e.window_width))?.window_width||0,n=e.window_size[1]||e.page_visit_recordings.find((e=>e.window_height))?.window_height||0;return{...e,window_size:[t,n]}})(e))).then((t=>{const{user:n}=e.getState();return Promise.all([b.I.activate("ar_player_loading_force_playback",`acc-${t.account_id}`,{account_created:t.account_created}).then(l),v("ar_new_player_timeline",t,n).then((e=>{"variant1"===e&&N.tagRecording("ar_new_player_timeline")})),v("ar_new_player_controls",t,n).then((e=>{"variant1"===e&&N.tagRecording("ar_new_player_controls")})),v("wf_mentions_callout",t,n).then((e=>{const t="wf_mentions_callout_displayed";"variant1"===e?(k="1"!==Z.Z.get(t),m(k),k&&Z.Z.set(t,"1",{maxAge:2592e3})):Z.Z.remove(t,{})}))]).then((()=>t),(()=>t))})).then((function(n){g(n),p(n.id);const s=window.location.protocol.replace(":","");n.watched||i||o||((e,t)=>{w().post(`/api/v1/sites/${e}/recordings/${t}`,{action:"set_watched"}).then((function(){h.Z.signal("watchingRecording",{recordingId:t},!1)}))})(t,n.id),s!==n.protocol&&(window.location.href=window.location.href.replace(s,n.protocol)),j()&&(async(t,n)=>{try{await V({organizationName:t})}finally{fe(e)}})(n.organization_name),(0,D.m1)(0),(o||a)&&(console.log("setting up Selenium Controls"),window.seleniumControls={jumpTo:function(t){console.log(`calling jumpTo method with targetTime ${t}`);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const r=Array.from(i).pop();r&&f((()=>{console.log("jumpTo method finished"),r()})),ce(e,t)},playTo:function(t){console.log(`calling playTo method with targetEndTime ${t}`);const n=Array.from(arguments).pop();c(t),_((()=>{console.log("playTo method finished"),n(),te(e)})),fe(e)}}),o||r?P.mM.set("playbacksSkipPauses",!1):window.datadogRum&&window.datadogRum.addRumGlobalContext("playback",{account_id:n.account_id,recording_id:n.id});const l=[],m=[],b=[],v=(0,R.Z)(n.event_markers,"time");let x=null;v.forEach(((e,t,n)=>{const i={...e,key:`${t}`};"scroll"!==i.type&&("page"===i.type&&(!1===i?.is_new_tab&&x&&(i.is_visited_tab=i.tab_index!==n[x].tab_index),x=t),"page"!==i.type&&l.push(i),i.is_highlighted&&m.push(i),"error"!==i.type&&b.push(i))})),d(m,l,b),(0,E.Z)(n.jumpstart_to_index)||n.event_markers&&n.event_markers.length>n.jumpstart_to_index+1&&y(n.event_markers[n.jumpstart_to_index]);const T=new A(n.duration);(0,D.cC)(T.generateSectionInfoList(n.page_visit_recordings)),(0,D._F)(n.duration),(0,D.LQ)(n.tab_count),(e=>{const{autostart:t,isHighlightMode:n,filterEvents:i,isScreenshotMode:o,playbackScript:r,isHtmlReportMode:a,openedCommentId:s,isJumpStartActive:l,jumpStartEvent:c,setLoaded:d,setPlaying:u,openConsole:g}=e.getState();if(t&&!j()&&!s){const t=(0,B.ak)("startTime")||0;t>0?(n||u(!0),ce(e,+t)):n||fe(e)}if(d(),l){const t=function(e,t){const n=!!(e&&e.time>5e3);if(n){const n=Math.max(0,e.time-5e3);n>0&&setTimeout((()=>t(n)),0)}return n}(c,ce.bind(null,e));t&&0===i.findIndex((e=>"error"===e.type))&&(g(i.find((e=>"error"===e.type)).time),(0,we.event)("Console Opened"))}if(window.dispatchEvent(new CustomEvent("recording-loaded")),o){const t=()=>{setTimeout((()=>{te(e)}),0)};r.onInactiveTickDone((()=>{r.retrieveHtml(),t()})),r.onRetrieveHtmlResponse((e=>{const t=e;window._hjReplaceDocument=function(){document.write(t)},window._hjReplaceDocumentV2=function(){const e=document.querySelector("#content-iframes .active");if(!e||!e.contentDocument)return;const t=e.contentDocument.body.parentNode,n=window.document.body.parentNode;[...t.attributes].forEach((e=>{n.setAttribute(e.nodeName,e.nodeValue||"")})),window.document.head.replaceWith(e.contentDocument.head),window.document.body.replaceWith(e.contentDocument.body)},window._hjContentLoaded=!0,a&&window.parent.postMessage({event:"html_background_data",payload:t},window.location.origin)})),r.onEventsProcessed((n=>{let{page:i,toPosition:o}=n;const{currentPageIndex:a,currentPosition:s}=e.getState();i===a&&o===s&&(r.retrieveHtml(),t())}))}})(e),k&&(te(e,!0),u()),(e=>{const{siteId:t,sharingToken:n,setHasNoIncomingFeedback:i}=e.getState();return I(e)?Promise.resolve():w().get(`/api/v1/sites/${t}/feedback/count`,{params:{token:n}}).then((e=>{void 0!==e.data&&0===e.data.count&&i()}))})(e).then((()=>(e=>{const{hasNoIncomingFeedback:t,user:n,setShowFeedbackPrompt:i}=e.getState();if(!n||!n.user_id||I(e)||!t)return;const o=Number(P.mM.get("playbackFeedbackPromptInitTime"));var r;o&&(r=o,(0,ye._)().diff((0,ye._)(r))/864e5<7)?i(!0):o?i(!1):(P.mM.set("playbackFeedbackPromptInitTime",Date.now()),i(!0))})(e)))})).catch((e=>{if(!window.iframeController||!window.iframeController.getError())throw((e,t)=>{e&&(451===e.status&&(window.location.href="https://www.hotjar.com/451"),401===e.status&&(0,ke.Vl)(t)?(0,ke.M1)():[401,403,404,500,502].includes(e.status)&&xe(t))})(e.response,t),e}))},Ce=(e,t)=>{const{recording:n}=e.getState();if(!n)return;const i=D.hr.getState().currentTime;i>0&&ce(e,Math.min(i+t,n.duration))},Se=e=>{const{recordingsList:t,recordingId:n,getRecordingIndexById:i}=e.getState();return!!t.length&&0!==i(n)},Ie=e=>{const{recording:t}=e.getState();t&&y(t,{element_name:"shared_recording_create_feedback_btn",ui_position:"Feedback upsell in Recording end modal"})},Ze={"feedback.sentiment.e:4":"incoming_love","feedback.sentiment.e:3":"incoming_like","feedback.sentiment.e:2":"incoming_neutral","feedback.sentiment.e:1":"incoming_dislike","feedback.sentiment.e:0":"incoming_hate"},Re=(e,t)=>{const{setTimelineJumpToTime:n}=e.getState(),i=t.name??"";n(performance.now()),t?.name?.startsWith("feedback")&&((t={...t}).name=function(e){const t=e.match(/^(feedback\.sentiment\.e:[0-4]{1})/gm);if(!t)return e;const n=t[0];return Ze[n]}(t.name||"")||""),((e,t,n,i)=>{const{recording:o}=e.getState();if(!o)return;const r=t<D.hr.getState().currentTime?"backward":"forward";y(o,{element_name:`playback_jumped_${r}`,state_event_was_triggered_on:"playback.player_navigation",ui_position:`clicked_on_event_sidebar-${n??i}`})})(e,t.time,i,t.type),ce(e,t.time)},Ee=e=>{const{recordingId:t,getRecordingIndexById:n}=e.getState();return pe(e,n(t)-1)},Pe=e=>{const{setPlaying:t}=e.getState();t(!0),ce(e,0)},Ne=(e,t)=>{const n=D.hr.getState().currentTime;n>0&&ce(e,Math.max(n-t,0))},Oe=e=>{const{isAutoplaying:t}=e.getState();P.mM.set("playbacksAutoplay",t),t||k(e)},Ae=e=>{const{skipPauses:t,setLastTickTime:n}=e.getState();n(null),P.mM.set("playbacksSkipPauses",t)},Le=e=>{const{playbackScript:t,playTimeoutId:n,playbackSpeed:i,playing:o,setPlaybackSpeed:r}=e.getState(),a=[1,2,4,.5],s=a.indexOf(i),l=a[(s+1)%a.length];r(l),P.mM.set("playbacksPlaybackSpeed",l),t.adjustSpeed(l),o&&(n&&clearTimeout(n),be(e))},Me=(e,t)=>{const{loaded:n,done:i,playing:o,recording:r}=e.getState();if(!i)if("key"in t)o?te(e,!0):fe(e,!0);else{let i;if(n&&t){const e=document.querySelector("#content-iframes .active");if(e&&e.contentDocument){const n=e.getBoundingClientRect(),o=t.pageX,r=t.pageY,a=o-n.x,s=r-n.y,l=a/(n.width/e.offsetWidth),c=s/(n.height/e.offsetHeight);i=e.contentDocument.elementFromPoint(l,c)}}i&&i.src===document.location.origin+"/static/playbacks/html/iframe-content-blocked.html"?(te(e,!0),r&&y(r,{element_name:"playback_blocked_iframe_learn-more",ui_position:"playback_blocked_iframe_overlay-copy"}),window.open("https://help.hotjar.com/hc/en-us/articles/115011624347","_blank","noopener")):o?te(e,!0):fe(e,!0)}},Ve=(e,t)=>{const{setShowSidePanel:n}=e.getState();n(t),P.mM.set("playbackShowSidePanel",t)},De=(e,t)=>{const{isWorthWatching:n,done:i,recording:o,setWorthWatching:r}=e.getState();let a;a=!0===t?"upvoted":!1===t?"downvoted":!0===n?"removed_upvote":"removed_downvote";const s=D.hr.getState().currentTime;o&&((e,t)=>{const n={...f(e),...t};(0,u.track)("Recording Feedback Left",n)})(o,{recording_id:o.id,ui_position:i?"recording_end_screen":"recording_header",point_in_timeline_seconds:Math.round(s/1e3),point_in_timeline_playback_percentage:Math.round(s/o.duration*100),feedback_given:a}),r(!!t),t?(N.tagRecording("rated_recording_worth_watching"),N.trigger("rated_recording_thumbs_up")):t||(N.tagRecording("rated_recording_not_worth_watching"),N.trigger("rated_recording_thumbs_down"))};var Be=n(72033);const je=(0,i.createContext)(null),ze=()=>(0,i.useContext)(je),He=()=>(0,i.useContext)(je).getState(),$e=(e,t)=>(0,i.useContext)(je)(e,t||Be.Z),Xe=e=>{let{store:t,children:n}=e;return(0,M.tZ)(je.Provider,{value:t,children:n})},Ge=(e,t,n)=>{const[o,r]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if(!e)return;if(document.querySelector(".top-menu"))return void r(!0);const t=new MutationObserver((e=>{e.some((e=>{let t=!1;return e.addedNodes.forEach((e=>{t||(t=e.classList?.contains("top-menu"))})),t}))&&(r(!0),t.disconnect())}));t.observe(document.body,{childList:!0,subtree:!0})}),[e]),(0,i.useEffect)((()=>{document.body.classList.toggle("done",t),document.body.classList.toggle("readonly",n),document.body.classList.toggle("loaded",e);const i=document.getElementById("fake-recording-player");e&&o&&i&&(i.style.opacity="0")}),[o,e,t,n])};var Fe=n(95851),Ue=n(88842),We=n(16346);const qe=(0,Fe.Z)(a.hU,{target:"e1gjh2mr0"})("svg{fill:",a.TV.BRAND_COLORS.ember_700,";}"),Ye=(e,t)=>{e&&y(e,{element_name:t,state_event_was_triggered_on:"playback.player_header",ui_position:"clicked_icon",url_event_was_triggered_on:window.location.href})},Je=e=>e.preventDefault(),Ke=()=>Boolean(document.referrer&&document.referrer.match(/https?:\/\/.*hotjar.com(\/.*|$)/)&&!document.referrer.includes("/r?")&&!document.referrer.includes("/login/mfa/")),Qe=e=>Ke()?document.referrer:(0,_e.Bv)(ve.PLAYBACKS.LIST.path,{siteId:e||""}),et=e=>{let{isDisabled:t,isLoggedIn:n,recording:i}=e;const{t:o}=(0,We.$G)(),r=i?.site_id;return n?(0,M.tZ)(a.hU,{as:"a",size:"s","data-testid":"button-back",href:t?"":Qe(r),onClick:t?Je:()=>{Ye(i,"back_icon-all_recordings"),window.location.href=Qe(r)},icon:"arrow_left_alone",kind:"ghost",tooltipText:Ke()?o("common:recordings.player.go-back"):o("common:recordings.player.all-recordings"),description:Ke()?o("common:recordings.player.go-back"):o("common:recordings.player.all-recordings")}):(0,M.tZ)(qe,{as:"a","data-testid":"button-sign-in",href:"/",size:"s",onClick:t?Je:()=>{Ye(i,"Hotjar_logo-go_to_hotjar_app"),window.location.href="/"},icon:"hotjar",kind:"ghost",tooltipText:o("common:recordings.player.go-to-hotjar"),description:o("common:recordings.player.go-to-hotjar")})};var tt,nt=n(66900);!function(e){e.DELETED_RECORDING_SIGNED_IN="deletead-recording-signed-in",e.DELETED_RECORDING_SIGNED_OUT="deleted-recording-signed-out",e.DEFAULT_SIGNED_IN="default-signed-in",e.DEFAULT_SIGNED_OUT="default-signed-out"}(tt||(tt={}));const it={icon:"warning_alt",onButtonClick:()=>{window.location.href="/"}},ot={[tt.DELETED_RECORDING_SIGNED_IN]:{...it,title:"common:recordings.player.error-page.deleted-recording-signed-in.title",subtitle:"common:recordings.player.error-page.deleted-recording-signed-in.subtitle",buttonText:"common:recordings.player.error-page.deleted-recording-signed-in.buttonText"},[tt.DELETED_RECORDING_SIGNED_OUT]:{...it,title:"common:recordings.player.error-page.deleted-recording-signed-out.title",subtitle:"common:recordings.player.error-page.deleted-recording-signed-out.subtitle",buttonText:"common:recordings.player.error-page.deleted-recording-signed-out.buttonText"},[tt.DEFAULT_SIGNED_IN]:{...it,title:"common:recordings.player.error-page.default-signed-in.title",subtitle:"common:recordings.player.error-page.default-signed-in.subtitle",buttonText:"common:recordings.player.error-page.default-signed-in.buttonText"},[tt.DEFAULT_SIGNED_OUT]:{...it,title:"common:recordings.player.error-page.default-signed-out.title",subtitle:"common:recordings.player.error-page.default-signed-out.subtitle",buttonText:"common:recordings.player.error-page.default-signed-out.buttonText"}},rt=e=>!(!e||"object"!=typeof e||!Object.prototype.hasOwnProperty.call(e,"response")),at=(0,Fe.Z)("div",{target:"e1056byk2"})("display:flex;flex-direction:column;position:absolute;top:0;left:0;bottom:0;right:0;padding-bottom:56px;background-color:",a.TV.BRAND_COLORS.midnight_600,";"),st=(0,Fe.Z)("div",{target:"e1056byk1"})({name:"18hn3ya",styles:"display:flex;align-items:center;height:55px;padding:0 16px;text-align:initial"}),lt=(0,Fe.Z)("div",{target:"e1056byk0"})("display:flex;align-items:center;height:100%;margin:0 4px;background-color:",a.TV.BRAND_COLORS.neutral_900,";border-radius:4px;white-space:break-spaces;"),ct=e=>{let{error:t}=e;const{t:n}=(0,We.$G)();if(Ge(!0,!0,!1),(0,i.useEffect)((()=>{document.body.classList.add("side-panel-disabled"),document.body.classList.add("playlist-disabled")}),[]),(e=>{const t=e.response?.status;return!!(rt(e)&&t&&[401,403,451].includes(t))})(t))return(e=>{const t=e.response?.status,n=(0,B.EZ)();451===t&&(window.location.href="https://www.hotjar.com/451"),401===t&&(0,ke.Vl)(n)&&(0,ke.M1)(),xe(n)})(t),null;const o=(e=>{if(rt(e)){const t=e.response?.status;if(404===t)return(0,nt.v9)()?ot[tt.DELETED_RECORDING_SIGNED_IN]:ot[tt.DELETED_RECORDING_SIGNED_OUT]}return(0,nt.v9)()?ot[tt.DEFAULT_SIGNED_IN]:ot[tt.DEFAULT_SIGNED_OUT]})(t),{title:r,subtitle:a,buttonText:s,onButtonClick:l,icon:c,recording:d,isLoggedIn:u=!1}=o;return(0,M.BX)(at,{children:[(0,M.tZ)(st,{children:(0,M.tZ)(et,{isDisabled:!1,isLoggedIn:u,recording:d})}),(0,M.tZ)(lt,{children:(0,M.tZ)(Ue.u,{title:n(r),subtitle:n(a),buttonText:n(s),buttonKind:"primary",onButtonClick:l,icon:c,colorsInversed:!0})})]})};var dt=n(60570);const ut="error-capturing-consent-ua-added",gt="opener",pt={HIGHLIGHT:"highlight",INCOMING_FEEDBACK_RESPONSE:"incoming-feedback-response",SURVEY_RESPONSE:"survey-response",FUNNELS:"funnels"},ht=()=>{const[e,t]=(0,i.useState)(!0),{t:n}=(0,We.$G)();return e?(0,M.tZ)(a.jL,{isDismissible:!0,kind:"warning",onDismiss:()=>t(!1),children:n("activation:autogenerated-recording.disclaimer")}):null},mt=()=>window.location.pathname+window.location.search;var bt=n(12975),ft=n.n(bt),yt=n(33474),_t=n(73646),vt=n(10869);const kt=yt.F4`
 0%,
 75% {
   opacity: 0.8;
 }

 25% {
   opacity: 0.9;
 }

 50% {
   opacity: 1;
 }

 100% {
   opacity: 0.7;
 }
`,xt=(0,Fe.Z)("span",{target:"e11h3o0w0"})(">*{animation:",(e=>{let{isAnimating:t}=e;return t?(0,yt.iv)(kt," ",.4,"s;",""):"none"}),";}");function wt(e,t){return n=>{const[o,r]=(0,i.useState)(!1);return(0,vt.y)(t,(()=>{r(!0),setTimeout((()=>r(!1)),400)})),(0,M.tZ)(xt,{isAnimating:o,children:(0,M.tZ)(e,{...n})})}}let Tt;!function(e){e.PLAY_PAUSE="space, k",e.PLAYBACK_SPEED="i",e.SKIP_ALL_PAUSES="o",e.REPLAY="r",e.REWIND="left",e.SKIP="right",e.GO_TO_PREVIOUS_RECORDING="shift+p",e.GO_TO_NEXT_RECORDING="shift+n",e.GO_TO_PREVIOUS_CHAPTER="shift+left",e.GO_TO_NEXT_CHAPTER="shift+right",e.SIDEPANEL_TOGGLE="h",e.SHOW_SHORTCUTS_LEGEND="shift+/, /, ?",e.AUTOPLAY_TOGGLE="p",e.ADD_COMMENT="c",e.SHARE="s",e.SKIP_CURRENT_PAUSE="s",e.DELETE_RECORDING="d"}(Tt||(Tt={}));const Ct=e=>{let{recording:t,hasNextRecording:n,hasPreviousRecording:i,isNewHighlightsOn:o,isTokenShared:r,isReadOnly:s,isSkippingAllPauses:l,skipPauses:c,jumpTo:d,onSkipCurrentInactivity:g,onPlayPauseToggle:p,onPlaybackSpeedToggle:h,onSkipPausesToggle:m,onExpandCollapseToggle:b,onReplay:_,onForward:v,onRewind:k,onNext:x,onPrevious:w,onNewComment:T,onDelete:C,onAutoplayToggle:S,onShortcutsModalToggle:I}=e;const{showToast:Z}=(0,a.d$)(),{t:R}=(0,We.$G)();return(0,vt.y)(Tt.PLAY_PAUSE,(e=>{document.activeElement instanceof HTMLElement&&document.activeElement!==document.body&&document.activeElement.blur(),p(e)}),{},[p]),(0,vt.y)(Tt.PLAYBACK_SPEED,(()=>{h()}),{},[h]),(0,vt.y)(Tt.SKIP_ALL_PAUSES,(()=>{m(),y(t,{element_name:"playback_toggled_skip_inactivity_"+(c?"ON":"OFF"),state_event_was_triggered_on:"playback.player_settings",ui_position:"used_keyboard_shortcut"}),Z({kind:"success",text:c?"Skip all inactivity enabled":"Skip all inactivity disabled"})}),[m,t]),(0,vt.y)(Tt.REPLAY,(()=>{_()}),{},[_]),(0,vt.y)(Tt.REWIND,(()=>{y(t,{element_name:"playback_jumped_backward",state_event_was_triggered_on:"playback.player_navigation",ui_position:"used-keyboard-shortcut_10s-rewind"}),k(1e4)}),{},[k,t]),(0,vt.y)(Tt.SKIP,(()=>{y(t,{element_name:"playback_jumped_forward",state_event_was_triggered_on:"playback.player_navigation",ui_position:"used-keyboard-shortcut_10s-fast-forward"}),v(1e4)}),{},[v,t]),(0,vt.y)(Tt.SIDEPANEL_TOGGLE,(()=>{b()}),{},[b]),(0,vt.y)(Tt.SHOW_SHORTCUTS_LEGEND,(()=>{I(),(e=>{const t={...f(e),modal_name:"playback_shortcuts_legend",modal_version:"shortcuts_legend",state_event_was_triggered_on:"playback.player",ui_position:"playback_used-keyboard-shortcut"};(0,u.track)("Modal Loaded",t)})(t)}),{},[I,t]),(0,vt.y)(Tt.GO_TO_PREVIOUS_CHAPTER,(()=>{const e=D.hr.getState();if(0===e.sectionInfoList[e.sectionInfoList.length-1].pageIndex)return void Z({kind:"info",text:R("common:player.shortcuts.notification-messages.only-one-page")});let n=e.currentPageIndex-1;-1===n&&e.currentTime>1e3&&(n=0);const i=e.sectionInfoList.find((e=>e.pageIndex===n));if(!i)return void Z({kind:"info",text:R("common:player.shortcuts.notification-messages.no-prev-page")});const o=i.startTimeInMs-100;d(o),y(t,{element_name:"playback_jumped_backward",state_event_was_triggered_on:"playback.player_navigation",ui_position:"used-keyboard-shortcut_previous-page-chapter"})}),{},[d,t]),(0,vt.y)(Tt.GO_TO_NEXT_CHAPTER,(()=>{const e=D.hr.getState();if(0===e.sectionInfoList[e.sectionInfoList.length-1].pageIndex)return void Z({kind:"info",text:R("common:player.shortcuts.notification-messages.only-one-page")});const n=e.currentPageIndex+1,i=e.sectionInfoList.find((e=>e.pageIndex===n));if(!i)return void Z({kind:"info",text:R("common:player.shortcuts.notification-messages.no-next-page")});const o=i.startTimeInMs+100;d(o),y(t,{element_name:"playback_jumped_forward",state_event_was_triggered_on:"playback.player_navigation",ui_position:"used-keyboard-shortcut_next-page-chapter"})}),{},[d,t]),(0,vt.y)(Tt.GO_TO_PREVIOUS_RECORDING,(()=>{r||(i?w():Z({kind:"info",text:R("common:player.shortcuts.notification-messages.no-prev-recording")}),y(t,{element_name:"playback_went_to_previous_recording",state_event_was_triggered_on:"playback.player_navigation",ui_position:"used_keyboard_shortcut-previous_recording"}))}),{enabled:!r},[i,w,t,r]),(0,vt.y)(Tt.GO_TO_NEXT_RECORDING,(()=>{r||(n?x():Z({kind:"info",text:R("common:player.shortcuts.notification-messages.no-next-recording")}),y(t,{element_name:"playback_went_to_next_recording",state_event_was_triggered_on:"playback.player_navigation",ui_position:"used_keyboard_shortcut-next_recording"}))}),{enabled:!r},[n,x,t,r]),(0,vt.y)(Tt.AUTOPLAY_TOGGLE,(()=>{S()}),{enabled:!r},[S,r]),(0,vt.y)(Tt.ADD_COMMENT,(()=>{r||(T(),o&&y(t,{element_name:"player_keyboard_shortcut",state_event_was_triggered_on:"playback.player",ui_position:"used_keyboard_shortcut-save_clip_highlights",url_event_was_triggered_on:window.location.href}))}),{enabled:!r,keyup:!0},[T,r]),(0,vt.y)(Tt.DELETE_RECORDING,(()=>{r&&s||C()}),{enabled:!r||!s},[C,r,s]),(0,vt.y)(Tt.SKIP_CURRENT_PAUSE,(()=>{g(),y(t,{element_name:"skip_single_period_of_inactivity",state_event_was_triggered_on:"playback.player_navigation",ui_position:"used_keyboard_shortcut"})}),{enabled:!l},[g,t]),null},St=(0,i.memo)(Ct),It=e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(a.hU,{size:"s",icon:"previous",tooltipText:i("common:player.previous-button"),description:i("common:player.previous-button"),kind:"ghost",isDisabled:n,onClick:t,"data-testid":"recording-previous-button"})};It.defaultProps={disabled:!1},It.propTypes={onClick:ft().func.isRequired,disabled:ft().bool};const Zt=wt((0,i.memo)(It),Tt.GO_TO_PREVIOUS_RECORDING),Rt=e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(a.hU,{buttonStyles:{marginLeft:`-${a.TV.spacer.x1pt5}`},size:"s",icon:"next",tooltipText:i("common:player.next-button"),description:i("common:player.next-button"),kind:"ghost",isDisabled:n,onClick:t,"data-testid":"recording-next-button"})};Rt.defaultProps={disabled:!1},Rt.propTypes={onClick:ft().func.isRequired,disabled:ft().bool};const Et=wt((0,i.memo)(Rt),Tt.GO_TO_NEXT_RECORDING);var Pt=n(39283);const Nt=(0,Fe.Z)(a.hU,{target:"e1nf627k0"})((e=>{let{isExpanded:t}=e;return t&&`\n      &, &:hover {\n       background: ${a.TV.color.cobalt_200};\n       border-radius: ${a.TV.radius.m};\n      }\n    `}),";"),Ot=e=>{let{isExpanded:t,onClick:n,disabled:i}=e;const{t:o}=(0,We.$G)(),r=o(t?"common:player.expand-sidebar":"common:player.collapse-sidebar");return(0,M.tZ)(Nt,{size:"s",icon:"info",tooltipText:r,description:r,kind:"ghost",isDisabled:i,onClick:n,isExpanded:!t})};Ot.defaultProps={disabled:!1},Ot.propTypes={isExpanded:ft().bool.isRequired,onClick:ft().func.isRequired,disabled:ft().bool};const At=wt((0,i.memo)(Ot),Tt.SIDEPANEL_TOGGLE),Lt=e=>{let{onClick:t,disabled:n=!1}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(a.zx,{onClick:t,"data-testid":"share-recording",icon:"share",size:"s",isDisabled:n,children:i("common:player.share")})};Lt.defaultProps={disabled:!1},Lt.propTypes={onClick:ft().func.isRequired,disabled:ft().bool};const Mt=(0,i.memo)(Lt),Vt=e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(a.hU,{size:"s",tooltipText:i("common:player.delete-recording"),description:i("common:player.delete-recording"),icon:"trash",kind:"ghost",onClick:t,isDisabled:n,"data-testid":"delete-recording"})},Dt=wt((0,i.memo)(Vt),Tt.DELETE_RECORDING);var Bt=n(8979),jt=n(6786),zt=n(84403);const Ht=(0,Fe.Z)("button",{target:"e1c5s4x41"})(a.TV.transition("background-color"),";",a.TV.elevation(0),";height:32px;width:32px;cursor:pointer;background:transparent;outline:0;border:none;border-radius:",a.TV.radius.m,";display:flex;align-content:center;align-items:center;justify-content:center;&[disabled]{opacity:0.25;}&:focus{",a.TV.focus(),";}&:active{",a.TV.elevation(-1),";}&:hover,&:active{background-color:",a.TV.color.bg_hover,";}"),$t=(0,Fe.Z)(Bt.E.div,{target:"e1c5s4x40"})({name:"1uaeqxe",styles:"display:flex;align-content:center;align-items:center"}),Xt=e=>{let{answer:t=null,onAnswerChange:n,isLoading:i,openTooltip:o,disabled:r}=e;const{t:s}=(0,We.$G)();let l;const c={variants:{hide:{opacity:0,scale:.5},show:{opacity:1,scale:1},highlight:{opacity:.7}},initial:"hide",animate:"show",exit:{duration:0},whileHover:"highlight"};return l=!0===t?(0,M.tZ)($t,{...c,children:(0,M.tZ)(a.JO,{icon:"thumbs_up"},"thumbs-up")},"thumbs-up"):!1===t?(0,M.tZ)($t,{...c,children:(0,M.tZ)(a.JO,{icon:"thumbs_down"},"thumbs-down")},"thumbs-down"):(0,M.tZ)($t,{variants:{hide:{opacity:0,scale:.5},show:{opacity:1,scale:1},highlight:{opacity:.83}},initial:"hide",animate:"show",exit:{duration:0},whileHover:"highlight",children:(0,M.tZ)(a.JO,{icon:"thumbs_up_down"},"thumbs-up-down")},"thumbs-up-down"),(0,M.tZ)(zt.Jz,{questionLabel:s("common:player.thumbs-up-down.body.question"),thumbsUpLabel:s("common:player.thumbs-up-down.body.thumbs-up-label"),thumbsDownLabel:s("common:player.thumbs-up-down.body.thumbs-down-label"),answer:t,onAnswerChange:n,footer:(0,M.tZ)(zt.mZ,{text:s("common:player.thumbs-up-down.footer.message"),href:"https://help.hotjar.com/hc/en-us/articles/115011647627-Recordings-Player-Guide#URL-rating"}),distance:26,isLoading:i,placement:"bottom-end",callOpenTooltipOnce:o,children:(0,M.tZ)(Ht,{type:"button","data-testid":"thumbs-up-down",disabled:r,children:(0,M.tZ)(jt.M,{initial:!1,exitBeforeEnter:!0,children:l})})})};Xt.defaultProps={answer:null,isLoading:!1,openTooltip:!1,disabled:!1},Xt.propTypes={answer:ft().bool,onAnswerChange:ft().func.isRequired,isLoading:ft().bool,openTooltip:ft().bool,disabled:ft().bool};var Gt=n(15773),Ft=n(67933);const Ut=(0,Fe.Z)("div",{target:"e155g1t70"})("margin-bottom:",a.TV.spacer.x2,";"),Wt=e=>{const[t,n]=(e=>{const t=e.split(":"),[n,i]=t;return[parseInt(n,10)||0,parseInt(i,10)||0]})(e);return 1e3*(60*t+n)};function qt(e){return Number.isInteger(Number(e))&&Number(e)>=0}var Yt={name:"1r5gb7q",styles:"display:inline-block"},Jt={name:"1azakc",styles:"text-align:center"},Kt={name:"13ygm4d",styles:"flex-shrink:0;text-transform:unset;margin:0;align-items:center"},Qt={name:"zjik7",styles:"display:flex"},en={name:"1akymmz",styles:"width:566px"};const tn=e=>{let{isOpen:t,isShared:n,onClose:o,recording:r,startAt:s=!0,onShare:l,isPlaying:c,play:d,pause:g,uiPosition:p}=e;const{t:h}=(0,We.$G)(),{showToast:m}=(0,a.d$)(),[b,y]=(0,i.useState)((0,Gt.G)(D.hr.getState().currentTime)),[_,v]=(0,i.useState)(n),[k,x]=(0,i.useState)(s),[w,T]=(0,i.useState)(!1);(0,i.useEffect)((()=>{v(n)}),[n,v]),(0,i.useEffect)((()=>{c&&t&&g?(g(),T(!0)):w&&!t&&d&&(d(),T(!1))}),[r,t,d,g,c,w]),(0,i.useEffect)((()=>{t&&y((0,Gt.G)(D.hr.getState().currentTime))}),[t]);const C=h("common:share-recording.share-recording-error"),S=(0,i.useCallback)((e=>{(async e=>{let{recording:t,showToast:n,onSuccess:i,onError:o,errorMessage:r}=e;N.tagRecording("share_toggle");try{200===(await(0,Ft.Xe)(t.site_id,t.id)).status?i():(n({text:r,kind:"danger"}),o())}catch(e){n({text:r,kind:"danger"}),o()}})({recording:r,showToast:m,onSuccess:()=>l("true"===e),onError:()=>l("true"===e),errorMessage:C})}),[m,r,l,C]);if(!t)return null;const I=Wt(b),Z=(e=>{let{recording:t,shared:n,startAt:i,startAtTime:o}=e;const{url:r,public_url:a}=t,s=a.slice(r.length);return`${r}${i?`&startTime=${o}`:""}${n?`${s}`:""}`})({recording:r,shared:_,startAt:k,startAtTime:I});return(0,M.BX)(a.u_,{contentLabel:h("common:share-recording.share-recording-title"),isOpen:t,onClose:o,onAfterOpen:()=>{((e,t)=>{const n={...f(e),modal_name:"playback_sharing_modal",modal_version:"playback_sharing_modal",state_event_was_triggered_on:"playback.player",ui_position:t};(0,u.track)("Modal Loaded",n)})(r,p)},onAfterClose:()=>{},shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,size:"s",css:en,children:[(0,M.tZ)(a.u_.Header,{title:h("common:share-recording.share-recording-title")}),(0,M.BX)(a.u_.Body,{children:[(0,M.tZ)(Ut,{children:(0,M.tZ)(a.oi,{id:"share_url",name:"share_url",value:Z,placeholder:"Placeholder",isReadonly:!0,actionContent:(0,M.tZ)(a.Fh,{onCopy:()=>{},toCopy:Z,description:"Copy url"})})}),(0,M.BX)(Ut,{css:Qt,children:[(0,M.tZ)(a.XZ,{id:"start_at",name:"start_at",value:"true",css:Kt,labelContent:(0,M.tZ)("span",{children:h("common:share-recording.start-at")}),isChecked:k,onChange:()=>x(!k)}),(0,M.tZ)(a.oi,{inputStyles:Jt,css:(0,yt.iv)("margin-left:",a.TV.spacer.x1,";width:76px;",""),size:"s",id:"share_time",name:"share_time",isDisabled:!k,onChange:e=>{const t=(e=>{const t=e.split(":");if(2!==t.length)return!1;const[n,i]=t;return!(i.length>2||!qt(n)||!qt(i))})(e.target.value);t&&Wt(e.target.value)>r.duration?y((0,Gt.G)(r.duration)):t&&y(e.target.value)},value:b})]}),(0,M.tZ)(Ut,{css:Yt,children:(0,M.BX)(a.Ph,{id:"share_select_public",onChange:e=>{S(e.target.value),v("true"===e.target.value)},icon:_?"site":"lock",value:_?"true":"false",size:"s",children:[(0,M.tZ)("option",{value:"false",children:h("common:share-recording.only-team")}),(0,M.tZ)("option",{value:"true",children:h("common:share-recording.everyone")})]})})]})]})};var nn=n(55794);let on;!function(e){e[e.INITIAL=0]="INITIAL",e[e.LOADING=1]="LOADING",e[e.ERROR=2]="ERROR",e[e.SUCCESS=3]="SUCCESS"}(on||(on={}));const rn=e=>{let{siteId:t,recordingId:n}=e;const[o,r]=(0,i.useState)(on.INITIAL);return[{status:o},{setWorthWatching:(0,i.useCallback)((async e=>{let i=!0;try{r(on.LOADING),await Ft.RX(t,n,e)}catch(e){r(on.ERROR),i=!1,nn.uT(`Could not update if the recording was worth watching. ${e}`)}finally{r(on.SUCCESS)}return i}),[t,n])}]};var an=n(66069);let sn,ln,cn;!function(e){e.EMAIL="email",e.BOOLEAN="bool",e.DATE="date",e.STRING="str",e.NUMBER="number",e.UNKNOWN="unknown"}(sn||(sn={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.KEYBOARD_SHORTCUT_OPEN=1]="KEYBOARD_SHORTCUT_OPEN",e[e.SETTINGS_OPEN=2]="SETTINGS_OPEN",e[e.DELETE_RECORDING_OPEN=3]="DELETE_RECORDING_OPEN",e[e.SHARE_RECORDING_OPEN=4]="SHARE_RECORDING_OPEN"}(ln||(ln={})),function(e){e.HIGHLIGHT="highlight"}(cn||(cn={}));const dn=(0,an.Z)((e=>({activeModal:ln.CLOSE,setActiveModal:t=>e((()=>({activeModal:t})))}))),un=(0,Fe.Z)("div",{target:"e1binc3a4"})("height:32px;width:1px;background-color:",a.TV.color.neutral_300,";"),gn=(0,Fe.Z)("div",{target:"e1binc3a3"})("display:flex;flex-grow:1;justify-content:flex-start;align-items:center;gap:",a.TV.spacer.x1pt5,";"),pn=(0,Fe.Z)("div",{target:"e1binc3a2"})("display:flex;align-items:center;justify-content:center;gap:",a.TV.spacer.x1pt5,";"),hn=(0,Fe.Z)("span",{target:"e1binc3a1"})(a.TV.text("subtitle2"),";margin-left:",a.TV.spacer.x0pt5,";line-height:32px;"),mn=(0,Fe.Z)(a.hU,{target:"e1binc3a0"})((e=>{let{isOpen:t}=e;return t&&`&, &:hover {\n    background: ${a.TV.color.cobalt_200} }\n    border-radius: ${a.TV.radius.m};\n  `}),";"),bn=e=>{let{isReadOnly:t,isShared:n,isPlaying:o,play:r,pause:s,recording:l,onShare:c,playlistVisible:d,playlistToggle:u,playlistOpened:g,isTokenShared:p,worthWatchingAnswer:h,onWorthWatchingAnswerChange:m,openWorthWatchingTooltip:b,siteId:f,loaded:_,hideControls:v,hideBackButton:k,onPrevious:x,onNext:w,isSidebarExpanded:T,onExpandCollapseToggle:C}=e;const S=ze(),[I,Z]=(0,i.useState)(!1),[R,E]=(0,i.useState)(!1),[P,N]=(0,i.useState)(!1),[{status:O},{setWorthWatching:A}]=rn({siteId:f,recordingId:l?.id}),L=!_||!l,{data:V,isLoading:D}=(0,_t.xJ)(),{showToast:j}=(0,a.d$)(),{t:z}=(0,We.$G)(),{setActiveModal:H}=dn.getState(),$=(0,i.useCallback)((async e=>{const t=h;if(!await A(e))return j({kind:"danger",text:z("common:player.recording-not-rated")}),void(null!==t&&m(t));m(e)}),[h,A,m,j,z]),X=(0,i.useCallback)((()=>C()),[C]),G=(0,B.RJ)()?Pt.Z:y,F=(0,i.useCallback)((()=>{G(l,{element_name:"playback_went_to_previous_recording",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_footer"}),x()}),[x,l,G]),U=(0,i.useCallback)((()=>{G(l,{element_name:"playback_went_to_next_recording",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_footer"}),w()}),[w,l,G]),{recordingsList:W}=$e((e=>({recordingsList:e.recordingsList})));return(0,i.useEffect)((()=>{E(Se(S)),N(ne(S))}),[W,S]),(0,M.BX)("div",{className:"top-menu",css:(0,yt.iv)("display:flex;align-items:center;height:48px;padding:0 16px 0 8px;background-color:",a.TV.BRAND_COLORS.white,";text-align:initial;border-bottom:1px solid ",a.TV.color.neutral_300,";",""),children:[!L&&(0,M.tZ)(tn,{isOpen:I,isShared:n,recording:l,onClose:()=>Z(!1),onShare:c,play:r,pause:s,isPlaying:o,uiPosition:"clicked-header-share-CTA"}),(0,M.BX)(gn,{children:[k?null:(0,M.BX)(M.HY,{children:[(0,M.tZ)(et,{isDisabled:L||D,isLoggedIn:!!V&&!t&&!p,recording:l}),(0,M.tZ)(un,{})]}),d?(0,M.tZ)(M.HY,{children:g?(0,M.tZ)(mn,{size:"s",kind:"ghost",icon:"list",title:z("common:recordings.player.playlist.close"),tooltipText:z("common:recordings.player.playlist.close"),"data-testid":"collapse-button",onClick:()=>u(!1),disabled:D,isOpen:!0}):(0,M.tZ)(mn,{size:"s",kind:"ghost",icon:"list",title:z("common:recordings.player.playlist.open"),"data-testid":"expand-button",tooltipText:z("common:recordings.player.playlist.open"),onClick:()=>u(!0),disabled:D,isOpen:!1})}):null,!p&&!v&&(0,M.BX)(M.HY,{children:[d?(0,M.tZ)(un,{}):null,(0,M.tZ)(Zt,{disabled:L||!R,onClick:F}),(0,M.tZ)(Et,{disabled:L||!P,onClick:U})]}),(0,M.BX)(hn,{children:[z("common:player.recording")," ",l?.id]})]}),(0,M.BX)(pn,{children:[!v&&!p&&(0,M.BX)(M.HY,{children:[!t&&(0,M.tZ)(Dt,{onClick:()=>H(ln.DELETE_RECORDING_OPEN),disabled:L}),(0,M.tZ)(Xt,{answer:h,onAnswerChange:$,isLoading:O===on.LOADING,openTooltip:b,disabled:L})]}),!t&&!p&&(0,M.tZ)(Mt,{onClick:()=>Z(!0),disabled:L}),!v&&(0,M.BX)(M.HY,{children:[(0,M.tZ)(un,{}),(0,M.tZ)(At,{isExpanded:T,onClick:X,disabled:L})]})]})]})};bn.defaultProps={worthWatchingAnswer:null,openWorthWatchingTooltip:!1,recording:null,isTokenShared:!1,siteId:null,loaded:!1,hideControls:!1,hideBackButton:!1},bn.propTypes={isReadOnly:ft().bool.isRequired,isShared:ft().bool.isRequired,isPlaying:ft().bool.isRequired,recording:ft().shape({id:ft().number,site_features:ft().arrayOf(ft().string),effective_plan:ft().string}),play:ft().func.isRequired,pause:ft().func.isRequired,onShare:ft().func.isRequired,isTokenShared:ft().bool,playlistVisible:ft().bool.isRequired,playlistOpened:ft().bool.isRequired,playlistToggle:ft().func.isRequired,onPrevious:ft().func.isRequired,onNext:ft().func.isRequired,onExpandCollapseToggle:ft().func.isRequired,isSidebarExpanded:ft().bool.isRequired,worthWatchingAnswer:ft().bool,onWorthWatchingAnswerChange:ft().func.isRequired,siteId:ft().number,openWorthWatchingTooltip:ft().bool,loaded:ft().bool,hideControls:ft().bool,hideBackButton:ft().bool};var fn=n(18278),yn=n(31739),_n=n(30586),vn=n(86977),kn=n(73857);const xn=()=>{const e=(0,_n.kz)(),{site:t,recording:n}=$e((e=>{let{site:t,recording:n}=e;return{site:t,recording:n}}));return!(!t||!n)&&!!(0,kn.Q)({trial:{active:(0,vn.vt)(e)},effectivePlan:n.effective_plan})&&(0,yn.yy)("error_reporting",t)};var wn=n(85259);let Tn;!function(e){e[e.ERROR=0]="ERROR",e[e.NAVIGATION=1]="NAVIGATION"}(Tn||(Tn={}));const Cn=e=>{const[t,n]=(0,i.useState)([]);return(0,i.useEffect)((()=>{if(!e)return;const t=e.page_visit_recordings.reduce(((e,t)=>{const n=t.events.reduce(((e,t)=>"error"!==t.type?e:[...e,{type:Tn.ERROR,event:t}]),[]);if(!n.length)return e;const i={type:Tn.NAVIGATION,event:{id:0,text:t.page_url,time_in_timeline:t.time_in_timeline,timestamp:t.time_in_timeline,time:t.time_in_timeline,type:""}};return[...e,i,...n]}),[]);n(t)}),[e]),t},Sn=(0,Fe.Z)("div",{target:"eycunhq1"})("position:relative;",(e=>{let{isConsoleOpen:t}=e;return t&&`\n    Button,\n    IconButton,\n    Button:hover,\n    IconButton:hover {\n     background: ${a.TV.color.cobalt_200}\n    }\n  `}),";"),In=(0,Fe.Z)("div",{target:"eycunhq0"})("width:8px;height:8px;border-radius:8px;position:absolute;bottom:50%;left:12px;transform:translate(0px, -2px);background-color:",a.TV.color.text_warning,";"),Zn=e=>{let{onClick:t,isOpen:n,recording:o,disabled:r}=e;const{t:s}=(0,We.$G)(),l=(0,i.useCallback)((()=>{t(),n||y(o,{element_name:"Open Console",ui_position:"playback.player_navigation",url_event_was_triggered_on:(0,wn.j1)(window.location.href)})}),[o,t,n]),c=Cn(o),d=(0,i.useMemo)((()=>c.reduce(((e,t)=>t.type===Tn.ERROR?e+1:e),0)),[c]),u=d>0,g=d>99?"99+":`${d}`;let p=s("common:player.console");return d&&(p=1===d?s("common:player.errors",{count:1}):`${g} ${s("common:player.multiple-errors")}`),(0,M.BX)(Sn,{isConsoleOpen:n,"data-testid":"recording-console-button",children:[(0,M.tZ)(a.u,{text:s("common:player.console-button-"+(n?"close":"open")),children:(0,M.tZ)(a.zx,{size:"s",icon:"code_dev","aria-label":s("common:player.console-button-"+(n?"close":"open")),kind:"ghost",onClick:l,isDisabled:r,children:p})}),u?(0,M.tZ)(In,{}):null]})};var Rn=n(89714);const En=1,Pn=(0,Fe.Z)(a.zx,{target:"e16rqc620"})(a.TV.text("subtitle3"),";color:",a.TV.color.text_default,";font-weight:bold;border-radius:",a.TV.radius.m,";height:24px;min-height:24px;width:41px;justify-content:center;text-align:center;border:1px solid ",a.TV.color.neutral_300,";",(e=>{let{currentSpeed:t}=e;return`font-weight: ${t!==En?"bold":"normal"};`}),";&:focus,&:focus-visible{border:none;}"),Nn=e=>{let{onClick:t,currentSpeed:n=En,disabled:i=!1}=e;const{t:o}=(0,We.$G)();return(0,M.tZ)(a.u,{text:o("common:player.toggle-speed"),isDisabled:i,children:(0,M.BX)(Pn,{kind:"ghost",disabled:i,onClick:t,currentSpeed:n,children:[n,"x"]})})};Nn.defaultProps={onClick:void 0,disabled:!1},Nn.propTypes={onClick:ft().func,currentSpeed:ft().number.isRequired,disabled:ft().bool};const On=wt((0,i.memo)(Nn),Tt.PLAYBACK_SPEED),An=(0,Fe.Z)("div",{target:"eeobt4p0"})({name:"174orth",styles:"display:inline-flex;span svg{opacity:1;}input{width:36px;height:20px;z-index:1;}label{display:flex;height:24px;}"}),Ln=e=>{let{isSkippingAllPauses:t,onSkipPausesToggle:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(a.u,{text:i(t?"common:player.all-inactivity-skipped":"common:player.skip-all-inactivity"),placement:"top",children:(0,M.tZ)(An,{children:(0,M.tZ)(a.rs,{isChecked:t,onChange:n,iconName:"fast_forward_alt"})})})},Mn=(0,i.memo)(Ln),Vn=e=>{let{id:t,duration:n,disabled:i=!1}=e;const o=(0,D.hr)((e=>e.currentTimeWithLessPrecision));return(0,M.tZ)("span",{id:t,css:(0,yt.iv)(a.TV.text("body2")," color:",a.TV.color.text_default,";white-space:nowrap;&[disabled]{opacity:0.25;}",""),disabled:i,children:i?"-:-- / -:--":`${(0,Gt.G)(o)} / ${(0,Gt.G)(n)}`})};Vn.defaultProps={disabled:!1,id:void 0},Vn.propTypes={duration:ft().number.isRequired,disabled:ft().bool,id:ft().string};const Dn=e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(a.hU,{size:"s",icon:"jump_back_10",tooltipText:i("common:player.rewind-button"),description:i("common:player.rewind-button"),kind:"ghost",isDisabled:n,onClick:t})};Dn.defaultProps={disabled:!1},Dn.propTypes={onClick:ft().func.isRequired,disabled:ft().bool};const Bn=wt((0,i.memo)(Dn),Tt.REWIND),jn=e=>{let{isPlaying:t,isDone:n,disabled:i,onPlay:o,onPause:r,onReplay:s}=e;const{t:l}=(0,We.$G)();let c,d,u;return n?(c="replay",d=s,u=l("common:player.replay-tooltip")):t?(c="pause_alt",u=l("common:player.pause-tooltip"),d=()=>r&&r(!0,!0)):(c="play_alt",u=l("common:player.play-tooltip"),d=o),(0,M.tZ)(a.hU,{icon:c,tooltipText:u,description:u,size:"s",kind:"ghost",isDisabled:i,onClick:d,"data-testid":"player-btn-play-pause-replay"})};jn.defaultProps={disabled:!1,onPlay:void 0,onPause:void 0,onReplay:void 0},jn.propTypes={isPlaying:ft().bool.isRequired,isDone:ft().bool.isRequired,disabled:ft().bool,onPlay:ft().func,onPause:ft().func,onReplay:ft().func};const zn=wt((0,i.memo)(jn),Tt.PLAY_PAUSE),Hn=e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(a.hU,{size:"s",icon:"jump_forward_10",tooltipText:i("common:player.fast-forward"),description:i("common:player.fast-forward"),kind:"ghost",isDisabled:n,onClick:t})};Hn.defaultProps={disabled:!1},Hn.propTypes={onClick:ft().func.isRequired,disabled:ft().bool};const $n=wt((0,i.memo)(Hn),Tt.SKIP),Xn=(0,i.memo)((e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(a.hU,{css:(0,yt.iv)("margin-right:",a.TV.spacer.x0pt5,";",""),size:"s",icon:"lightbulb",tooltipText:i("highlights:recordings.create-tooltip"),description:i("highlights:recordings.create-tooltip"),kind:"ghost",isDisabled:n,onClick:t,"data-testid":"create-highlight-button"})}));var Gn=n(48151),Fn=n(46986);const Un=e=>{let{onClick:t,icon:n,children:i,color:o,className:r,invertHoverOpacity:s,disabled:l,iconSize:c=16,dataTestId:d="player-button"}=e;return(0,M.BX)("button",{type:"button",onClick:t,css:(0,yt.iv)("font-family:",a.TV.FONT_FAMILY,",sans-serif,Arial;height:30px;padding:0 10px 0px 10px;border-radius:",a.TV.radius.m,";border:1px solid ",a.TV.color.white,";color:",a.TV.color.white,";font-size:14px;display:flex;white-space:nowrap;align-items:center;cursor:pointer;opacity:",s?1:.6,";background:transparent;outline:0;font-weight:500;transition:opacity 0.2s ease-in-out;&:hover{opacity:",s?.7:.83,";}&[disabled]{opacity:0.38;}&:focus{",a.TV.focus(),";}",""),className:r,disabled:l,"data-testid":d,children:[n&&(0,M.tZ)(a.su,{css:(0,yt.iv)("color:",o,";margin-right:7px;",""),icon:n,pixelSize:c}),i]})},Wn=(0,Fe.Z)(Gn.ZP,{target:"eovoau54"})({name:"1hgrrub",styles:"&[data-animation='slide-up'][data-state='hidden']{opacity:0;transform:translateY(40px);}.tippy-content{padding:0;}"}),qn=(0,Fe.Z)("div",{target:"eovoau53"})("cursor:initial;width:305px;height:111px;background-color:",a.TV.color.neutral_700,";color:",a.TV.color.white,";display:flex;flex-direction:column;text-align:center;box-shadow:0px 0 120px 40px rgba(0, 0, 0, 0.4);"),Yn=(0,Fe.Z)("div",{target:"eovoau52"})({name:"kaov5r",styles:"margin-top:21px;font-size:14px;font-weight:600"}),Jn=(0,Fe.Z)("div",{target:"eovoau51"})("font-size:12px;font-weight:400;color:",a.TV.color.text_default_inverse,";margin:7px 25px;flex-grow:1;display:flex;"),Kn=yt.F4`
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(0%);
  }
`,Qn=(0,Fe.Z)("div",{target:"eovoau50"})("animation-duration:",5,"s;animation-fill-mode:forwards;animation-iteration-count:1;animation-timing-function:linear;animation-name:",Kn,";height:5px;width:100%;background:white;");var ei={name:"12fbevt",styles:"padding:10px;margin:0 0 0 auto;border:none;position:absolute;right:0"},ti={name:"bf9y66",styles:"border-radius:5px;overflow:hidden"};const ni=(0,i.memo)((e=>{let{isShown:t,onClose:n,siteId:o,accountId:r,organizationId:s}=e;const{t:l}=(0,We.$G)();(0,i.useEffect)((()=>{t&&(0,u.track)("Element Viewed",{element_name:"playback_notification-playback.forced",state_event_was_triggered_on:"playback.player",ui_position:"playback_notification-bottom.right",url_event_was_triggered_on:window.location.href,site_id:o,account_id:r,organization_id:s})}),[t,r,o,s]);const[c,d]=(0,i.useState)(),g=(0,i.useCallback)((()=>{c&&(clearTimeout(c),d(void 0)),n()}),[c,n]);return(0,i.useLayoutEffect)((()=>{if(t&&!c){const e=setTimeout(g,5e3);d(e)}else!t&&c&&(clearTimeout(c),d(void 0));return()=>{c&&clearTimeout(c)}}),[t,c,g]),(0,M.tZ)(Wn,{css:ti,offset:[0,50],zIndex:2e3,animation:"slide-up",arrow:!1,interactive:!0,placement:"bottom-end",visible:t,content:(0,M.BX)(qn,{children:[(0,M.tZ)(Un,{css:ei,color:a.TV.color.white,onClick:n,children:(0,M.tZ)(Fn.J,{size:8,color:a.TV.color.white,icon:"x"})}),(0,M.tZ)(Yn,{children:l("common:player.force-playback.title")}),(0,M.tZ)(Jn,{children:l("common:player.force-playback.content")}),(0,M.tZ)(Qn,{})]}),children:(0,M.tZ)("span",{})})})),ii=e=>{let{onClick:t,disabled:n,isSettingsModalOpen:i}=e;const{t:o}=(0,We.$G)();return(0,M.tZ)(a.hU,{size:"s",icon:"cog",tooltipText:o("common:player.open-settings"),description:o("common:player.open-settings"),kind:"ghost",isDisabled:i||n,onClick:t})},oi=(0,i.memo)(ii),ri=(0,Fe.Z)(a.u_,{target:"e1sm275z8"})({name:"d3v9zr",styles:"overflow:hidden"}),ai=(0,Fe.Z)("div",{target:"e1sm275z7"})("display:flex;flex-direction:column;padding:0 ",a.TV.spacer.x3,";overflow:auto;"),si=(0,yt.iv)("border-bottom:1px solid ",a.TV.color.ui_border_light,";",""),li=(0,Fe.Z)("div",{target:"e1sm275z6"})("display:grid;grid-template-columns:auto fit-content(50%);grid-template-areas:'title       switch' 'description switch';gap:",a.TV.spacer.x0,";padding:",a.TV.spacer.x2," 0;",(e=>{let{hideBorderBottom:t}=e;return!t&&si}),";"),ci=(0,Fe.Z)("div",{target:"e1sm275z5"})("grid-area:title;",a.TV.text("subtitle3"),";"),di=(0,Fe.Z)("div",{target:"e1sm275z4"})("grid-area:description;",a.TV.text("caption")," color:",a.TV.color.text_light,";"),ui=(0,Fe.Z)("div",{target:"e1sm275z3"})({name:"1traj82",styles:"grid-area:switch;align-self:center"}),gi=(0,Fe.Z)("div",{target:"e1sm275z2"})("background-color:",a.TV.color.neutral_100,";padding:",a.TV.spacer.x2," ",a.TV.spacer.x3,";",a.TV.text("caption")," font-size:10px;"),pi=(0,Fe.Z)(a.rs,{target:"e1sm275z1"})({name:"1ykowef",styles:"margin-bottom:0"}),hi=(0,Fe.Z)(a.JO,{target:"e1sm275z0"})("margin-left:",a.TV.spacer.x0,";margin-right:10px;color:",a.TV.color.text_light,";"),mi=e=>{let{onClose:t,isOpen:n,isAutoplaying:o,onAutoplayToggle:r,isJumpStartActive:s,onToggleJumpStart:l,isMuteClicksActive:c,onToggleMuteClicks:d,onOpenKeyboardShorcutModal:u,isPlaying:g,onPause:p,onPlay:h,activeModal:m}=e;const{t:b}=(0,We.$G)(),[f,y]=(0,i.useState)(!1),_=(0,i.useCallback)((()=>{y(g),g&&p()}),[g,p]),v=(0,i.useCallback)((()=>{m===ln.CLOSE&&f&&h()}),[f,h,m]);return(0,M.BX)(ri,{contentLabel:"Modal Example",isOpen:n,onClose:()=>t(),size:"m",onAfterOpen:_,onAfterClose:v,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[(0,M.tZ)(a.u_.Header,{title:"Player settings"}),(0,M.BX)(ai,{children:[(0,M.BX)(li,{children:[(0,M.tZ)(ci,{children:b("common:player.settings-modal.autoplay")}),(0,M.tZ)(di,{children:b("common:player.settings-modal.autoplay-description")}),(0,M.tZ)(ui,{children:(0,M.tZ)(pi,{isChecked:o,onChange:r})})]}),(0,M.BX)(li,{children:[(0,M.tZ)(ci,{children:b("common:player.settings-modal.jump-start")}),(0,M.tZ)(di,{children:b("common:player.settings-modal.jump-start-description")}),(0,M.tZ)(ui,{children:(0,M.tZ)(pi,{isChecked:s,onChange:l})})]}),(0,M.BX)(li,{hideBorderBottom:!0,children:[(0,M.tZ)(ci,{children:b("common:player.settings-modal.mute-clicks")}),(0,M.tZ)(di,{children:b("common:player.settings-modal.mute-clicks-description")}),(0,M.tZ)(ui,{children:(0,M.tZ)(pi,{isChecked:c,onChange:d})})]})]}),(0,M.BX)(gi,{children:[(0,M.tZ)(hi,{icon:"key_press"}),(0,M.tZ)(a.rU,{as:"button",kind:"inline",onClick:()=>u(),children:b("common:player.settings-modal.view-keyboard-shortcuts")})]})]})},bi=(0,i.memo)(mi),fi=n(69136),yi=(0,Fe.Z)("button",{target:"e1o8gig10"})("background:transparent;border:0;outline:none;padding:0;transition:transform 0.2s ease-out;cursor:pointer;&[disabled]{filter:grayscale(100%);cursor:url(",fi,"),default;}&:hover{transform:scale(1.2);}"),_i=e=>{let{reactionName:t,onClick:n,disabled:i=!1,size:o="l"}=e;const{t:r}=(0,We.$G)();return(0,M.tZ)(a.u,{text:r(Rn.el[t]),children:(0,M.tZ)(yi,{onClick:n,disabled:i,children:(0,M.tZ)(Rn.EO,{name:t,size:o})})})},vi=(0,i.memo)(_i),ki=(0,Fe.Z)(a.rU,{target:"e1z6tuy1"})(a.TV.text("link")," color:",a.TV.color.text_default,";font-weight:500;text-decoration:none;"),xi=(0,Fe.Z)("div",{target:"e1z6tuy0"})("display:inline-flex;margin-left:-",a.TV.spacer.x1,";white-space:pre;"),wi=e=>{let{onClick:t}=e;const{t:n}=(0,We.$G)(),i=(0,D.hr)((e=>e.sectionInfoList.length>0&&e.sectionInfoList[e.currentSectionIndex].isActive));return(0,M.tZ)(xi,{children:(0,M.tZ)(jt.M,{children:!i&&(0,M.tZ)(Bt.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,M.tZ)(a.u,{text:n("common:player.skip-current-inactivity-tooltip"),placement:"top",children:(0,M.tZ)(ki,{onClick:t,as:"button",kind:"inline",children:n("common:player.skip-pauses")})})})})})},Ti=(0,i.memo)(wi);var Ci=n(2417);const Si=(0,Fe.Z)(a.JO,{target:"e10fmobx1"})(a.TV.transition(),";cursor:pointer;&:hover{transform:scale(1.2);}"),Ii=(0,Fe.Z)(a.mD,{target:"e10fmobx0"})({name:"80apbu",styles:"padding:0px;.tippy-box{padding:0px;}.tippy-content{padding:0px;}"}),Zi=e=>{let{siteId:t}=e;const{t:n}=(0,We.$G)();return(0,M.tZ)(a.u,{text:n("highlights:popover.add-label"),children:(0,M.tZ)(Ii,{withCloseButton:!1,content:(0,M.tZ)(Ci.x8,{siteId:t??null}),children:(0,M.tZ)("div",{"data-testid":"Add label",children:(0,M.tZ)(Si,{icon:"plus"})})})})},Ri=(0,Fe.Z)("div",{target:"e1sazh8k5"})(a.TV.text("subtitle3"),";position:relative;display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:",32,"px;height:",32,"px;padding:0 ",a.TV.spacer.x2,";color:",a.TV.color.white,";text-align:initial;font-weight:600;margin-bottom:",a.TV.spacer.x2,";@media (max-width: ",930,"px){grid-template-columns:1fr auto auto;}"),Ei=(0,Fe.Z)("div",{target:"e1sazh8k4"})("width:500px;margin-right:auto;display:flex;align-items:center;gap:",a.TV.spacer.x2,";"),Pi=(0,Fe.Z)("div",{target:"e1sazh8k3"})({name:"2gewv5",styles:"display:grid;grid-auto-flow:column;justify-content:center;align-items:center;margin-left:auto;margin-right:auto;vertical-align:middle"}),Ni=(0,Fe.Z)("div",{target:"e1sazh8k2"})("display:flex;align-items:center;gap:",a.TV.spacer.x1,";@media (max-width: ",930,"px){display:none;}"),Oi=(0,Fe.Z)("div",{target:"e1sazh8k1"})("display:flex;align-items:center;margin-left:auto;justify-content:flex-end;gap:",a.TV.spacer.x2,";"),Ai=(0,Fe.Z)("div",{target:"e1sazh8k0"})("width:1px;height:32px;background:",a.TV.color.neutral_300,";"),Li=e=>{let{isTokenShared:t,currentSpeed:n,duration:o=0,onSpeedChange:r,isSkippingAllPauses:a,onSkipPausesToggle:s,isJumpStartActive:l,onToggleJumpStart:c,isMuteClicksActive:d,onToggleMuteClicks:g,onRewind:p,onPlay:h,onReplay:m,onPause:b,onSkipCurrentInactivity:_,onNewHighlight:v,onAddLabel:k,isPlaying:x,isDone:w,onForward:T,onAutoplayToggle:C,isAutoplaying:S,loaded:I,recording:Z,isForcingPlayback:R,onForcePlaybackClose:E,showStickerLabels:P,activeModal:N,setActiveModal:O,shouldTrack:A=!0,isConsoleOpen:L}=e;const V=(0,fn.y)("settings.custom-labels"),D=A?y:Pt.Z,B=xn(),{toggleConsole:j}=He(),z=(0,i.useCallback)((()=>{D(Z,{element_name:"playback_jumped_backward",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_icon-10s-rewind"}),p(1e4)}),[p,Z,D]),H=(0,i.useCallback)((()=>{D(Z,{element_name:"playback_jumped_forward",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_icon-10s-fast-forward"}),T(1e4)}),[T,Z,D]),$=(0,i.useCallback)((e=>{D(Z,{element_name:"playback_resumed",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_play"}),h(e)}),[h,Z,D]),X=(0,i.useCallback)(((e,t)=>{D(Z,{element_name:"playback_paused",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_pause"}),b(e,t)}),[b,Z,D]),G=(0,i.useCallback)((()=>{D(Z,{element_name:"playback_replayed",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_icon"}),m()}),[m,Z,D]),F=(0,i.useCallback)((()=>{D(Z,{element_name:"Create highlight - bulb click",state_event_was_triggered_on:"playback.player",ui_position:"clicked_on_bulb"}),v()}),[v,Z,D]),U=!I||!Z,W=(0,i.useCallback)((e=>{D(Z,{element_name:"playback_toggled_skip_inactivity_"+(e?"ON":"OFF"),state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked-toggle",url_event_was_triggered_on:window.location.href}),s(!a)}),[s,a,Z,D]),q=(0,i.useCallback)((e=>{D(Z,{element_name:"playback_toggled_autoplay_"+(e?"ON":"OFF"),state_event_was_triggered_on:"playback.player_settings",ui_position:"clicked-toggle"}),C(e)}),[C,Z,D]),Y=(0,i.useCallback)((()=>{D(Z,{element_name:"playback_toggled_jumpstart_"+(l?"OFF":"ON"),state_event_was_triggered_on:"playback.player_settings",ui_position:"clicked-toggle"}),c()}),[c,Z,l,D]),J=(0,i.useCallback)((()=>{D(Z,{element_name:"playback_toggled_mute-clicks_"+(d?"OFF":"ON"),state_event_was_triggered_on:"playback.player_settings",ui_position:"clicked-toggle"}),g()}),[g,Z,d,D]),K=(0,i.useCallback)((()=>{O(ln.KEYBOARD_SHORTCUT_OPEN),(e=>{const t={...f(e),modal_name:"playback_shortcuts_legend",modal_version:"shortcuts_legend",state_event_was_triggered_on:"playback.player",ui_position:"playback_clicked-view-keyboard-shortcuts"};(0,u.track)("Modal Loaded",t)})(Z)}),[Z,O]),Q=(0,i.useCallback)((()=>{O(ln.SETTINGS_OPEN),(e=>{const t={...f(e),modal_name:"playback_settings",modal_version:"playback_settings",state_event_was_triggered_on:"playback.player_settings",ui_position:"playback_settings_modal"};(0,u.track)("Modal Loaded",t)})(Z)}),[Z,O]),ee=(0,i.useCallback)((()=>{D(Z,{element_name:"skip_single_period_of_inactivity",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_footer_button"}),_()}),[_,Z,D]),te=(0,i.useCallback)((()=>{L||(0,we.event)("Console Opened"),j()}),[L,j]);return(0,M.BX)(Ri,{children:[(0,M.BX)(Ei,{id:se.PLAYER_CONTROLS_CONTAINER,children:[(0,M.tZ)("span",{id:se.PLAY_PAUSE_BUTTON,children:(0,M.tZ)(zn,{isPlaying:x,isDone:w,onPause:X,onPlay:$,onReplay:G,disabled:U})}),(0,M.tZ)(Bn,{onClick:z,disabled:U}),(0,M.tZ)($n,{disabled:U||w,onClick:H}),(0,M.tZ)(Ai,{}),(0,M.tZ)(Vn,{id:se.PLAYER_TIME_INFO,duration:o,disabled:U}),(0,M.tZ)(On,{onClick:r,currentSpeed:n,disabled:U}),(0,M.tZ)(Ai,{}),(0,M.tZ)(Mn,{onSkipPausesToggle:W,isSkippingAllPauses:a}),!U&&!a&&(0,M.tZ)(Ti,{onClick:ee})]}),(0,M.tZ)(Pi,{id:se.HIGHLIGHTS_REACTIONS_CONTAINER,children:!t&&(0,M.BX)(M.HY,{children:[(0,M.tZ)(Xn,{onClick:F,disabled:U}),P&&(0,M.BX)(Ni,{children:[(0,M.tZ)(Ai,{}),(0,M.tZ)(vi,{reactionName:Rn.gX.bug,onClick:()=>k((0,Rn.Pe)(Rn.gX.bug)),disabled:U}),(0,M.tZ)(vi,{reactionName:Rn.gX.uxUiIssue,onClick:()=>k((0,Rn.Pe)(Rn.gX.uxUiIssue)),disabled:U}),(0,M.tZ)(vi,{reactionName:Rn.gX.confusion,onClick:()=>k((0,Rn.Pe)(Rn.gX.confusion)),disabled:U}),(0,M.tZ)(vi,{reactionName:Rn.gX.frustration,onClick:()=>k((0,Rn.Pe)(Rn.gX.frustration)),disabled:U}),(0,M.tZ)(vi,{reactionName:Rn.gX.success,onClick:()=>k((0,Rn.Pe)(Rn.gX.success)),disabled:U}),(0,M.tZ)(vi,{reactionName:Rn.gX.conversion,onClick:()=>k((0,Rn.Pe)(Rn.gX.conversion)),disabled:U}),V&&(0,M.tZ)(Zi,{siteId:String(Z?.site_id)??null})]})]})}),(0,M.BX)(Oi,{id:se.RECORDING_CONTROLS_CONTAINER,children:[B?(0,M.tZ)(Zn,{onClick:te,isOpen:L,recording:Z,disabled:U}):null,(0,M.tZ)(oi,{onClick:Q,disabled:U,isSettingsModalOpen:N===ln.SETTINGS_OPEN})]}),(0,M.tZ)(ni,{accountId:Z?.account_id,siteId:Z?.site_id,organizationId:Z?.organization_id,isShown:R,onClose:E}),(0,M.tZ)(bi,{isOpen:N===ln.SETTINGS_OPEN,onClose:()=>O(ln.CLOSE),onOpenKeyboardShorcutModal:K,onAutoplayToggle:q,isAutoplaying:S,isJumpStartActive:l,onToggleJumpStart:Y,isMuteClicksActive:d,onToggleMuteClicks:J,isPlaying:x,onPause:b,onPlay:h,activeModal:N})]})};Li.defaultProps={isTokenShared:!1,currentSpeed:0,duration:0,onSpeedChange:void 0,isSkippingAllPauses:!1,onSkipPausesToggle:void 0,isJumpStartActive:!1,isMuteClicksActive:!1,onRewind:void 0,onPlay:void 0,onReplay:void 0,onPause:void 0,onNewHighlight:void 0,onNewComment:void 0,onAddLabel:void 0,isPlaying:!1,isDone:!1,onForward:void 0,hasPreviousRecording:!1,onPrevious:void 0,hasNextRecording:!1,onNext:void 0,onAutoplayToggle:void 0,isAutoplaying:!1,loaded:!1,recording:void 0,onForcePlaybackClose:void 0,isForcingPlayback:!1,activeModal:ln.CLOSE,setActiveModal:void 0};var Mi=n(72941),Vi=n(26210);const Di=(0,Fe.Z)(a.J2,{target:"e1djbly10"})("padding:",a.TV.spacer.x2,";"),Bi=e=>{let{children:t}=e;const{t:n}=(0,We.$G)(),[o,r]=(0,i.useState)(!0),a=(0,i.useCallback)((()=>{r(!1)}),[r]);return(0,M.tZ)(Vi.S,{squadSentryTag:"workflow",children:(0,M.tZ)(Di,{animation:"slide-up",title:n("common:player.mentions-callout.heading"),text:n("common:player.mentions-callout.description"),withCloseButton:!0,hideOnClick:!1,placement:"top",onActionPress:a,visible:o,zIndex:2e3,children:(0,M.tZ)("span",{children:t})})})};var ji=n(21737),zi=n(69136);const Hi={name:"yr90ca",styles:"cursor:pointer;opacity:0.7;&:hover{opacity:1;}&[disabled]{opacity:0.25;}"},$i=e=>{let{onClick:t,tooltip:n,disabled:i,className:o,children:r}=e;const a=(0,M.tZ)("button",{type:"button","aria-label":n,onClick:i?()=>{}:()=>t(),disabled:i,css:(0,yt.iv)("background:transparent;border:0;outline:none;width:48px;height:48px;padding:0;",Hi," &[disabled]{cursor:url(",zi,"),default;opacity:0.25;}",""),className:o,children:r});return n?(0,M.tZ)(ji.u,{content:n,children:(0,M.tZ)("span",{children:a})}):a};$i.propTypes={disabled:ft().bool,onClick:ft().func.isRequired,tooltip:ft().string,className:ft().string,children:ft().node};const Xi=(0,i.memo)($i),Gi=e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(Xi,{tooltip:i("common:player.share"),disabled:n,onClick:t,spacing:24,children:(0,M.tZ)(a.JO,{icon:"forward",size:"m",css:(0,yt.iv)("color:",a.TV.color.white,";","")})})};Gi.propTypes={onClick:ft().func.isRequired,disabled:ft().bool},Gi.defaultProps={disabled:!1};const Fi=e=>{let{onClick:t,tooltip:n,disabled:i,className:o,children:r}=e;const a=(0,M.tZ)("button",{type:"button","aria-label":n,onClick:i?()=>{}:()=>t(),disabled:i,css:(0,yt.iv)("background:transparent;border:0;outline:none;width:18px;height:18px;padding:0;",Hi," &[disabled]{cursor:url(",zi,"),default;opacity:0.25;}",""),className:o,children:r});return n?(0,M.tZ)(ji.u,{content:n,children:(0,M.tZ)("span",{children:a})}):a};Fi.propTypes={disabled:ft().bool,onClick:ft().func.isRequired,tooltip:ft().string,className:ft().string,children:ft().node};const Ui=(0,i.memo)(Fi),Wi=e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(Ui,{tooltip:i("common:player.share"),disabled:n,onClick:t,spacing:24,children:(0,M.tZ)(a.JO,{icon:"forward",size:"m",css:(0,yt.iv)("color:",a.TV.color.text_default,";","")})})};Wi.propTypes={onClick:ft().func.isRequired,disabled:ft().bool},Wi.defaultProps={disabled:!1};const qi=e=>{let{onClick:t}=e;const{t:n}=(0,We.$G)();return(0,M.tZ)(Ui,{tooltip:n("highlights:recordings.create-tooltip"),onClick:t,spacing:24,children:(0,M.tZ)(a.JO,{css:(0,yt.iv)("color:",a.TV.color.text_default,";",""),icon:"lightbulb",size:"m"})})};qi.propTypes={onClick:ft().func.isRequired};const Yi=(0,i.memo)(qi),Ji=(0,Fe.Z)("div",{target:"e16khqeo1"})("background-color:",a.TV.color.ui_background,";display:grid;grid-auto-flow:column;justify-content:center;align-items:center;padding:8px;gap:6px;border-radius:",a.TV.spacer.x0,";",a.TV.elevation(4),";"),Ki=(0,Fe.Z)("div",{target:"e16khqeo0"})("display:grid;grid-auto-flow:column;gap:",a.TV.spacer.x0,";border-radius:",a.TV.spacer.x0,";"),Qi=e=>{let{onCreate:t,onShare:n,showCommentMentionsCallout:o,showStickerLabels:r}=e;const s=o?Bi:i.Fragment;return r?(0,M.tZ)(Ki,{children:(0,M.BX)(Ji,{children:[(0,M.tZ)(Wi,{onClick:n}),(0,M.tZ)(s,{children:(0,M.tZ)(Yi,{onClick:t})})]})}):(0,M.tZ)("div",{css:(0,yt.iv)("box-shadow:0 0 12px 2px rgba(0, 0, 0, 0.4);background-color:",a.TV.color.neutral_700,";display:flex;",""),children:(0,M.tZ)(Gi,{onClick:n})})},eo=(0,Fe.Z)(Gn.ZP,{target:"ebdwlaa0"})({name:"1o5xyn9",styles:"&[data-animation='slide-up'][data-state='hidden']{opacity:0;transform:translateY(40px);}background-color:transparent;.tippy-content{padding:0;}"}),to=e=>{let{onShare:t,onCreate:n,recording:o,showCommentMentionsCallout:r,showStickerLabels:a}=e;const s=(0,D.hr)((0,i.useCallback)((e=>e.currentTimeWithLessPrecision/e.duration*100),[]));return(0,M.tZ)("div",{style:{width:"58px"},children:(0,M.tZ)(eo,{offset:[0,20],zIndex:Mi.vM,animation:"slide-up",arrow:!1,interactive:!0,placement:"top",visible:!0,content:(0,M.tZ)(Qi,{onCreate:n,onShare:()=>t(o,!0),showCommentMentionsCallout:r,showStickerLabels:a}),children:(0,M.tZ)("div",{style:{position:"absolute",left:`${s}%`}})})})},no=(0,i.memo)(to),io=n.p+"8f4e10b0a5fa57d1d484.svg",oo=n.p+"04633e6b16001425b7cb.png",ro=(0,Fe.Z)("div",{target:"egy94l3"})("display:flex;flex-direction:column;align-items:center;border-left:1px solid ",a.TV.color.neutral_600,";margin-bottom:",a.TV.spacer.x4,";margin-left:48px;padding:",a.TV.spacer.x1," 0 ",a.TV.spacer.x1," 48px;"),ao=(0,Fe.Z)("p",{target:"egy94l2"})("text-align:center;margin-top:",a.TV.spacer.x1,";max-width:180px;font-size:12px;opacity:0.7;"),so=(0,Fe.Z)("img",{target:"egy94l1"})({name:"1vw6ajv",styles:"height:45px"}),lo=(0,Fe.Z)("a",{target:"egy94l0"})("font-family:",a.TV.FONT_FAMILY,",sans-serif,Arial;height:30px;padding:2px 10px;border-radius:3px;border:1px solid ",a.TV.color.white,";color:",a.TV.color.white,";font-size:14px;text-decoration:none;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0.7;background:transparent;outline:0;&:hover,&:focus{color:",a.TV.color.white,";opacity:1;text-decoration:none;}");function co(e){let{onCreateFeedback:t,siteId:n}=e;const{t:i}=(0,We.$G)();return(0,M.BX)(ro,{children:[(0,M.tZ)(so,{src:oo,alt:""}),(0,M.tZ)(ao,{children:i("common:player.understand-what-people-love")}),(0,M.tZ)(lo,{rel:"noreferrer",href:`/sites/${n}/feedback/create/`,onClick:t,target:"_blank",children:i("common:player.start-collecting-feedback-btn")})]})}const uo=e=>{let{onClick:t,tooltip:n,disabled:i,className:o,spacing:r,children:s}=e;const l=(0,M.tZ)("button",{type:"button","aria-label":n,onClick:i?()=>{}:()=>t(),disabled:i,css:(0,yt.iv)("text-decoration:underline;background:transparent;border:0;outline:none;margin-top:",r,"px;padding:0;font-size:14px;display:flex;align-items:center;color:",a.TV.color.white,";",Hi,";&:hover{text-decoration:underline;}&[disabled]{cursor:url(",zi,"),default;opacity:0.25;}",""),className:o,children:s});return n?(0,M.tZ)(ji.u,{content:n,children:l}):l};uo.propTypes={onClick:ft().func.isRequired,tooltip:ft().string,disabled:ft().bool,className:ft().string,spacing:ft().number,children:ft().node.isRequired};const go=e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.BX)(uo,{spacing:28,onClick:t,disabled:n,children:[(0,M.tZ)(a.su,{css:(0,yt.iv)("color:",a.TV.color.white,";margin-right:10px;",""),icon:"trash",pixelSize:24}),i("common:player.shortcuts.delete")]})},po=e=>{let{isActive:t,onClick:n,disabled:i}=e;const{t:o}=(0,We.$G)(),r=t?a.TV.color.lemon:a.TV.color.white;return(0,M.BX)(uo,{spacing:28,onClick:n,disabled:i,children:[(0,M.tZ)(a.su,{css:(0,yt.iv)("color:",r,";margin-right:10px;",""),icon:"forward",pixelSize:24}),o("common:player.share")]})};po.propTypes={onClick:ft().func.isRequired,isActive:ft().bool.isRequired,disabled:ft().bool},po.defaultProps={disabled:!1};const ho=e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(uo,{tooltip:i("common:player.previous-button"),disabled:n,onClick:t,children:(0,M.tZ)(a.JO,{icon:"previous",size:"m"})})};ho.propTypes={onClick:ft().func.isRequired,disabled:ft().bool},ho.defaultProps={disabled:!1};const mo=e=>{let{children:t,onClick:n,className:i}=e;return(0,M.tZ)("button",{type:"button",onClick:n,css:(0,yt.iv)("color:inherit;cursor:pointer;background:transparent;text-decoration:underline;padding:0;margin:0;outline:0;border:none;&:hover{color:inherit;}",Hi,";",""),className:i,children:t})};mo.defaultProps={onClick:()=>{},className:""},mo.propTypes={children:ft().node.isRequired,onClick:ft().func,className:ft().string};const bo=e=>{let{onClick:t,disabled:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(uo,{tooltip:i("common:player.next-button"),disabled:n,onClick:t,children:(0,M.tZ)(a.JO,{icon:"next",size:"m"})})};bo.propTypes={onClick:ft().func.isRequired,disabled:ft().bool},bo.defaultProps={disabled:!1};const fo=e=>{let{timer:t,onTimerExpired:n}=e;const[o,r]=(0,i.useState)(t);return(0,i.useEffect)((()=>{const e=o>0&&setInterval((()=>r(o-1)),1e3);return 0===o&&n&&n(),()=>clearInterval(e)}),[o,n]),(0,M.tZ)("b",{children:o})};fo.propTypes={timer:ft().number.isRequired,onTimerExpired:ft().func.isRequired};const yo=yt.F4`
  0% {
    background-position-x: 0%;
  }
  100% {
    background-position-x: -100%;
  }
`,_o={name:"1xl7noz",styles:"margin-top:auto;height:45px;display:flex;align-items:center;padding:0 32px;justify-content:space-between;background-color:rgba(255, 255, 255, 0.1);font-size:12px"},vo=(0,Fe.Z)("div",{target:"ee4qut40"})(_o,";animation-duration:",(e=>e.timer||8),"s;animation-fill-mode:forwards;animation-iteration-count:1;animation-timing-function:linear;animation-name:",yo,";background:linear-gradient(to right, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.2));background-size:200%;");var ko={name:"10i7m94",styles:"opacity:0.7"};const xo=e=>{let{timer:t,isAutoplaying:n,isCancelledNextRecordingCountdown:o,onCancelNextRecording:r,onReplay:a,isTokenShared:s,hasPreviousRecording:l,onPrevious:c,hasNextRecording:d,onTimerExpired:u,onNext:g}=e;const[p,h]=(0,i.useState)(!1),{t:m}=(0,We.$G)();return!o&&n&&!s&&d?(0,M.BX)(vo,{timer:t,children:[(0,M.tZ)(ho,{disabled:!l,onClick:c}),(0,M.BX)("span",{children:[(0,M.BX)("span",{css:ko,children:[m("common:player.next-recording-in")," ",(0,M.tZ)(fo,{timer:8,onTimerExpired:()=>{u(),h(!0)}}),!p&&(0,M.tZ)("span",{children:"  "})]}),!p&&(0,M.tZ)(mo,{onClick:r,children:m("common:player.cancel")})]}),(0,M.tZ)(bo,{disabled:!d,onClick:g})]}):(0,M.BX)("div",{css:_o,children:[(0,M.tZ)(ho,{disabled:!l||s,onClick:c}),(0,M.tZ)(mo,{onClick:a,children:m("common:player.replay")}),(0,M.tZ)(bo,{disabled:!d||s,onClick:g})]})};xo.defaultProps={hasPreviousRecording:!1,hasNextRecording:!1,onTimerExpired:()=>{}},xo.propTypes={timer:ft().number.isRequired,isAutoplaying:ft().bool.isRequired,isCancelledNextRecordingCountdown:ft().bool.isRequired,onCancelNextRecording:ft().func.isRequired,onReplay:ft().func.isRequired,isTokenShared:ft().bool.isRequired,hasPreviousRecording:ft().bool,onPrevious:ft().func.isRequired,hasNextRecording:ft().bool,onTimerExpired:ft().func,onNext:ft().func.isRequired};var wo=n(48141),To=n(33679);const Co=(0,Fe.Z)("div",{target:"e1y208x02"})("padding:0 ",a.TV.spacer.x4," ",a.TV.spacer.x3,";font-size:12px;color:",a.TV.color.neutral_300,";display:flex;align-items:center;"),So=(0,Fe.Z)("div",{target:"e1y208x01"})("margin-right:",a.TV.spacer.x1,";"),Io=(0,Fe.Z)("button",{target:"e1y208x00"})("cursor:pointer;border:0;outline:none;display:flex;align-items:center;color:",a.TV.color.white,";margin-right:",a.TV.spacer.x0,";padding:4px 9px;border-radius:3px;",(e=>e.isToggled?"background: rgba(255, 255, 255, 0.5);":"\n  background: rgba(255, 255, 255, 0.08);\n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n  }"),";"),Zo=e=>{let{answer:t=null,onAnswerChange:n,isLoading:i}=e;const{t:o}=(0,We.$G)();return(0,M.BX)(Co,{children:[(0,M.BX)(So,{children:[" ",o("common:player.thumbs-up-down-ending-question")]})," ",(0,M.tZ)(Io,{isToggled:!0===t,onClick:()=>{n(!0!==t||null)},disabled:i,"data-testid":"thumbs-up",children:(0,M.tZ)(wo.l,{size:12})}),(0,M.tZ)(Io,{isToggled:!1===t,onClick:()=>{n(!1===t&&null)},disabled:i,"data-testid":"thumbs-down",children:(0,M.tZ)(To.k,{size:12})})]})};Zo.defaultProps={answer:null,isLoading:!1},Zo.propTypes={answer:ft().bool,onAnswerChange:ft().func.isRequired,isLoading:ft().bool};const Ro=(0,Fe.Z)("div",{target:"e123t7pn10"})("cursor:initial;width:450px;min-height:280px;background-color:",a.TV.color.neutral_700,";color:",a.TV.color.white,";display:flex;flex-direction:column;text-align:left;border:2px solid rgba(255, 255, 255, 0.01);box-shadow:0px 0 120px 40px rgba(0, 0, 0, 0.4);"),Eo=(0,Fe.Z)("div",{target:"e123t7pn9"})("font-size:20px;font-weight:500;padding:24px 32px ",(e=>e.hasReadOnlySectionUnder?"25px":"10px"),";"),Po=(0,Fe.Z)("div",{target:"e123t7pn8"})({name:"9npy3t",styles:"display:flex;flex-direction:column;font-size:16px;padding:4px 0;margin-bottom:28px"}),No=(0,Fe.Z)("div",{target:"e123t7pn7"})({name:"xt2uk8",styles:"width:226px;margin-left:auto"}),Oo=(0,Fe.Z)("div",{target:"e123t7pn6"})({name:"15j8slx",styles:"margin-top:auto;margin-bottom:auto;padding:0px 32px;display:flex"}),Ao=(0,Fe.Z)("img",{target:"e123t7pn5"})({name:"vvz5u7",styles:"width:120px;margin-left:32px;margin-top:10px"}),Lo=(0,Fe.Z)("div",{target:"e123t7pn4"})({name:"pbwnag",styles:"margin-top:20px;display:flex"}),Mo=(0,Fe.Z)("div",{target:"e123t7pn3"})({name:"5aqqg1",styles:"font-weight:600;font-size:14px"}),Vo=(0,Fe.Z)("div",{target:"e123t7pn2"})({name:"181t9dv",styles:"margin-top:8px;font-size:12px"}),Do=(0,Fe.Z)("div",{target:"e123t7pn1"})({name:"1tsuy22",styles:"font-weight:600;font-size:12px;text-transform:uppercase;opacity:0.3"}),Bo=(0,Fe.Z)("div",{target:"e123t7pn0"})({name:"19ufpqk",styles:"margin-top:8px;font-size:12px;opacity:0.7"});var jo={name:"10i7m94",styles:"opacity:0.7"};const zo=e=>{let{isTokenShared:t,isShared:n,isReadOnly:o,onShare:r,isCancelledNextRecordingCountdown:s,onCancelNextRecording:l,onReplay:c,isAutoplaying:d,recording:u,onTimerExpired:g,hasPreviousRecording:p,onPrevious:h,hasNextRecording:m,onNext:b,onCreateFeedback:f,showFeedbackPrompt:_,siteId:v,worthWatchingAnswer:k,onWorthWatchingAnswerChange:x,isPlaying:w,play:T,pause:C}=e;const{t:S}=(0,We.$G)(),[{status:I},{setWorthWatching:Z}]=rn({siteId:v,recordingId:u.id}),[R,E]=(0,i.useState)(!1),P=(0,i.useCallback)((async e=>{const t=k;x(e),await Z(e)||x(t)}),[k,Z,x]),N=(0,i.useCallback)((()=>{y(u,{element_name:"playback_replayed",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_link_recording_end_screen"}),c()}),[c,u]),O=(0,i.useCallback)((()=>{y(u,{element_name:"playback_went_to_previous_recording",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_end-screen"}),h()}),[h,u]),A=(0,i.useCallback)((()=>{y(u,{element_name:"playback_went_to_next_recording",state_event_was_triggered_on:"playback.player_navigation",ui_position:"clicked_end-screen"}),b()}),[b,u]);return(0,M.BX)(Ro,{children:[(0,M.tZ)(tn,{isOpen:R,isShared:n,recording:u,onClose:()=>E(!1),onShare:r,uiPosition:"clicked_share_in_recording_end_screen",startAt:!1,isPlaying:w,play:T,pause:C}),(0,M.tZ)(Eo,{children:S("common:player.session-ended")}),!t&&(0,M.tZ)(Zo,{answer:k,onAnswerChange:P,isLoading:I===on.LOADING}),(0,M.BX)(Oo,{children:[t&&(0,M.BX)(Lo,{children:[(0,M.BX)(Po,{children:[(0,M.tZ)(Mo,{children:S("common:player.not-using-hotjar")}),(0,M.tZ)(Vo,{children:(0,M.BX)("div",{css:jo,children:[S("common:player.start-understanding-customers"),"",(0,M.tZ)("span",{children:(0,M.tZ)(a.rU,{href:"https://insights.hotjar.com/register",isExternal:!0,kind:"inline",css:(0,yt.iv)("color:",a.TV.color.neutral_500,";&:hover{color:",a.TV.color.neutral_500,";}",""),children:S("common:player.try-for-free")})})]})})]}),(0,M.tZ)(No,{children:(0,M.tZ)(Ao,{src:io,alt:"Hotjar logo"})})]}),!t&&(0,M.BX)(M.HY,{children:[(0,M.BX)(Po,{children:[(0,M.tZ)(po,{onClick:()=>{l(),E(!0)},isActive:n,disabled:o}),(0,M.tZ)(go,{onClick:()=>{const{setActiveModal:e}=dn.getState();l(),e(ln.DELETE_RECORDING_OPEN)},disabled:o})]}),!o&&_&&(0,M.tZ)(co,{onCreateFeedback:f,siteId:v}),o&&(0,M.BX)(No,{children:[(0,M.tZ)(Do,{children:S("common:player.request-for-write-access-title")}),(0,M.tZ)(Bo,{children:(0,M.BX)(We.cC,{i18nKey:"common:player.request-for-write-access-explanation",children:["Want to share or tag recordings? Ask one of your Organization admins to give you ",(0,M.tZ)("b",{children:"write access"}),"."]})})]})]})]}),(0,M.tZ)(xo,{onNext:A,onPrevious:O,hasPreviousRecording:p,hasNextRecording:m,timer:8,isCancelledNextRecordingCountdown:s,onCancelNextRecording:l,onReplay:N,isTokenShared:t,isAutoplaying:d,onTimerExpired:g})]})};zo.defaultProps={hasPreviousRecording:!1,hasNextRecording:!1,onTimerExpired:()=>{},showFeedbackPrompt:!1,worthWatchingAnswer:null,recording:null},zo.propTypes={isTokenShared:ft().bool.isRequired,isShared:ft().bool.isRequired,isReadOnly:ft().bool.isRequired,onShare:ft().func.isRequired,isCancelledNextRecordingCountdown:ft().bool.isRequired,onCancelNextRecording:ft().func.isRequired,onReplay:ft().func.isRequired,isAutoplaying:ft().bool.isRequired,recording:ft().shape({id:ft().number}),onTimerExpired:ft().func,hasPreviousRecording:ft().bool,onPrevious:ft().func.isRequired,hasNextRecording:ft().bool,onNext:ft().func.isRequired,onCreateFeedback:ft().func.isRequired,showFeedbackPrompt:ft().bool,siteId:ft().number.isRequired,worthWatchingAnswer:ft().bool,onWorthWatchingAnswerChange:ft().func.isRequired,isPlaying:ft().bool.isRequired,play:ft().func.isRequired,pause:ft().func.isRequired};var Ho=n(38878),$o=n(69956);const Xo=e=>{const[t,n]=(0,i.useState)([0,0]),o=(0,i.useCallback)((0,$o.Z)((e=>{if(!Array.isArray(e))return;const t=e[0];n([t.contentRect.width,t.contentRect.height])}),100,{trailing:!0}),[]);return(0,i.useLayoutEffect)((()=>{let t=!1;if(!e.current)return;let n=new ResizeObserver((0,Ho.Z)((e=>{t||o(e)})));return n.observe(e.current),()=>{t=!0,n?.disconnect(),n=null}}),[e,o]),{width:t[0],height:t[1]}},Go={name:"1xen6xn",styles:"border-top-right-radius:4px;border-bottom-right-radius:4px"},Fo=(0,yt.iv)("padding-right:",1.5,"px;",""),Uo={name:"192xpah",styles:"border-top-left-radius:4px;border-bottom-left-radius:4px"},Wo=(0,Fe.Z)("div",{target:"e15a98mc1"})("background:",a.TV.color.neutral_500,";cursor:pointer;background-clip:content-box;box-sizing:border-box;position:absolute;height:",(e=>{let{isSectionWithActivity:t}=e;return t?8:3}),"px;top:",(e=>{let{isSectionWithActivity:t}=e;return t?0:2.5}),"px;transform-origin:center;",(e=>{let{isFirst:t,isLast:n,isSectionWithActivity:i,isSmallSection:o}=e;return!i||o?"":t?Uo:n?Go:""}),";",(e=>{let{isLastSectionOfPage:t,isLast:n}=e;return t&&!n?Fo:""}),";overflow:hidden;transition:all 0.1s ease-out;"),qo=(0,Fe.Z)("div",{target:"e15a98mc0"})("background:",a.TV.color.ember_600,";height:",(e=>{let{isSectionWithActivity:t}=e;return t?8:3}),"px;width:100%;transform-origin:top left;"),Yo=(e,t)=>e?2:t?1.5:1,Jo=e=>{let{isFirst:t,isLast:n,xPositionInPx:i,xWidthInPx:o,xProgressInPercent:r,onMouseDown:a,isHoveringOnSection:s,isAtLeastHalfExpanded:l,isSectionWithActivity:c,isBeforeInactiveSection:d,isAfterInactiveSection:u,isLastSectionOfPage:g}=e;return(0,M.tZ)(Wo,{isFirst:t,isLast:n,isBeforeInactiveSection:d,isAfterInactiveSection:u,isSectionWithActivity:c,isSmallSection:o<7.5,isLastSectionOfPage:g,onMouseDown:e=>a(e.clientX,"clicked_directly_on_timeline"),draggable:"false","data-testid":"timeline-section",style:{left:i,width:o,transform:`scaleY(${Yo(s,l)})`},children:(0,M.tZ)(qo,{draggable:"false",isSectionWithActivity:c,style:{transform:`scaleX(${r/100})`}})})},Ko=i.memo(Jo),Qo=e=>{const t=Number((100*Math.abs(e)).toPrecision(8));return Math.ceil(t)/100*Math.sign(e)},er=e=>{let{width:t,duration:n,isHoveringTimeline:o,isHoveringSurrounding:r,onMouseDown:a}=e;const s=(0,D.hr)((e=>e.sectionInfoList)),l=(0,D.hr)((e=>e.isDragging)),c=(0,D.hr)((0,i.useCallback)((e=>e.isDragging?e.draggedSectionIndex:e.currentSectionIndex),[])),d=(0,D.hr)((0,i.useCallback)((e=>e.isDragging?e.draggedPageIndex:e.currentPageIndex),[])),u=(0,D.hr)((0,i.useCallback)((e=>e.isDragging?e.draggedTime/n*t:e.currentTimeWithLessPrecision/n*t),[n,t])),g=(0,D.hr)((e=>e.hoveredPageIndex)),p=(0,i.useCallback)(((e,n,i,o)=>{if(n<i)return 100;if(n>i)return 0;const r=e.startTimeInPercent/100*t;return(o-r)/((e.startTimeInPercent+e.durationInPercent)/100*t-r)*100}),[t]);return(0,M.tZ)(M.HY,{children:s.map(((e,n)=>{const i=l&&d===e.pageIndex||!l&&g===e.pageIndex;return(0,M.tZ)(Ko,{isFirst:0===n,isLast:n===s.length-1,isBeforeInactiveSection:!1===s[n+1]?.isActive,isAfterInactiveSection:!1===s[n-1]?.isActive,xPositionInPx:Qo(e.startTimeInMs/D.hr.getState().duration*t+(e.isActive?0:-.5)),xWidthInPx:Qo(e.durationInMs/D.hr.getState().duration*t+(e.isActive?0:1)),xProgressInPercent:p(e,n,c,u),onMouseDown:a,isAtLeastHalfExpanded:i&&r,isHoveringOnSection:(l||o)&&i,isSectionWithActivity:e.isActive,isLastSectionOfPage:e.pageIndex!==s[n+1]?.pageIndex},e.index)}))})},tr=i.memo(er),nr=32,ir=34,or=24,rr=(0,Fe.Z)("div",{target:"e1aswj7m1"})("position:absolute;left:0;z-index:",32,";"),ar=(0,Fe.Z)("div",{target:"e1aswj7m0"})("cursor:pointer;height:",18,"px;width:",18,"px;border-radius:50%;background:",a.TV.color.ember_600,";",a.TV.elevation(2),";transition:all 0.1s ease-out;"),sr=e=>{let{width:t,duration:n,visible:o,onMouseDown:r}=e;const a=(0,i.useRef)(null);return(0,i.useLayoutEffect)((()=>D.hr.subscribe((e=>{if(!a.current)return;const i=e/n*t;a.current.style.transform=`translateX(${i-9}px)`}),(e=>e.isDragging?e.draggedTime:e.currentTimeWithLessPrecision))),[a,n,t]),(0,i.useLayoutEffect)((()=>{if(!a.current)return;const e=D.hr.getState().currentTimeWithLessPrecision/n*t;a.current.style.transform=`translateX(${e-9}px)`}),[n,t]),(0,M.tZ)(rr,{onMouseDown:e=>r(e.clientX,"dragged_timeline_wheel"),draggable:"false","data-testid":"progress-handle",ref:a,children:(0,M.tZ)(ar,{style:{transform:`scale(${o?1:0})`}})})},lr=i.memo(sr);var cr=n(77594);function dr(e){return function(t){let{...n}=t;return(0,cr.S)("recordings.multi_tab_concurrent")?(0,M.tZ)(e,{...n}):null}}const ur=n.p+"d9c5f2913e7ab3f2b180.svg",gr=(e,t)=>e<6e4?`${(e=>Math.round(e/1e3))(e)} ${t("common:player.timeline.seconds-abbreviated")}`:`${(e=>Math.round(e/6e4))(e)} ${t("common:player.timeline.minutes-abbreviated")}`,pr=(0,Fe.Z)("div",{target:"e116i5234"})({name:"h7l46g",styles:"display:flex;flex-direction:column;min-width:176px;max-width:328px"}),hr=(0,Fe.Z)("div",{target:"e116i5233"})("padding:",a.TV.spacer.x1," ",a.TV.spacer.x2,";",a.TV.text("caption")," font-weight:500;line-height:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;direction:rtl;"),mr=(0,Fe.Z)("span",{target:"e116i5232"})({name:"1q5yvxg",styles:"unicode-bidi:embed;direction:ltr"}),br=(0,Fe.Z)("div",{target:"e116i5231"})("padding:0 ",a.TV.spacer.x2," ",a.TV.spacer.x1," ",a.TV.spacer.x2,";",a.TV.text("caption")," color:",a.TV.color.text_light_inverse,";"),fr=(0,Fe.Z)("div",{target:"e116i5230"})("width:100%;padding:",a.TV.spacer.x1," ",a.TV.spacer.x2,";",a.TV.text("caption")," color:",a.TV.color.white,";background-color:",a.TV.color.neutral_600,";border-bottom-left-radius:",a.TV.spacer.x0,";border-bottom-right-radius:",a.TV.spacer.x0,";"),yr=dr((e=>{let{currentTabNumber:t,totalTab:n}=e;const{t:i}=(0,We.$G)();return(0,M.BX)(M.HY,{children:[" ",""," ",(0,M.tZ)("span",{children:i("common:player.timeline.tab-of",{currentTabNumber:t,totalTab:n})})]})})),_r=e=>{let{isDragging:t,id:n}=e;const{t:o}=(0,We.$G)(),r=(0,D.hr)((0,i.useCallback)((e=>t?e.sectionInfoList[e.draggedSectionIndex]:e.sectionInfoList[e.hoveredSectionIndex]),[t])),a=(0,D.hr)((0,i.useCallback)((e=>t?e.draggedTime:e.hoveredTime),[t])),s=(0,D.hr)((e=>e.sectionInfoList[e.sectionInfoList.length-1]?.pageIndex+1)),{tabCount:l}=D.hr.getState();return(0,M.tZ)(pr,{id:n,children:r&&(0,M.BX)(M.HY,{children:[(0,M.tZ)(hr,{children:(0,M.tZ)(mr,{children:(0,wn.G1)(r.url)})}),(0,M.BX)(br,{children:[(0,M.tZ)("span",{children:(0,Gt.G)(a)})," "," ",(0,M.tZ)("span",{children:o("common:player.timeline.page-of",{currentPageNumber:r.pageIndex+1,totalPage:s})}),(0,M.tZ)(yr,{currentTabNumber:r.tabIndex+1,totalTab:l})]}),!r.isActive&&(0,M.BX)(fr,{children:[(0,M.tZ)("img",{src:ur,alt:"inactive-icon"}),"",o("common:player.timeline.user-was-inactive"),"",gr(r.durationInMs,o)]})]})})},vr=(0,Fe.Z)(ji.u,{target:"ehed2w01"})("pointer-events:none;background-color:",a.TV.color.neutral_700,";padding:0;border-radius:",a.TV.spacer.x0,";"),kr=(0,Fe.Z)("div",{target:"ehed2w00"})({name:"bjyykg",styles:"position:absolute;left:0"}),xr=e=>{let{isDragging:t,width:n,duration:o,id:r}=e;const a=(0,D.hr)((0,i.useCallback)((e=>t?e.draggedTime/o*n:e.hoveredTime/o*n),[t,o,n]));return(0,M.tZ)(vr,{content:(0,M.tZ)(_r,{id:r,isDragging:t}),visible:!0,arrow:!1,offset:[0,20],children:(0,M.tZ)(kr,{draggable:"false",style:{transform:`translateX(${a}px)`}})})},wr=()=>{const e=(0,B.LP)()||"",t=Boolean(e);return window.location.href.includes("incoming-feedback-response")||t};var Tr=n(89634);const Cr=(e,t)=>{switch(e.type){case"input_choice_change":case"select_change":return"checkbox";case"viewport_resize":return"window_resize";case"page":return e.is_new_tab||e.is_visited_tab?"tab":"navigate";case"key_press":return"key_press";case"scroll":return"scroll";case"mouse_click":return t?"cursor_click":"finger_tap";case"tag_recording":return"lightning";case"autotag_recording":switch(e.subtype?e.subtype:e.name){case"rageclick":return"rage_click";case"uturn":return"uturn";case"wildscroll":return"scroll";case"madmouse":return"mad_mouse";case"poll":return"chart_bar";case"feedback":return"comment";default:return"lightning"}case"error":return"warning_alt";case"heatmap_screenshot":return"camera";default:return"lightning"}},Sr=(e,t)=>"page"===t.type?t.url||"":t.autotag_properties&&t.autotag_properties.response_id?"feedback"===t.autotag_properties.type?`/sites/${e}/feedback/responses/${t.autotag_properties.id}?frid=${t.autotag_properties.response_id}`:"poll"===t.autotag_properties.type?`/sites/${e}/surveys/responses/${t.autotag_properties.id}?prid=${t.autotag_properties.response_id}`:"":"",Ir=a.TV.BRAND_COLORS.noon_400,Zr=Ir,Rr=e=>{setTimeout((()=>{e.hide()}),5e3)},Er=(0,Fe.Z)("div",{target:"ewint1n0"})("background:",Zr,";background-clip:content-box;bottom:",(e=>{let{isRespectivePageHovered:t}=e;return t?-4:2}),"px;border-radius:4px;box-shadow:0px 0px 0px 1px ",a.TV.color.text_default,";box-shadow:none;cursor:pointer;box-sizing:border-box;height:",(e=>{let{isRespectivePageHovered:t}=e;return t?4:2}),"px;overflow:hidden;position:absolute;transition:all 0.1s ease-out;transform-origin:center;&:hover{height:",4,"px;}"),Pr=i.memo((e=>{let{xPositionInPx:t,xWidthInPx:n,isRespectivePageHovered:i,showFilterMatchTooltip:o,showOnCreate:r}=e;const{t:s}=(0,We.$G)();return(0,M.BX)(M.HY,{children:[Boolean(n&&o)&&(0,M.tZ)(a.u,{showOnCreate:r,onShow:Rr,text:s("common:player.timeline.filter-match"),placement:"bottom",css:(0,yt.iv)("background:",Ir,";color:",a.TV.ALIAS_TEXT_COLORS.text_default,";.tippy-arrow{color:",Ir,";}",""),children:(0,M.tZ)(Er,{isRespectivePageHovered:i,"data-testid":"underline-section",style:{left:t,width:n}})}),!o&&(0,M.tZ)(Er,{isRespectivePageHovered:i,"data-testid":"underline-section",style:{left:t,width:n}})]})})),Nr=a.TV.color.white,Or=e=>{switch(e.type){case"tag_recording":return a.TV.color.neutral_700;case"viewport_resize":return a.TV.color.white;case"autotag_recording":return"poll"===(e.subtype??e.name)?a.TV.color.lilac:"inherited";case"heatmap_screenshot":return a.TV.color.neutral_800;case"error":return a.TV.color.text_danger;default:return"inherited"}},Ar=e=>{switch(e.type){case"key_press":case"select_change":case"input_choice_change":return"#61FF7E";case"tag_recording":return"#5dffd3";case"viewport_resize":return a.TV.BRAND_COLORS.neutral_700;case"mouse_click":return a.TV.color.neutral_100;case"autotag_recording":switch(e.subtype??e.name){case"rageclick":return"#FFD166";case"uturn":return"#FFFF8D";case"wildscroll":case"poll":case"feedback":return Nr;default:return"#5DFFD3"}case"error":case"heatmap_screenshot":return a.TV.color.white;default:return Nr}},Lr={"feedback.sentiment.e:4":"incoming_love","feedback.sentiment.e:3":"incoming_like","feedback.sentiment.e:2":"incoming_neutral","feedback.sentiment.e:1":"incoming_dislike","feedback.sentiment.e:0":"incoming_hate"},Mr=(0,Fe.Z)("div",{target:"ess00cg6"})("position:absolute;width:",4,"px;height:",4,"px;border-radius:",4,"px;cursor:pointer;background:",(e=>{let{backgroundColor:t}=e;return t||Nr}),";"),Vr=(0,Fe.Z)(Mr,{target:"ess00cg5"})({name:"mfq7o5",styles:"transition:all 0.1s ease-out"}),Dr=(0,Fe.Z)(Mr,{target:"ess00cg4"})("width:",16,"px;height:",16,"px;border-radius:2px;display:flex;justify-content:center;align-items:center;padding:2px;color:",(e=>{let{color:t}=e;return t??"inherited"}),";transition:all 0.1s ease-out;"),Br=(0,Fe.Z)(Dr,{target:"ess00cg3"})("width:",a.TV.spacer.x4,";height:",a.TV.spacer.x4,";padding:",a.TV.spacer.x1,";background-color:",a.TV.color.ui_background,";border-radius:",a.TV.spacer.x0,";bottom:",a.TV.spacer.x2,";",a.TV.elevation(4),";"),jr=(0,Fe.Z)(Tr.B,{target:"ess00cg2"})({name:"1vcob1d",styles:"display:flex;justify-content:center;align-items:center"}),zr=(0,Fe.Z)(Mr,{target:"ess00cg1"})({name:"mfq7o5",styles:"transition:all 0.1s ease-out"}),Hr=(0,Fe.Z)(Er,{target:"ess00cg0"})("top:12px;bottom:0;width:",16,"px;height:",2,";"),$r=(0,i.forwardRef)(((e,t)=>{let{eventMarker:n,xPositionInPx:o,isDesktopRecording:r,onMouseDown:s,setIsHoveringMarker:l,showFilterMatchTooltip:c,firstFilterMatch:d}=e;const[u,g]=(0,i.useState)(!1),p=(0,i.useRef)(null),{openConsole:h}=He(),{t:m}=(0,We.$G)();(0,i.useImperativeHandle)(t,(()=>p.current??void 0)),(0,i.useEffect)((()=>D.hr.subscribe((e=>{p.current&&(p.current.style.pointerEvents=e?"none":"inherit")}),(e=>e.isDragging))),[p]);const b=(0,i.useCallback)((e=>{g(e),l(e)}),[l]),f=(0,i.useCallback)((e=>{"error"===n.type&&h(n.time),s(e.clientX,`clicked_on_timeline_marker-${(e=>{if(e.name?.startsWith("feedback")){const t=e.name.match(/^(feedback\.sentiment\.e:[0-4]{1})/gm);if(t&&t.length>0)return Lr[t[0]]}return e.name??e.type})(n)}`)}),[h,s,n]),y=o-8,_=o-2;if(n.is_highlighted&&!c)return(0,M.BX)(M.HY,{children:[(0,M.tZ)(Dr,{backgroundColor:Ar(n),color:Or(n),ref:p,onMouseDown:f,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),style:{left:y,transform:`scale(${u?1.3:1})`,zIndex:u?ir:nr},children:(0,M.tZ)(a.JO,{icon:Cr(n,r)})}),(0,M.tZ)(Hr,{style:{left:y,transform:`scale(${u?1.3:1})`,marginTop:(u?5:2)+"px",zIndex:u?ir:nr}})]});if(n.is_highlighted&&c)return(0,M.BX)(M.HY,{children:[(0,M.tZ)(Dr,{backgroundColor:Ar(n),color:Or(n),ref:p,onMouseDown:f,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),style:{left:y,transform:`scale(${u?1.3:1})`,zIndex:u?ir:nr},children:(0,M.tZ)(a.JO,{icon:Cr(n,r)})}),y&&(0,M.tZ)(a.u,{showOnCreate:n===d,onShow:Rr,text:m("common:player.timeline.filter-match"),placement:"bottom",css:(0,yt.iv)("background:",Ir,";color:",a.TV.ALIAS_TEXT_COLORS.text_default,";.tippy-arrow{color:",Ir,";}",""),children:(0,M.tZ)(Hr,{style:{left:y,transform:`scale(${u?1.3:1})`,marginTop:(u?5:2)+"px",zIndex:u?ir:nr}})})]});if("autotag_recording"===n.type){const e=n.subtype??n.name;return"poll"!==e&&"feedback"!==e||null==n.autotag_properties?.e?(0,M.tZ)(Dr,{backgroundColor:Ar(n),ref:p,onMouseDown:f,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),color:Or(n),style:{left:y,transform:`scale(${u?1.3:1})`,zIndex:u?ir:nr},children:(0,M.tZ)(a.JO,{icon:Cr(n,r)})}):(0,M.tZ)(Dr,{backgroundColor:Ar(n),ref:p,onMouseDown:f,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),style:{left:y,transform:`scale(${u?1.3:1})`,zIndex:u?ir:nr},children:(0,M.tZ)(jr,{emotionStyle:"feedback"===e?"default":"smiley",score:n.autotag_properties.e,size:"xs"})})}return"tag_recording"===n.type||"error"===n.type?(0,M.tZ)(Dr,{backgroundColor:Ar(n),ref:p,onMouseDown:f,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),color:Or(n),style:{left:y,transform:`scale(${u?1.3:1})`,zIndex:u?ir:nr},children:(0,M.tZ)(a.JO,{icon:Cr(n,r)})}):n.progress_duration?(0,M.tZ)(zr,{backgroundColor:Ar(n),ref:p,onMouseDown:f,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),style:{left:_,width:+n.progress_duration+"%",transform:`scaleY(${u?2:1})`,zIndex:u?ir:30}}):"heatmap_screenshot"===n.type?(0,M.tZ)(Br,{backgroundColor:Ar(n),ref:p,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),color:Or(n),style:{left:o-14,transform:`scale(${u?1.1:1})`,zIndex:u?ir:nr},children:(0,M.tZ)(a.JO,{icon:Cr(n,r)})}):(0,M.tZ)(Vr,{backgroundColor:Ar(n),ref:p,onMouseDown:f,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),style:{left:_,transform:`scale(${u?2:1})`,zIndex:u?ir:31},"data-testid":"default-event-marker"})}));var Xr=n(62339);const Gr="common:player.timeline",Fr=e=>{const t=e.split(">").reverse(),n=t.findIndex((e=>e.includes("#")||e.includes(".")));return-1===n||n+1===t.length?e.slice(2).replaceAll(">"," > "):t.slice(0,n+1).reverse().join(" > ")};function Ur(e,t,n){let i="";switch(e.type){case"key_press":i=n(`${Gr}.entered-text`);break;case"input_choice_change":case"select_change":i=n(`${Gr}.selected-something`);break;case"mouse_click":return e.text||e.selector?n(`${Gr}.${t?"mouse-click":"tap"}-enriched`,{name:e.text??Fr(e.selector)}):n(`${Gr}.${t?"mouse-click":"tap"}`);case"scroll":i=n(`${Gr}.page-scroll`);break;case"page":i=n(`${Gr}.visited-new-page`);break;case"viewport_resize":i=n(`${Gr}.resized-window`);break;case"tag_recording":i=n(`${Gr}.event`,{name:e.name});break;case"autotag_recording":{const o=e.subtype??e.name;if(!o)break;const r=`${Gr}.behavior-display-info`;switch(o){case"madmouse":i=n(`${r}.madmouse.name`);break;case"rageclick":i=n(t?`${r}.rageclick.name`:`${r}.rageclick.mobile-name`);break;case"uturn":i=n(`${r}.uturn.name`);break;case"wildscroll":i=n(`${r}.wildscroll.name`);break;case"poll":null==e.autotag_properties?.e?i=n(`${r}.poll.name`):(i=n(`${r}.poll.new-timeline-name`),i+=` = ${e.autotag_properties?.e}`);break;case"feedback":null==e.autotag_properties?.e?i=n(`${r}.feedback.name`):(i=n(`${r}.feedback.new-timeline-name`),i+=" = ",i+=n(`${r}.feedback.score.${e.autotag_properties?.e}`));break;default:i="Unknown event"}break}case"heatmap_screenshot":i=n(`${Gr}.heatmap-current-screenshot`);break;case"error":i=n(`${Gr}.error`)+e.text;break;default:e.type,i="Unknown event"}return(0,Xr.k)(i,!0)}const Wr=(0,Fe.Z)(a.rU,{target:"e1cafxjo0"})("color:",a.TV.color.white,";text-decoration:none;&:hover,&:focus{color:",a.TV.color.white,";}"),qr=e=>{let{targetUrl:t,eventDescription:n,setIsHoveringMarker:i}=e;return(0,M.tZ)("div",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:(0,M.tZ)(Wr,{href:t,rel:"noopener noreferrer",kind:"inline",isExternal:!0,children:n})})},Yr=(0,Fe.Z)("div",{target:"eew48hh1"})({name:"izd6f0",styles:"display:flex;flex-direction:column;max-width:328px"}),Jr=(0,Fe.Z)("div",{target:"eew48hh0"})({name:"l8l8b8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis"}),Kr=e=>{let{eventMarker:t,isDesktopRecording:n,siteId:i,children:o,setIsHoveringMarker:r}=e;const{t:a}=(0,We.$G)();if("autotag_recording"===t.type){const e=Sr(i,t);if(e)return(0,M.tZ)(ji.u,{content:(0,M.tZ)(qr,{targetUrl:e,eventDescription:Ur(t,n,a),setIsHoveringMarker:r}),placement:"top",interactive:!0,children:o})}return(0,M.tZ)(ji.u,{content:(0,M.tZ)(Yr,{children:(0,M.tZ)(Jr,{children:Ur(t,n,a)})}),placement:"top",children:o})},Qr=e=>{let t=0;return e.reduce(((e,n)=>{if(n.progress_pos===e[e.length-1]?.progress_pos)return e;if("error"===n.type){if(t>=20)return e;t+=1}return[...e,n]}),[])},ea=e=>{let{eventMarkers:t,width:n,isDesktopRecording:i,siteId:o,onMouseDown:r,setIsHoveringOneMarker:a,firstFilterMatch:s}=e;const l=!wr();return n?(0,M.tZ)(M.HY,{children:Qr(t).map((e=>(0,M.tZ)(Kr,{eventMarker:e,isDesktopRecording:i,siteId:o,setIsHoveringMarker:a,children:(0,M.tZ)($r,{eventMarker:e,xPositionInPx:+e.progress_pos/100*n,isDesktopRecording:i,onMouseDown:r,setIsHoveringMarker:a,showFilterMatchTooltip:l,firstFilterMatch:s})},e.key)))}):null},ta=i.memo(ea),na=(0,Fe.Z)("div",{target:"e1ew92o60"})("width:100%;position:absolute;top:25px;height:4px;padding:0 ",or,"px 0px ",or,"px;>div{top:2px;width:100%;position:relative;height:4px;}"),ia=i.memo((e=>{let{sidePanelEventMarkers:t,recordingDuration:n,firstFilterMatch:o}=e;const r=(0,i.useRef)(null),{width:a}=Xo(r),s=(0,D.hr)((e=>e.isHovering)),l=(0,D.hr)((e=>e.hoveredPageIndex)),c=(0,D.hr)((0,i.useCallback)((e=>{const[t,...n]=e.sectionInfoList.filter((e=>e.pageIndex===l));if(!t)return null;const i=n.reduce(((e,t)=>t.durationInMs+e),t.durationInMs);return{startTimeInMs:t.startTimeInMs,endTimeInMs:t.startTimeInMs+i,durationInMs:i}}),[l]));if(0===t?.length)return null;const d=t?.filter((e=>e.is_highlighted)),u=!wr();return 0===d?.length||null===c?null:(0,M.tZ)(na,{ref:r,children:(0,M.tZ)("div",{children:d?.map((e=>{let{time:t,duration:i}=e;const r=Qo(t*a/n),l=i&&Qo(i*a/n);return i?(0,M.tZ)(Pr,{xPositionInPx:r,xWidthInPx:l,showFilterMatchTooltip:u,isRespectivePageHovered:s&&t>=c.startTimeInMs&&t+i<=c.endTimeInMs,showOnCreate:!!o&&o.time===t},t+i):null}))})})})),oa=(0,Fe.Z)("div",{target:"ezxeg1q2"})("height:46px;min-height:46px;width:100%;position:relative;bottom:-8px;z-index:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 ",or,"px 4px ",or,"px;"),ra=(0,Fe.Z)("div",{target:"ezxeg1q1"})({name:"1jttvu5",styles:"width:100%;position:relative;display:flex;justify-content:center;align-items:center"}),aa=(0,Fe.Z)("div",{target:"ezxeg1q0"})({name:"ia9t1n",styles:"height:8px;width:100%"});let sa=!1;const la=e=>{let{duration:t,jumpTo:n,eventMarkers:o,isDesktopRecording:r,siteId:a,isPlaying:s,setTimelineBox:l,sidePanelEventMarkers:c}=e;const d=(0,i.useRef)(null),{width:u}=Xo(d),g=(0,D.hr)((e=>e.setDraggedTime)),p=(0,D.hr)((e=>e.setHoveredTime)),h=(0,D.hr)((e=>e.setAllTimeAfterDrag)),m=(0,D.hr)((e=>e.setIsDragging)),b=(0,D.hr)((e=>e.isDragging)),f=(0,D.hr)((e=>e.setIsHovering)),y=(0,D.hr)((e=>e.isHovering)),[_,v]=(0,i.useState)(!1),[k,x]=(0,i.useState)(!1),[w,T]=(0,i.useState)(0);(0,i.useLayoutEffect)((()=>{if(d.current){const{left:e}=d.current.getBoundingClientRect();T(e)}}),[T,u]);const C=(0,i.useCallback)(((e,i)=>{if(e>=0&&d.current){const o=Math.min(Math.max(0,e-w),u)/u*t;n(o,i),h(o),m(!1),sa||((0,N.trigger)("used_new_player_timeline"),sa=!0)}}),[w,t,u,n,h,m]),S=(0,i.useMemo)((()=>(0,Ho.Z)((e=>{if(e>=0&&w){const n=Math.min(Math.max(0,e-w),u);g(n/u*t)}}))),[w,u,t,g]),I=(0,i.useCallback)(((e,n)=>{if(e>=0&&w){const n=Math.min(Math.max(0,e-w),u);g(n/u*t)}m(!0);const i=e=>S(e.clientX),o=e=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o),C(e.clientX,n)};document.addEventListener("mouseup",o),document.addEventListener("mousemove",i)}),[w,u,t,g,m,S,C]),Z=(0,i.useMemo)((()=>(0,Ho.Z)((e=>{if(!D.hr.getState().isDragging&&w&&e>=0){const n=Math.min(Math.max(0,e-w),u);p(n/u*t)}}))),[w,u,t,p]),R=((e,t)=>{const n=e.filter((e=>e.is_highlighted))[0],i=t&&t.filter((e=>e.is_highlighted))[0];return!i&&n?n:!n&&i?i:n&&i?n.time<i.time?n:i:null})(o,c);return(0,M.BX)(oa,{draggable:"false",onMouseEnter:()=>{v(!0)},onMouseLeave:()=>{v(!1)},onMouseMove:e=>{Z(e.clientX)},ref:l,children:[(0,M.BX)(ra,{id:se.TIMELINE,onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},children:[(0,M.tZ)(aa,{ref:d,draggable:"false",children:(0,M.tZ)(tr,{width:u,duration:t,isHoveringTimeline:y,isHoveringSurrounding:_,onMouseDown:I})}),(0,M.tZ)(ta,{eventMarkers:o,isDesktopRecording:r,siteId:a,width:u,onMouseDown:I,setIsHoveringOneMarker:x,firstFilterMatch:R}),(0,M.tZ)(lr,{onMouseDown:I,visible:!s||b||_,width:u,duration:t}),(b||y&&!k)&&(0,M.tZ)(xr,{id:se.SELECTION_TOOLTIP,isDragging:b,width:u,duration:t})]}),(0,M.tZ)(ia,{sidePanelEventMarkers:c,recordingDuration:t,firstFilterMatch:R})]})},ca=(0,Fe.Z)("div",{target:"e1p4w6bh1"})({name:"m4owox",styles:"position:absolute;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:21"}),da=(0,Fe.Z)(Bt.E.div,{target:"e1p4w6bh0"})("z-index:21;background:",a.TV.BRAND_COLORS.neutral_200,";position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;"),ua=e=>{let{isLoading:t}=e;return(0,M.tZ)(jt.M,{initial:!0,children:t&&(0,M.tZ)(da,{animate:{opacity:1},exit:{opacity:0},children:(0,M.tZ)(ca,{children:(0,M.tZ)("div",{id:"recording-spinner"})})})})};var ga=n(91746),pa=n(43473);const ha="hj-shadow:",ma=e=>e&&e.split(/:(.*)/s)[1].replaceAll(ha,"").replace(/\\/g,"")||"",ba=(e,t,n)=>{switch(e.type){case"page":return e?.is_new_tab?t("common:player.sidebar.new-tab",{...n.page}):e?.is_visited_tab?t("common:player.sidebar.visited-tab",{...n.page}):t("common:player.sidebar.visited");case"input_choice_change":case"select_change":case"key_press":return t("common:player.sidebar.changed");case"mouse_click":return t("common:player.sidebar.clicked");case"viewport_resize":return t("common:player.sidebar.resized-window-to");case"tag_recording":return t("common:player.sidebar.event");case"autotag_recording":return e.subtype?t("common:player.sidebar.feedback"):t("common:player.sidebar.behavior");default:return t("common:player.sidebar.unknown-action")}},fa=(e,t)=>{switch(e.type){case"page":return e.url??"";case"input_choice_change":case"select_change":case"key_press":return`${ma(e.selector)}&nbsp;${e.suppression&&"full"===e.suppression?"":t("common:player.sidebar.to",{target:e.text||e.value})}`;case"mouse_click":return ma(e.selector);case"viewport_resize":return`${e.w}x${e.h}`;case"tag_recording":return e.name??"";case"autotag_recording":return e.text??"";default:return""}},ya=(e,t)=>{switch(e.type){case"page":return`${e.url}\n\n${t("common:player.sidebar.duration-on-page",{duration:(0,Gt.G)(e.duration)})}`;case"input_choice_change":case"select_change":case"key_press":return`${ma(e.selector)} ${e.suppression&&"full"===e.suppression?t("common:player.sidebar.data-suppressed"):t("common:player.sidebar.to",{target:e.text||e.value})}`;case"mouse_click":return ma(e.selector);case"tag_recording":return e.name??"";case"autotag_recording":return e.description??t("common:player.sidebar.unknown-action");default:return t("common:player.sidebar.unknown-action")}},_a=(0,yt.iv)("background-color:",a.TV.color.ui_background,";color:",a.TV.color.text_default,";",a.TV.elevation(1),";",""),va=(0,Fe.Z)("button",{target:"e1snf2aa6"})("background:transparent;position:relative;display:flex;align-items:center;padding:0;margin:0 20px 12px;width:calc(100% - 40px);height:40px;cursor:pointer;border:none;border-radius:2px;border-left-style:solid;border-left-color:",(e=>{let{borderLeftColor:t}=e;return t??a.TV.color.neutral_100}),";border-left-width:",(e=>{let{borderLeftColor:t}=e;return t?2:0}),"px;",a.TV.text("caption")," font-size:10px;color:",a.TV.color.text_light,";transition:all 0.2s ease-out;",(e=>{let{isHighlighted:t}=e;return t&&_a}),";&:focus-visible{",a.TV.focus(),";border-color:transparent;z-index:1;}"),ka=(0,Fe.Z)("span",{target:"e1snf2aa5"})({name:"1gr4ahq",styles:"flex-basis:35px;flex-shrink:0;flex-grow:0"}),xa=(0,Fe.Z)("span",{target:"e1snf2aa4"})({name:"fo19kt",styles:"flex-grow:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left"}),wa=(0,Fe.Z)("span",{target:"e1snf2aa3"})({name:"2tnnxh",styles:"flex-basis:30px;flex-shrink:0;padding:0 5px"}),Ta=(0,Fe.Z)("span",{target:"e1snf2aa2"})({name:"1efi8gv",styles:"font-weight:bold"}),Ca=(0,Fe.Z)(a.rU,{target:"e1snf2aa1"})("color:",(e=>{let{isHighlighted:t}=e;return t?a.TV.color.neutral_800:a.TV.color.neutral_500}),";text-decoration:none;"),Sa=[a.TV.color.magenta_600,a.TV.color.ember_600,a.TV.color.neutral_500,a.TV.color.mint_600,a.TV.color.mint_800],Ia=e=>"poll"===(e.subtype?e.subtype:e.name)?a.TV.color.lilac:a.TV.color.neutral_400,Za=(0,Fe.Z)(Tr.B,{target:"e1snf2aa0"})({name:"1vcob1d",styles:"display:flex;justify-content:center;align-items:center"}),Ra=i.forwardRef(((e,t)=>{let{eventMarker:n,isDesktopRecording:o,onSidebarEventClick:r,recordingSiteId:s}=e;const l=(0,D.hr)((0,i.useCallback)((e=>n.time<=e.currentTimeWithLessPrecision),[n.time])),{tabCount:c}=D.hr.getState(),d={...void 0!==n?.tab_index&&{page:{tabNumber:n.tab_index+1,totalTab:c}}},[u,g]=(0,i.useState)(!1),{t:p}=(0,We.$G)(),h=(e=>{switch(e.type){case"key_press":case"select_change":case"input_choice_change":return"#333745";case"viewport_resize":return a.TV.BRAND_COLORS.neutral_700;case"mouse_click":return a.TV.color.neutral_100;case"tag_recording":return"#5dffd3";case"autotag_recording":switch(e.subtype??e.name){case"feedback":if(null==e.autotag_properties?.e)return;return Sa[+(e.autotag_properties?.e??0)];case"poll":return null==e.autotag_properties?.e?a.TV.color.lilac:Sa[+(e.autotag_properties?.e??0)];case"rageclick":return"#FFD166";case"uturn":return"#FFFF8D";default:return}default:return}})(n);if("autotag_recording"===n.type){const e=n.subtype??n.name,i=Sr(s,n),c=("poll"===e||"feedback"===e)&&null!=n.autotag_properties?.e;return(0,M.BX)(va,{onClick:()=>r(n),ref:t,isHighlighted:l||u,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),borderLeftColor:h,children:[(0,M.tZ)(ka,{children:c?(0,M.tZ)(Za,{emotionStyle:"feedback"===e?"default":"smiley",score:n.autotag_properties?.e??0,size:"s"}):(0,M.tZ)(a.JO,{icon:Cr(n,o),css:(0,yt.iv)({color:Ia(n)},"","")})}),(0,M.BX)(xa,{children:[(0,M.BX)(Ta,{children:[ba(n,p,d),":"]}),"",i?(0,M.tZ)(Ca,{kind:"inline",href:i,isExternal:!0,isHighlighted:l||u,children:fa(n,p)}):(0,M.tZ)("span",{children:fa(n,p)})]}),(0,M.tZ)(wa,{children:(0,Gt.G)(n.time)})]})}return(0,M.BX)(va,{onClick:()=>r(n),ref:t,isHighlighted:l||u,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),borderLeftColor:h,"aria-label":`Select action: ${ba(n,p,d)} at ${(0,Gt.G)(n.time)}`,children:[(0,M.tZ)(ka,{children:(0,M.tZ)(a.JO,{icon:Cr(n,o),css:(0,yt.iv)({color:Ia(n)},"","")})}),(0,M.BX)(xa,{children:[(0,M.BX)(Ta,{children:[ba(n,p,d),":"]}),"",(0,M.tZ)("span",{children:fa(n,p)})]}),(0,M.tZ)(wa,{children:(0,Gt.G)(n.time)})]})})),Ea=e=>{let{eventMarker:t,children:n}=e;const{t:i}=(0,We.$G)();return(0,M.tZ)(a.u,{text:ya(t,i),placement:"left",isDisabled:"viewport_resize"===t.type,children:n})},Pa=e=>{let{data:t,index:n,style:i}=e;const{eventMarker:o,onSidebarEventClick:r,device:a,recordingSiteId:s}=t[n],l="desktop"===a;return(0,M.tZ)("div",{style:{...i,top:`${parseFloat(i.top)+20}px`},children:(0,M.tZ)(Ea,{eventMarker:o,children:(0,M.tZ)(Ra,{eventMarker:o,isDesktopRecording:l,onSidebarEventClick:r,recordingSiteId:s})})})},Na=i.memo(Pa,ga.wy),Oa=(0,Fe.Z)("div",{target:"e1q7i5fc0"})("background-color:",a.TV.color.neutral_100,";"),Aa=(0,i.forwardRef)(((e,t)=>{let{style:n,...i}=e;return(0,M.tZ)("div",{ref:t,style:{...n,height:`${parseFloat(n.height)+20}px`},...i})})),La=e=>{let{sidePanelEventMarkers:t=[],device:n,onSidebarEventClick:o,recordingDone:r,isVisible:a,recordingSiteId:s}=e;const l=(0,D.hr)((e=>e.currentTimeWithLessPrecision)),[c,d]=(0,i.useState)(window.innerHeight-80),u=(0,i.createRef)(),[g,p]=(0,i.useState)(-1),h=(0,i.useMemo)((()=>t.map((e=>({eventMarker:e,device:n,onSidebarEventClick:o,recordingDone:r,recordingSiteId:s})))),[t,n,o,r,s]);return(0,i.useEffect)((()=>{if(u.current){const e=((e,t)=>{let n=-1;const i=t.length-1;for(let o=0;o<t.length;o++){const r=t[o];if(0===o&&r.eventMarker.time>e)return o;if(o===i)return i;if(n<=e&&r.eventMarker.time>=e)return Math.max(o-1,0);n=r.eventMarker.time}return 0})(l,h);if(e!==g){const t=function(e,t,n){const i=Math.round(n-20),o=Math.max(0,52*t-i);return Math.min(o,52*e-156)}(e,h.length,c);u.current.scrollTo(t),p(e)}}}),[l,h,c,g,u]),(0,i.useEffect)((()=>{const e=(0,pa.Z)((function(){d(window.innerHeight-80)}),1e3);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),a?(0,M.tZ)(Oa,{className:"events",children:(0,M.tZ)(ga.t7,{ref:u,itemData:h,height:c,itemCount:t.length,innerElementType:Aa,itemSize:52,width:300,children:Na})}):(0,M.tZ)("div",{})};var Ma=n(51115);const Va=(0,Fe.Z)("div",{target:"e18etybw3"})("font-size:14px;margin:0 25px 15px 25px;background-color:",a.TV.color.ui_background,";border-radius:3px;border:1px solid ",a.TV.color.ui_border,";box-shadow:0px 2px 4px 0px rgba(0, 0, 0, 0.12);padding:15px;text-align:left;"),Da=(0,Fe.Z)("h4",{target:"e18etybw2"})("color:",a.TV.color.text_default,";margin-bottom:10px;"),Ba=(0,Fe.Z)("span",{target:"e18etybw1"})("color:",a.TV.color.text_default,";"),ja=(0,Fe.Z)("div",{target:"e18etybw0"})({name:"16nykaf",styles:"display:flex;justify-content:center;margin-top:15px"});var za={name:"1hkmdl5",styles:"margin-right:10px;margin-top:-2px"};const Ha=e=>{let{onCreatePollClick:t,...n}=e;return(0,M.BX)(Va,{...n,children:[(0,M.BX)(Da,{children:[(0,M.tZ)(Fn.J,{icon:"polls",size:16,color:a.TV.color.text_default,css:za}),"Get more insight"]}),(0,M.tZ)(Ba,{children:"Want to know more about your user's experience?"}),(0,M.tZ)(ja,{children:(0,M.tZ)(a.zx,{size:"s",onClick:t,children:"Create a Poll"})})]})};var $a=n(90462),Xa=n(28154),Ga=n(38101),Fa=n(89642),Ua=n(46982),Wa=n(65412),qa=n(61824);const Ya=(0,Fe.Z)("div",{target:"ens85u710"})("text-align:left;padding:",a.TV.spacer.x1," ",a.TV.spacer.x4,";",a.TV.text("caption"),";"),Ja=(0,Fe.Z)("div",{target:"ens85u79"})(a.TV.text("caption")," display:flex;align-items:center;margin:",a.TV.spacer.x2," 0;",a.TV.truncateText(),";"),Ka=(0,Fe.Z)(a.JO,{target:"ens85u78"})("flex-shrink:0;margin-right:",a.TV.spacer.x1,";"),Qa=(0,Fe.Z)("div",{target:"ens85u77"})(a.TV.text("subtitle2"),";margin:",a.TV.spacer.x2," 0 ",a.TV.spacer.x1," 0;display:flex;align-items:center;"),es=(0,Fe.Z)("div",{target:"ens85u76"})("border-top:1px solid ",a.TV.color.ui_border_light,";"),ts=(0,Fe.Z)("div",{target:"ens85u75"})(a.TV.truncateText()," ",a.TV.text("caption"),";"),ns=(0,Fe.Z)("span",{target:"ens85u74"})("font-style:italic;color:",a.TV.color.text_light,";"),is=(0,Fe.Z)("div",{target:"ens85u73"})({name:"r3368c",styles:"overflow-y:auto;height:calc(100% - 60px)"}),os=(0,Fe.Z)(qa.A,{target:"ens85u72"})("margin-right:",a.TV.spacer.x1,";"),rs=(0,Fe.Z)(a.xv,{target:"ens85u71"})(a.TV.truncateText(),";"),as=(0,Fe.Z)(a.rU,{target:"ens85u70"})("margin-right:",a.TV.spacer.x1,";"),ss={[sn.EMAIL]:"email",[sn.BOOLEAN]:"boolean",[sn.DATE]:"date",[sn.STRING]:"string",[sn.NUMBER]:"number",[sn.UNKNOWN]:"unknown"},ls=e=>{let t;return t=null!==e.value?(0,$a.Nw)(e.value):"Unknown",(0,M.BX)(M.HY,{children:[(0,$a.Nw)(e.name),":",(0,M.tZ)("br",{})," ",t]})},cs=e=>{let{recording:t}=e;const n=(0,B.LP)()||"",i=t.effective_plan;if(Boolean(n)||"business"!==i&&"scale"!==i)return null;const o=function(e,t){let n=[];return e&&(n=e.map((e=>{const{datatype:t,name:n}=e;let i=e[`${t}_value`];return t===sn.DATE&&null!==i?i=(0,Xa.Sn)(Number(i)):t===sn.BOOLEAN&&null!==i&&(i=i?"true":"false"),{datatype:t,name:n,value:i}})).sort(((e,t)=>e.name===sn.EMAIL?-1:t.name===sn.EMAIL?1:e.name.localeCompare(t.name)))),t&&n.unshift({datatype:sn.STRING,name:"user_id",value:t}),n}(t.user_attributes,t.user_id);return 0===o.length?null:(0,M.BX)(M.HY,{children:[(0,M.tZ)(es,{}),(0,M.BX)(Ya,{children:[(0,M.tZ)(Qa,{children:"User attributes"}),o.map((e=>(0,M.tZ)(a.u,{placement:"left",text:ls(e),children:(0,M.tZ)(Ja,{"data-hj-suppress":!0,children:(0,M.BX)("span",{css:(0,yt.iv)("display:flex;align-items:center;",a.TV.truncateText(),";",""),children:[(0,M.tZ)(Ka,{color:"text_light",icon:"user_id"===e.name?"user_single":ss[e.datatype],description:"user attribute"}),(0,M.tZ)(a.xv,{textType:"caption",css:(0,yt.iv)("max-width:120px;",a.TV.truncateText(),";",""),children:e.name}),(0,M.tZ)("span",{children:":"}),null!==e.value&&(0,M.tZ)(rs,{textType:"subtitle3",children:e.value}),null===e.value&&(0,M.tZ)(ns,{children:"Unknown"})]})})},e.name+e.value)))]})]})},ds=e=>{const t=e&&e.visitor_uuid,n={AND:[{DAYS_AGO:{created:365}},{EQUAL:{visitor_uuid:(0,$a.t)(t)}}]};return`/sites/${e.site_id}/playbacks/list?filters=${encodeURI(JSON.stringify(n))}`},us=e=>{let{recording:t}=e;return(0,M.tZ)(M.HY,{children:(0,M.tZ)(a.u,{placement:"left",text:"Hotjar user ID",children:(0,M.BX)(Ja,{children:[(0,M.tZ)(Ka,{icon:"user_single",description:"user"}),(0,M.tZ)("span",{children:"HJ user ID:"}),"",(0,M.BX)(ts,{children:[(0,M.tZ)(a.rU,{kind:"inline",isExternal:!0,"data-hj-suppress":!0,href:ds(t),children:(0,$a.t)(t.visitor_uuid)}),t.is_first_seen&&(0,M.BX)("span",{children:[" - ",(0,M.tZ)(a.xv,{textType:"caption",textColor:"text_light",children:"New user"})]})]})]})})})},gs=e=>{let{recording:t}=e;return(0,M.BX)(M.HY,{children:[t.country_name&&(0,M.tZ)(a.u,{placement:"left",text:"Country",children:(0,M.BX)(Ja,{children:[(0,M.tZ)(os,{code:t.country_code}),(0,M.tZ)(ts,{"data-hj-suppress":!0,children:t.country_code?(0,Ua.f)(t.country_code.toUpperCase()):""})]})}),!t.country_name&&(0,M.BX)(Ja,{children:[(0,M.tZ)(os,{code:t.country_code}),(0,M.tZ)(ns,{children:"Unknown country"})]})]})};function ps(e){const t=1e3*e;return(0,ye._)(t).format("MMM D, HH:mm")}const hs=e=>{let{recording:t}=e;return(0,M.tZ)(M.HY,{children:(0,M.tZ)(a.u,{placement:"left",text:(0,Xa.Sn)(t.created_epoch_time),children:(0,M.BX)(Ja,{children:[(0,M.tZ)(Ka,{icon:"date",description:"calendar"}),(0,M.BX)(ts,{"data-hj-suppress":!0,children:[(0,Xa.Sy)(t.created_epoch_time,1/0)," -"," ",ps(t.created_epoch_time)]})]})})})},ms=e=>{let{recording:t}=e;const n=`device_${t.device}`;return(0,M.tZ)(M.HY,{children:(0,M.tZ)(a.u,{placement:"left",text:"Device",children:(0,M.BX)(Ja,{children:[(0,M.tZ)(Ka,{icon:n,description:"device"}),(0,M.BX)(ts,{"data-hj-suppress":!0,children:[(0,Xr.k)(t.device)," (",t.window_size[0]," x ",t.window_size[1],")"]})]})})})},bs=e=>{let{recording:t}=e;const n=(0,Ga.B)(t.browser);return(0,M.tZ)(M.HY,{children:(0,M.tZ)(a.u,{placement:"left",text:"Browser",children:(0,M.BX)(Ja,{children:[(0,M.tZ)(Ka,{icon:n,color:"unknown"===n?"text_light":"inherited",description:"browser"}),(0,M.tZ)(ts,{"data-hj-suppress":!0,children:t.browser})]})})})},fs=e=>{let{recording:t}=e;const n=(0,Fa.w)(t.os);return(0,M.tZ)(M.HY,{children:(0,M.tZ)(a.u,{placement:"left",text:"Operating system",children:(0,M.BX)(Ja,{children:[(0,M.tZ)(Ka,{icon:n,color:"unknown"===n?"text_light":"inherited",description:"Operating system"}),(0,M.tZ)(ts,{"data-hj-suppress":!0,children:t.os})]})})})};var ys={name:"t2a431",styles:"display:flex;align-items:center;max-width:90%"},_s={name:"1h8nup8",styles:"overflow:visible"};const vs=e=>{let{recording:t}=e;return t.referrer?(0,M.tZ)(M.HY,{children:(0,M.BX)(Ja,{css:_s,children:[(0,M.tZ)(a.u,{placement:"left",text:(0,M.BX)("span",{children:["Referrer URL:",(0,M.tZ)("br",{})," ",(0,$a.Nw)(t.referrer)]}),children:(0,M.BX)("div",{css:ys,children:[(0,M.tZ)(Ka,{icon:"forward",description:"referrer"}),(0,M.tZ)(ts,{"data-hj-suppress":!0,children:t.referrer})]})}),(0,M.tZ)(a.Fh,{toCopy:t.referrer,description:"Copy referrer",onCopy:()=>{}})]})}):(0,M.BX)(M.HY,{children:[(0,M.tZ)(Ka,{color:"text_light",icon:"forward",description:"referrer"}),(0,M.tZ)(ns,{children:"Unknown referrer"})]})},ks=e=>{let{sidePanelEventMarkers:t,onActionsClick:n}=e;return(0,M.BX)(Ja,{children:[(0,M.tZ)(Ka,{icon:"list",description:"actions"}),(0,M.tZ)(a.rU,{kind:"inline",as:"button",onClick:n,children:`${t.length} Actions`})]})},xs=e=>{let{recording:t,site:n}=e;const{t:o}=(0,We.$G)(),{openConsole:r}=He(),a=(0,i.useMemo)((()=>t?.page_visit_recordings.reduce(((e,t)=>e+t.events.filter((e=>"error"===e.type)).length),0)),[t]),s=(0,i.useCallback)((()=>{r(),y(t,{element_name:"Open Console",ui_position:"session_info",url_event_was_triggered_on:(0,wn.j1)(window.location.href)}),(0,we.event)("Console Opened")}),[t,r]);return(0,M.BX)(Ja,{style:{userSelect:"none"},children:[(0,M.tZ)(Ka,{icon:"code_dev",description:"errors"}),(0,M.tZ)(as,{kind:"inline",as:"button",onClick:s,children:a?o("common:player.errors",{count:a}):o("common:player.no-errors")}),"business"===n?.effectivePlan?(0,M.tZ)(Wa.t,{}):null]})},ws=e=>{let{recording:t,onActionsClick:n,onCreatePollClick:i,showPollUpsell:o,sidePanelEventMarkers:r=[],site:s}=e;const l=xn();return t?(0,M.BX)(is,{children:[(0,M.BX)(Ya,{children:[(0,M.tZ)(us,{recording:t}),(0,M.tZ)(gs,{recording:t}),(0,M.tZ)(hs,{recording:t}),(0,M.tZ)(ms,{recording:t}),(0,M.tZ)(bs,{recording:t}),(0,M.tZ)(fs,{recording:t}),(0,M.tZ)(vs,{recording:t}),(0,M.tZ)(ks,{sidePanelEventMarkers:r,onActionsClick:n}),l?(0,M.tZ)(xs,{recording:t,site:s}):null]}),(0,M.tZ)(cs,{recording:t}),o&&(0,M.tZ)(Ha,{css:(0,yt.iv)("margin-top:",a.TV.spacer.x2,";",""),onCreatePollClick:i})]}):null},Ts=300,Cs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ts;const[n,o]=(0,i.useState)(e),[r,a]=(0,i.useState)(e),[s,l]=(0,i.useState)(null),c=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{if(c.current)return s&&clearTimeout(s),e&&(o(!0),l(setTimeout((()=>{a(!0),l(setTimeout((()=>l(null)),t))}),0))),e||(a(!1),l(setTimeout((()=>{o(!1),l(null)}),t))),()=>s&&clearTimeout(s);c.current=!0}),[e,t]),{visible:n,open:r,animating:Boolean(s)}},Ss=(0,Fe.Z)("button",{target:"ezy7mdf2"})("border:none;cursor:pointer;color:",a.TV.color.text_default,";padding:20px 12px;display:inline-block;text-align:center;font-size:14px;width:149px;background:",a.TV.color.neutral_300,";",(e=>{let{active:t}=e;return t?"text-decoration: none; font-weight: 500; background: transparent;":""}),";&:focus-visible{",a.TV.focus(),";border-color:transparent;z-index:1;}"),Is=e=>{let{onChange:t,value:n,tabType:i,tabLabel:o}=e;return(0,M.tZ)(Ss,{active:n===i,"aria-label":`Open ${o} panel`,onClick:()=>t(i),children:o})},Zs=e=>(0,M.BX)(M.HY,{children:[(0,M.tZ)(Is,{tabType:"info",tabLabel:"Session Info",...e}),(0,M.tZ)(Is,{tabType:"events",tabLabel:"Actions",...e})]}),Rs=(0,Fe.Z)("div",{target:"ezy7mdf1"})("width:",(e=>{let{open:t}=e;return t?"300px":0}),";transition:width ease-in-out ",Ts,"ms;"),Es=(0,Fe.Z)("div",{target:"ezy7mdf0"})("user-select:text;width:300px;height:100%;z-index:10;background:",a.TV.color.ui_background,";border-left:1px solid ",a.TV.color.ui_border,";"),Ps=e=>{let{showSidePanel:t,recording:n,sidePanelEventMarkers:o,device:r,onSidebarEventClick:a,recordingDone:s,recordingSiteId:l,onCreatePollClick:c,showPollUpsell:d,site:u}=e;const[g,p]=(0,i.useState)(P.mM.get("playbackSidePanelTab","info"));(0,i.useEffect)((()=>{P.mM.set("playbackSidePanelTab",g)}),[g]);const{visible:h,open:m}=Cs(t);return h?(0,M.tZ)(Rs,{open:m,className:"side-panel",children:(0,M.BX)(Es,{children:[(0,M.tZ)(Zs,{onChange:p,value:g}),"events"===g&&(0,M.tZ)(La,{sidePanelEventMarkers:o,device:r,onSidebarEventClick:a,recordingDone:s,isVisible:!0,recordingSiteId:l}),"info"===g&&(0,M.tZ)(ws,{onActionsClick:()=>p("events"),recording:n,site:u,sidePanelEventMarkers:o,showPollUpsell:d,onCreatePollClick:c})]})}):null},Ns=i.memo(Ps),Os=()=>{const e=ze(),{setShared:t,openWorthWatchingTooltip:n,setPlaylistOpened:o}=He(),{playing:r,user:a,recording:s,isShared:l,isSharedRecording:c,isWorthWatching:d,playlistVisible:g,siteId:p,loaded:h,isLightPlayer:m,isAutogenerated:b,isRecordingListOutOfSync:y,playlistOpened:_,playbacksOpener:v,showSidePanel:k}=$e((e=>({playing:e.playing,user:e.user,recording:e.recording,isShared:e.isShared,isSharedRecording:e.isSharedRecording,isWorthWatching:e.isWorthWatching,playlistVisible:e.playlistVisible,siteId:e.siteId,loaded:e.loaded,isLightPlayer:e.isLightPlayer,isAutogenerated:e.isAutogenerated,isRecordingListOutOfSync:e.isRecordingListOutOfSync,playlistOpened:e.playlistOpened,playbacksOpener:e.playbacksOpener,showSidePanel:e.showSidePanel}))),x=(0,i.useCallback)((e=>{o(e),((e,t,n)=>{e&&(0,u.track)("Element Clicked",{url_event_was_triggered_on:mt(),user_id:t,element_name:`${n} Mini List`,state_event_was_triggered_on:"Recordings Player",ui_position:"Player Mini List",...f(e)})})(s,Number(a?.user_id),e?"Expand":"Collapse")}),[s,a?.user_id,o]);return(0,M.BX)("header",{id:"playback-top-menu-wrapper",className:"top-section",children:[(0,M.tZ)(bn,{onShare:t,isPlaying:r,play:t=>fe(e,t),pause:(t,n)=>te(e,t,n),recording:s,isShared:l,isReadOnly:I(e),isTokenShared:c,playlistVisible:g,playlistOpened:_,onWorthWatchingAnswerChange:t=>De(e,t),worthWatchingAnswer:d,openWorthWatchingTooltip:n,siteId:p,loaded:h,hideControls:m,playlistToggle:x,hideBackButton:v===pt.FUNNELS,onPrevious:()=>Ee(e),onNext:()=>me(e),isSidebarExpanded:!k,onExpandCollapseToggle:()=>Ve(e,!k)}),b?(0,M.tZ)(ht,{}):null,(0,M.tZ)(Ma.L,{kind:"danger",showBanner:y,className:"top-banner",message:"Your recordings list seems to be out of sync with our server. Please return to your list.",onDismiss:()=>(e=>{const{setIsRecordingListOutOfSync:t}=e.getState();t(!1)})(e)})]})},As=n.p+"3005f8a6911059b48789.svg",Ls=(0,Fe.Z)("div",{target:"eigf2fx1"})("position:absolute;background-color:transparent;z-index:4;&>div{display:",(e=>{let{show:t}=e;return t?"block":"none"}),";width:",(e=>{let{zoom:t}=e;return 44/t}),"px;height:",(e=>{let{zoom:t}=e;return 44/t}),"px;background-image:url(",As,");background-size:contain;-webkit-transition:all 90ms linear;-moz-transition:all 90ms linear;-o-transition:all 90ms linear;-ms-transition:all 90ms linear;transition:all 90ms linear;}"),Ms=(0,Fe.Z)("div",{target:"eigf2fx0"})("transform:scale(",(e=>{let{zoom:t}=e;return t}),");&>div{transform:translate(-50%, -50%);width:",(e=>{let{windowSize:t}=e;return t?`${t[0]}px`:"auto"}),";height:",(e=>{let{windowSize:t}=e;return t?`${t[1]}px`:"auto"}),";}"),Vs=()=>{const e=ze(),{setShared:t}=He(),{playing:n,showLoader:i,recording:o,done:r,isShared:s,isSharedRecording:l,isWorthWatching:c,siteId:d,loaded:u,showHotjarLogo:g,isCancelledNextRecordingCountdown:p,isAutoplaying:h,showFeedbackPrompt:m}=$e((e=>({playing:e.playing,showLoader:e.showLoader,recording:e.recording,done:e.done,isShared:e.isShared,isSharedRecording:e.isSharedRecording,isWorthWatching:e.isWorthWatching,siteId:e.siteId,loaded:e.loaded,showHotjarLogo:e.showHotjarLogo,isCancelledNextRecordingCountdown:e.isCancelledNextRecordingCountdown,isAutoplaying:e.isAutoplaying,showFeedbackPrompt:e.showFeedbackPrompt}))),b=r&&(g||!l);return(0,M.BX)(M.HY,{children:[(0,M.tZ)(ua,{isLoading:!u||i}),(0,M.tZ)("div",{id:"preview-pause",children:(0,M.tZ)(a.JO,{icon:"pause_alt",size:"l"})}),(0,M.tZ)("div",{id:"preview-play",children:(0,M.tZ)(a.JO,{icon:"play_alt",size:"l"})}),u?(0,M.tZ)("div",{id:"preview-overlay",className:[r?"show":"",i?"loading":""].join(" "),onClick:t=>Me(e,t),"aria-label":"preview-overlay","aria-hidden":"true",children:b?(0,M.tZ)("div",{className:"background-done",children:(0,M.tZ)(zo,{onShare:t,isTokenShared:l,isShared:s,isReadOnly:I(e),isCancelledNextRecordingCountdown:p,onCancelNextRecording:()=>k(e),onReplay:()=>Pe(e),isAutoplaying:h,recording:o,hasPreviousRecording:Se(e),onPrevious:()=>Ee(e),hasNextRecording:ne(e),onNext:()=>me(e),onCreateFeedback:Ie,showFeedbackPrompt:m,siteId:d,onWorthWatchingAnswerChange:t=>De(e,t),worthWatchingAnswer:c,isPlaying:n,play:t=>fe(e,t),pause:(t,n)=>te(e,t,n)})}):null}):null]})},Ds=(0,i.memo)((()=>(0,M.tZ)("svg",{id:"svg-actions"})),(()=>!0)),Bs=(0,i.memo)((()=>(0,M.tZ)("div",{id:"content-iframes"})),(()=>!0)),js=()=>{const{recording:e,showCursor:t,done:n}=$e((e=>{let{recording:t,showCursor:n,done:i}=e;return{recording:t,showCursor:n,done:i}})),o=(0,i.useRef)(null),{width:r,height:a}=Xo(o),s=e?.window_size[0]||1,l=e?.window_size[1]||1,c=Boolean(t&&!n&&"desktop"===e?.device),d=Math.min(Math.min(r/s,a/l),1);return(0,M.BX)("div",{id:"playback-area",ref:o,children:[(0,M.tZ)(Vs,{}),(0,M.BX)(Ms,{id:"preview-container",zoom:d,windowSize:e?.window_size,children:[(0,M.tZ)(Ls,{show:c,zoom:d,children:(0,M.tZ)("div",{id:"preview-cursor"})}),(0,M.tZ)("div",{id:"svg-actions-container",children:(0,M.tZ)(Ds,{})}),(0,M.tZ)(Bs,{})]})]})},zs=(0,i.memo)(js,(()=>!0));var Hs=n(58680);const $s=(0,Fe.Z)("div",{target:"en9m1u45"})("width:",a.TV.spacer.x5,";text-align:center;"),Xs=(0,Fe.Z)(a.JO,{target:"en9m1u44"})("color:",a.TV.BRAND_COLORS.cobalt_800,";"),Gs=(0,Fe.Z)(a.xv,{target:"en9m1u43"})(""),Fs=(0,Fe.Z)(a.JO,{target:"en9m1u42"})("color:",a.TV.BRAND_COLORS.cobalt_800,";"),Us=(0,Fe.Z)("button",{target:"en9m1u41"})("display:flex;color:",(e=>{let{isWatched:t,isActive:n}=e;return t&&!n?a.TV.ALIAS_TEXT_COLORS.text_disabled:a.TV.ALIAS_TEXT_COLORS.text_default}),";align-items:center;height:",a.TV.spacer.x5,";width:100%;margin-bottom:",a.TV.spacer.x2,";padding-right:",a.TV.spacer.x1pt5,";border-radius:",a.TV.spacer.x0pt5,";background-color:",(e=>{let{isActive:t}=e;return t?a.TV.BRAND_COLORS.cobalt_200:"transparent"}),";border:",(e=>{let{isActive:t}=e;return t?`solid 1px ${a.TV.BRAND_COLORS.cobalt_700}`:"none"}),";",Fs,"{display:none;}&:hover{background-color:",a.TV.BRAND_COLORS.cobalt_200,";border-width:",(e=>{let{isActive:t}=e;return t?"1px":"0"}),";cursor:",(e=>{let{isActive:t}=e;return t?"default":"pointer"}),";color:",a.TV.ALIAS_TEXT_COLORS.text_default,";",Gs,"{display:none;}",Fs,"{display:inline-block;}}"),Ws=(0,Fe.Z)(a.xv,{target:"en9m1u40"})("flex:1;padding-right:",a.TV.spacer.x2,";overflow:hidden;text-overflow:ellipsis;text-align:left;"),qs=e=>{let{recording:t,index:n,isActive:i,isPlaying:o,isWatched:r,onClick:s}=e;const{duration:l,date:c}=t,{t:d}=(0,We.$G)();return(0,M.BX)(Us,{isActive:i,isWatched:r,"data-testid":"playlist-item",onClick:i?Pt.Z:()=>s(t.id),children:[(0,M.tZ)($s,{children:i?(0,M.tZ)(Xs,{icon:o?"pause_alt":"play_alt",color:"inherited","data-testid":"playback-icon",description:d(o?"common:recordings.player.playlist.playing":"common:recordings.player.playlist.paused")}):(0,M.BX)(M.HY,{children:[(0,M.tZ)(Gs,{textColor:"inherited","data-testid":"prefix-text",children:n+1}),(0,M.tZ)(Fs,{icon:"play_alt",color:"inherited",description:d("common:recordings.player.playlist.hovered")})]})}),(0,M.tZ)(Ws,{textColor:"inherited",children:c?(u=c,(0,ye._)(1e3*u).format("DD MMM, HH:mm")):d("common:recordings.player.playlist.current-recording")}),l?(0,M.tZ)(a.xv,{textColor:"inherited",children:(0,Gt.G)(l)}):null]});var u},Ys=(0,i.memo)(qs),Js=(0,Fe.Z)("div",{target:"e1n0f2uv7"})("width:",(e=>{let{open:t}=e;return t?580:290}),"px;transition:width ease-in-out ",Ts,"ms;margin-left:-",290,"px;display:flex;justify-content:end;flex-shrink:0;"),Ks=(0,Fe.Z)("div",{target:"e1n0f2uv6"})("user-select:text;display:flex;flex-direction:column;z-index:10;background:",a.TV.color.ui_background,";width:",290,"px;height:100%;border-right:1px solid ",a.TV.color.ui_border,";"),Qs=(0,Fe.Z)("header",{target:"e1n0f2uv5"})("display:flex;justify-content:space-between;padding:",a.TV.spacer.x0pt5,";"),el=(0,Fe.Z)(a.xv,{target:"e1n0f2uv4"})("padding:",a.TV.spacer.x1pt5,";white-space:pre;",a.TV.text("body1"),";"),tl=(0,Fe.Z)(a.xv,{target:"e1n0f2uv3"})("overflow:hidden;text-overflow:ellipsis;text-align:left;white-space:pre;padding-left:",a.TV.spacer.x2,";margin-bottom:",a.TV.spacer.x1pt5,";",a.TV.text("body2")," padding-top:",a.TV.spacer.x1pt5,";"),nl=(0,Fe.Z)("ul",{target:"e1n0f2uv2"})("border-top:1px solid ",a.TV.color.ui_border,";list-style-type:none;padding:",a.TV.spacer.x2,";flex:1;overflow:auto;position:relative;"),il=(0,Fe.Z)(a.zx,{target:"e1n0f2uv1"})("margin-bottom:",a.TV.spacer.x2,";"),ol=(0,Fe.Z)(a.rU,{target:"e1n0f2uv0"})("background:",a.TV.color.ui_background,";border-radius:",a.TV.radius.m,";padding:",a.TV.spacer.x1pt5,";position:absolute;left:",(e=>{let{offsetX:t}=e;return t}),";top:",(e=>{let{offsetY:t}=e;return t}),";z-index:",15,";&:not(:focus):not(:active){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;white-space:nowrap;width:1px;}"),rl=e=>{let{skipTarget:t,children:n,offsetX:o="0",offsetY:r="0"}=e;const[a,s]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{const e=document.querySelector(t);if(!e)return s(!1),void console.error("The provided skip link target does not exists!");e?.tabIndex<0&&(s(!1),console.error("The provided skip link target is not focusable!"))}),[t]),a?(0,M.tZ)(ol,{onClick:()=>(e=>{const t=document.querySelector(e);if(!(t&&t.tabIndex>-1))throw new Error("The provided skip link target selector doesn't exists!");t.focus()})(t),kind:"standalone",href:"",offsetX:o,offsetY:r,children:n}):null},al=(e,t)=>t.includes(e.id),sl=e=>{let{recordings:t,activeRecrodingId:n,isPlaying:i,playlistOpened:o,hasMoreRecordings:r,watchedRecordingsIdsList:s,sortBy:l,isPlayingFunnels:c,goToRecording:d,fetchNextRecordingsPage:u}=e;const{t:g}=(0,We.$G)(),p=Hs.Hy.find((e=>l.includes(e))),{visible:h,open:m}=Cs(o);return h?(0,M.tZ)(Js,{open:m,className:"playlist",children:(0,M.BX)(Ks,{children:[(0,M.tZ)(Qs,{children:(0,M.tZ)(el,{children:g(c?"common:recordings.player.playlist.title-for-funnels":"common:recordings.player.playlist.title")})}),p?(0,M.BX)(tl,{children:[(0,M.BX)(a.xv,{children:[g("common:recordings.player.playlist.sort-by")," "]}),(0,M.tZ)(a.xv,{textType:"subtitle2",children:g(`common:recordings.sorting.${(0,Hs.U3)(p)}`)})]}):null,(0,M.BX)(nl,{"data-testid":"playlist",children:[(0,M.tZ)(rl,{skipTarget:"#play-pause-replay-button button",offsetX:a.TV.spacer.x2,offsetY:a.TV.spacer.x2,children:g("common:recordings.player.playlist.skip-link")}),t.length?(0,M.BX)(M.HY,{children:[t.map(((e,t)=>(0,M.tZ)("li",{children:(0,M.tZ)(Ys,{recording:e,index:t,isActive:e.id===n,isPlaying:e.id===n&&i,isWatched:al(e,s),onClick:d})},e.id))),r?(0,M.tZ)(il,{kind:"ghost",size:"s",icon:"plus",onClick:u,"data-testid":"load-more-button",children:g("common:recordings.player.playlist.load-more")}):null]}):(0,M.tZ)(a.aN,{})]})]})}):null},ll=(0,i.memo)(sl),cl=(0,Fe.Z)("div",{target:"ev46vs0"})("padding:0 ",a.TV.spacer.x1,";margin-right:",a.TV.spacer.x1pt5,";height:19px;background-color:",a.TV.color.neutral_300,";border-radius:16px;font-size:10px;font-weight:500;line-height:19px;letter-spacing:0.4px;text-transform:uppercase;white-space:pre;"),dl=dr((e=>{let{currentTabNo:t,totalTabNo:n}=e;return(0,M.BX)(cl,{children:["Tab: ",t,"/",n]})})),ul=(0,Fe.Z)(a.Fh,{target:"ek6coon0"})("margin-left:",a.TV.spacer.x1pt5,";opacity:0.7;&,:hover{color:",a.TV.color.text_default,";}:hover{opacity:1;}:focus{box-shadow:none;}",(e=>{let{hasCopied:t}=e;return t&&(0,yt.iv)("&,:hover{color:",a.TV.color.mint_500,";background-color:",a.TV.color.bg_hover,";}","")}),";"),gl=e=>{let{onCopy:t,toCopy:n,placement:o}=e;const[r,a]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(!r)return;const e=setTimeout((()=>a(!1)),3e3);return()=>{clearTimeout(e)}}),[r]),(0,M.tZ)("span",{"data-testid":"copy-to-clipboard-icon",children:(0,M.tZ)(ul,{placement:o,hasCopied:r,onCopy:()=>{a(!0),t&&t()},toCopy:n,description:"Copy url"})})};var pl={name:"6s7v6h",styles:"cursor:pointer;opacity:0.7;&:hover{opacity:1;}"};const hl=e=>{let{icon:t,tooltip:n,className:i,"data-testid":o}=e;return(0,M.tZ)("div",{css:pl,className:i,"data-testid":o,children:(0,M.tZ)(a.u,{text:n,placement:"bottom",children:(0,M.tZ)("span",{children:(0,M.tZ)(a.JO,{icon:t,size:"m",css:(0,yt.iv)("color:",a.TV.BRAND_COLORS.midnight_600,";","")})})})})};hl.defaultProps={className:"","data-testid":""},hl.propTypes={className:ft().string,"data-testid":ft().string,icon:ft().string.isRequired,tooltip:ft().string.isRequired};const ml=yt.F4`
  from {
    opacity: 0.1;
  }
  50% {
    opacity: 1;
  }
  to {
    opacity: 0.1;
  }
`,bl=(0,Fe.Z)("div",{target:"el7x2332"})("height:32px;flex-grow:0;display:flex;align-items:center;justify-content:center;padding:0 ",a.TV.spacer.x1pt5,";border-bottom:1px solid ",a.TV.BRAND_COLORS.neutral_300,";color:",a.TV.color.text_default,";overflow:hidden;background-color:",a.TV.color.neutral_100,";",(e=>{let{isLoading:t}=e;return t&&(0,yt.iv)("animation:",ml," 1.5s linear infinite;","")}),";"),fl=(0,Fe.Z)("div",{target:"el7x2331"})("max-width:671px;flex-shrink:1;flex-grow:1;text-align:left;display:inline-block;font-size:12px;",a.TV.truncateText(),";"),yl=(0,Fe.Z)("div",{target:"el7x2330"})({name:"1u67760",styles:"width:100%;min-width:0;flex-grow:1;flex-shrink:1;display:flex;flex-direction:column"});var _l={name:"1jkdpqt",styles:"opacity:0.6"};const vl=()=>{const e=ze(),{fetchNextRecordingsPage:t}=He(),{playlistVisible:n,recordingsList:o,lastFetchedRecordingId:r,playing:s,playlistOpened:l,hasMoreRecordings:c,watchedRecordingsIdsList:d,sortBy:g,recording:p,site:h,sidePanelEventMarkers:m,done:b,showSidePanel:_,showPollUpsell:v,currentPageOriginalUrl:k,loaded:x,siteId:w,isSharedRecording:T,playbacksOpener:C,isLightPlayer:S}=$e((e=>({playlistVisible:e.playlistVisible,recordingsList:e.recordingsList,lastFetchedRecordingId:e.lastFetchedRecordingId,playing:e.playing,playlistOpened:e.playlistOpened,hasMoreRecordings:e.hasMoreRecordings,watchedRecordingsIdsList:e.watchedRecordingsIdsList,sortBy:e.sortBy,recording:e.recording,site:e.site,done:e.done,sidePanelEventMarkers:e.sidePanelEventMarkers,showSidePanel:e.showSidePanel,showPollUpsell:e.showPollUpsell,currentPageOriginalUrl:e.currentPageOriginalUrl,loaded:e.loaded,siteId:e.siteId,isSharedRecording:e.isSharedRecording,playbacksOpener:e.playbacksOpener,isLightPlayer:e.isLightPlayer}))),I=(0,i.useCallback)((t=>{((e,t)=>{const{getRecordingIndexById:n,recording:i,user:o}=e.getState(),r=n(t);pe(e,r),((e,t)=>{e&&t&&(0,u.track)("Element Clicked",{url_event_was_triggered_on:mt(),user_id:t.user_id,element_name:"Play Recording",state_event_was_triggered_on:"Recordings Player",ui_position:"Player Mini List",...f(e)})})(i,o)})(e,t)}),[e]),Z=!x||!p,{domain:R,path:E}=(e=>{if(!e)return{};try{const t=new URL(e),{protocol:n,host:i,pathname:o,search:r,hash:a}=t;return{domain:`${n}//${i}`,path:o+r+a}}catch{return{domain:e,path:""}}})(k||""),P=((e,t)=>`/sites/${e}/heatmap/view?${new URLSearchParams({url:t,match:"simple_match",device:"desktop",type:"click",range:"relative",dates:"12m"}).toString()}`)(w,k||""),{tabCount:N}=D.hr.getState(),O=(0,D.hr)((e=>e.currentTabIndex)),[A,L]=(0,i.useState)(1),V=(0,i.useCallback)((e=>y(p,{element_name:e,state_event_was_triggered_on:"playback.player_header",ui_position:"clicked-icon"})),[p]);return(0,i.useEffect)((()=>{void 0!==O&&L(O+1)}),[O]),(0,M.BX)("main",{className:"center-section",children:[n&&!S?(0,M.tZ)(ll,{recordings:o,activeRecrodingId:r,isPlaying:s,goToRecording:I,fetchNextRecordingsPage:t,playlistOpened:l,hasMoreRecordings:c,watchedRecordingsIdsList:d,sortBy:g,isPlayingFunnels:C===pt.FUNNELS}):null,(0,M.BX)(yl,{children:[(0,M.BX)(bl,{id:"address-bar",isLoading:Z,children:[(0,M.tZ)(dl,{currentTabNo:A,totalTabNo:N}),(0,M.BX)(fl,{"data-testid":"recording-url-container",children:[R?(0,M.tZ)("span",{css:_l,children:R}):(0,M.tZ)("span",{children:""}),(0,M.tZ)("span",{css:(0,yt.iv)("font-weight:500;opacity:",1===E?.length?.6:1,";",""),children:E})]}),(0,M.tZ)(gl,{onCopy:()=>V("copy-icon"),toCopy:k||"",placement:"bottom"}),(0,M.tZ)("a",{css:(0,yt.iv)("margin-left:",a.TV.spacer.x2,";",""),href:k||"",rel:"noopener noreferrer",target:"_blank",onClick:()=>V("open_in_new_tab-icon"),children:(0,M.tZ)(hl,{tooltip:"Open in new tab",icon:"open_new_window","data-testid":"open-new-window-icon"})}),!T&&(0,M.tZ)("a",{css:(0,yt.iv)("margin-left:",a.TV.spacer.x2,";",""),href:P,rel:"noopener noreferrer",target:"_blank",onClick:()=>V("generate_heatmap-icon"),children:(0,M.tZ)(hl,{tooltip:"View heatmap",icon:"heatmaps","data-testid":"heatmap-icon"})})]}),(0,M.tZ)(zs,{})]}),p&&!S?(0,M.tZ)(Ns,{site:h,onCreatePollClick:()=>(e=>{const{siteId:t,recording:n}=e.getState();n&&(y(n,{element_name:"Create Poll button",ui_position:"Poll upsell in Recordings"}),window.open(`/sites/${t}/polls/create/`,"_blank"))})(e),recording:p,sidePanelEventMarkers:m,device:p?.device||"",onSidebarEventClick:t=>Re(e,t),recordingDone:b,recordingSiteId:String(h?.id),showSidePanel:_,showPollUpsell:v}):null]})};var kl=n(19349),xl=n(87077),wl=n(12245),Tl=n(86355);const Cl=(0,Fe.Z)("header",{target:"eod5y854"})("width:100%;height:48px;display:flex;padding:",a.TV.spacer.x1," ",a.TV.spacer.x2pt5,";border-bottom:1px solid ",a.TV.color.ui_border,";background-color:",a.TV.color.white,";"),Sl=(0,Fe.Z)("section",{target:"eod5y853"})({name:"1flbacn",styles:"flex-grow:1;display:flex;align-items:center;justify-content:left"}),Il=(0,Fe.Z)("section",{target:"eod5y852"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Zl=(0,Fe.Z)(a.xv,{target:"eod5y851"})("padding-right:",a.TV.spacer.x2,";"),Rl=(0,Fe.Z)(a.rU,{target:"eod5y850"})(a.TV.text("body2"),";margin-right:",a.TV.spacer.x1,";text-decoration:underline;"),El=()=>{const{t:e}=(0,We.$G)(),{toggleConsole:t}=He(),{site:n}=$e((e=>{let{site:t}=e;return{site:t}}));return(0,M.BX)(Cl,{children:[(0,M.BX)(Sl,{children:[(0,M.tZ)(Zl,{textType:"subtitle2",children:e("common:player.console-header")}),"business"===n?.effectivePlan?(0,M.tZ)(Wa.t,{}):null]}),(0,M.BX)(Il,{children:[(0,M.tZ)(Rl,{kind:"inline",isExternal:!0,href:"https://surveys.hotjar.com/5de5288d-63cf-4e2f-9732-d510c3f95fdc",children:e("common:player.console-survey-cta")}),(0,M.tZ)(a.zx,{icon:"close",kind:"ghost",size:"s",onClick:t,children:e("common:player.console-close-button")})]})]})};var Pl=n(16304),Nl=n(41894);const Ol=(0,Fe.Z)("div",{target:"e1mede0z5"})({name:"l8uk8k",styles:"display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center"}),Al=(0,Fe.Z)(a.xv,{target:"e1mede0z4"})("margin-top:",a.TV.spacer.x1pt5,";max-width:450px;white-space:pre-line;color:#666;"),Ll=(0,Fe.Z)(a.JO,{target:"e1mede0z3"})("margin-bottom:",a.TV.spacer.x2pt5,";"),Ml=(0,Fe.Z)(a.zx,{target:"e1mede0z2"})("margin-top:",a.TV.spacer.x2,";"),Vl=(0,Fe.Z)(Al,{target:"e1mede0z1"})("margin-top:",a.TV.spacer.x2,";"),Dl=(0,Fe.Z)(a.rU,{target:"e1mede0z0"})("color:",a.TV.color.text_default,";text-decoration:underline;"),Bl=e=>{let{siteId:t,hasEnabledCapture:n,onEnableCapture:o}=e;const{t:r}=(0,We.$G)(),{hasPermission:s}=(0,Nl.o)(),{success:l,error:c}=(0,Pl.d)(),d=`/site/${t}/settings#targeting`,u=s("site",`${t}`,"session-settings-update"),g=(0,i.useCallback)((async()=>{if((await dt.JJ.post(t,"update_session_settings",{session_capture_console_consent:!0})).success)return l(r("common:player.console-tracking-enabled-success")),void o();c(r("common:player.console-tracking-enabled-error"))}),[t,c,r,l,o]);return n?(0,M.BX)(Ol,{children:[(0,M.tZ)(Ll,{size:"l",icon:"check",color:"text_success"}),(0,M.tZ)(a.xv,{textType:"subtitle1",children:r("common:player.console-tracking-enabled-title")}),(0,M.tZ)(Vl,{textType:"body2",children:(0,M.tZ)(We.cC,{i18nKey:"common:player.console-tracking-enabled-subtitle",components:[(0,M.tZ)(Dl,{kind:"inline",isExternal:!0,href:d,children:"site settings"})]})})]}):(0,M.BX)(Ol,{children:[(0,M.tZ)(a.xv,{textType:"subtitle1",children:r("common:player.console-start-tracking-title")}),(0,M.tZ)(Al,{textType:"body2",children:r("common:player.console-start-tracking-subtitle")}),u?(0,M.tZ)(Ml,{icon:"code_tracking",onClick:g,children:r("common:player.console-start-tracking-button")}):(0,M.tZ)(Al,{textType:"body2",children:r("common:player.console-only-admins-allowed")})]})},jl=e=>{let{isCapturingErrors:t,siteId:n,hasEnabledCapture:i,onEnableCapture:o}=e;const{t:r}=(0,We.$G)();return t?(0,M.BX)(Ol,{children:[(0,M.tZ)(Ll,{size:"l",icon:"info",color:"text_light"}),(0,M.tZ)(a.xv,{textType:"subtitle1",children:r("common:player.console-empty-title")}),(0,M.tZ)(Al,{textType:"body2",children:r("common:player.console-empty-subtitle")})]}):(0,M.tZ)(Bl,{siteId:n,hasEnabledCapture:i,onEnableCapture:o})},zl=(0,Fe.Z)("li",{target:"exdbjob10"})("width:100%;padding:",a.TV.spacer.x1," ",a.TV.spacer.x2pt5,";background-color:",a.TV.color.white,";display:flex;justify-content:center;border-bottom:1px solid ",a.TV.color.neutral_300,";"),Hl=(0,Fe.Z)(a.PC,{target:"exdbjob9"})("background-color:white;border:1px solid #b5b5b5;border-radius:",a.TV.radius.m,";transition:opacity 0.2s;opacity:0;top:-16px;position:absolute;right:65px;"),$l=(0,Fe.Z)(zl,{target:"exdbjob8"})("background-color:",a.TV.color.bg_danger,";border-bottom:1px solid ",a.TV.color.ember_300,";position:relative;&:hover{background-color:",a.TV.color.ember_200,";",Hl,"{display:block;opacity:1;}}"),Xl=(0,Fe.Z)("div",{target:"exdbjob7"})({name:"v519bw",styles:"display:flex;height:16px"}),Gl=(0,Fe.Z)("div",{target:"exdbjob6"})({name:"1ex5b8b",styles:"flex-grow:1;text-align:left;margin-top:-1px"}),Fl=(0,Fe.Z)(a.xv,{target:"exdbjob5"})("display:inline-block;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;color:",a.TV.color.text_default,";text-align:left;line-height:20px;max-height:40px;font-size:12px;white-space:break-spaces;font-family:monospace,sans-serif;margin-left:",a.TV.spacer.x1,";"),Ul=(0,Fe.Z)(Fl,{target:"exdbjob4"})("color:",a.TV.color.danger_cta_alt,";cursor:",(e=>{let{clickable:t}=e;return t?"pointer":"auto"}),";"),Wl=(0,Fe.Z)("table",{target:"exdbjob3"})("margin-top:",a.TV.spacer.x0pt5,";font-size:12px;font-family:monospace,sans-serif;border-spacing:",a.TV.spacer.x1,";border-collapse:separate;"),ql=(0,Fe.Z)("tr",{target:"exdbjob2"})("margin-bottom:",a.TV.spacer.x1,";table-layout:fixed;"),Yl=(0,Fe.Z)("button",{target:"exdbjob1"})("background:none;border:none;padding:0;display:flex;margin-left:",a.TV.spacer.x1,";color:",a.TV.color.text_light,";line-height:20px;font-size:12px;font-family:monospace,sans-serif;&:hover{cursor:pointer;text-decoration:underline;}"),Jl=(0,Fe.Z)("button",{target:"exdbjob0"})("background:none;border:none;padding:0;height:16px;transform:",(e=>{let{isOpen:t}=e;return t?"none":"rotate(-90deg)"}),";margin-left:",a.TV.spacer.x1,";cursor:pointer;"),Kl=e=>{let{event:t}=e;const{t:n}=(0,We.$G)(),o=ze(),r=(0,i.useCallback)((()=>ce(o,t.time_in_timeline-1e3)),[o,t]);return(0,M.tZ)(a.u,{text:n("common:player.console-go-to-time"),children:(0,M.tZ)(Yl,{onClick:r,children:(0,Gt.G)(t.time_in_timeline)})})},Ql=/:\s/g,ec=e=>{let{event:t,onTrendNavigationClick:n,onCopyActionClick:o}=e;const{t:r}=(0,We.$G)(),s=t.text||"-",[l,c]=(0,i.useState)(!1),d=(0,i.useCallback)((()=>c(!l)),[l]),u=(0,i.useCallback)(((e,t,n)=>((e,t,n,i)=>{const o=new URLSearchParams(window.location.search);o.set("startTime",n.toString());const r=`${window.location.origin}${window.location.pathname}?${o.toString()}`;let a="";return t&&(a=t.map((e=>`\t${e.functionName} @ ${e.fileName}:${e.lineNumber}`)).join("\n")),e+"\n\n"+a+"\n\n"+`${i}: ${r}`})(e,t,n,r("common:player.error-log-actions.view-recording"))),[r]),{isCopied:g,copy:p}=(0,a.m9)(u(s,t.trace,t.time_in_timeline));return(0,M.BX)($l,{"data-time-in-timeline":t.time_in_timeline,children:[(0,M.tZ)(Xl,{children:(0,M.tZ)(a.JO,{icon:"warning_alt",color:"text_danger",size:"m"})}),t.trace?(0,M.tZ)(Jl,{isOpen:l,onClick:d,children:(0,M.tZ)(a.JO,{icon:"caret_down_alt",color:"text_light",size:"m"})}):null,(0,M.BX)(Gl,{children:[(0,M.BX)(Ul,{onClick:d,clickable:!!t.trace,children:[s,";"]}),t.trace&&l?(0,M.tZ)(Wl,{children:t.trace.map(((e,t)=>(0,M.BX)(ql,{children:[(0,M.tZ)("td",{children:e.functionName}),(0,M.BX)("td",{children:["@"," ",(0,M.BX)("a",{href:e.fileName,target:"_blank",rel:"noopener noreferrer",children:[e.fileName,":",e.lineNumber]})]})]},t)))}):null]}),(0,M.BX)(Hl,{description:"",children:[(0,M.tZ)(a.PC.Item,{icon:"trends",onClick:()=>{const e=(e=>{if(!e)return null;if(null===e.match(Ql))return e;const[t]=e.split(Ql);return t})(t.text)??"-";n(e)},description:r("common:player.error-log-actions.view-trend")}),(0,M.tZ)(a.PC.Item,{icon:g?"check_alt":"copy",onClick:()=>{p(),o()},description:r("common:player.error-log-actions.copy-error")})]}),(0,M.tZ)(Kl,{event:t})]})},tc=(0,i.memo)(ec),nc=e=>{let{event:t}=e;return(0,M.BX)(zl,{children:[(0,M.tZ)(Xl,{children:(0,M.tZ)(a.JO,{icon:"hyperlink",color:"text_default",size:"m"})}),(0,M.tZ)(Gl,{children:(0,M.tZ)(Fl,{title:t.text,children:t.text})}),(0,M.tZ)(Kl,{event:t})]})},ic=(0,i.memo)(nc);var oc=n(55885),rc=n(81084),ac=n(738),sc=n(48104),lc=n(36365),cc=n(20387),dc=n(68733),uc=n(14334);const gc=(0,Fe.Z)("div",{target:"esk6ohz1"})("min-height:300px;height:100%;width:100%;border-top:1px solid ",a.TV.color.neutral_300,";background:",a.TV.color.bg_info,";display:flex;flex-direction:column;z-index:29;user-select:text;"),pc=(0,Fe.Z)("ul",{target:"esk6ohz0"})({name:"umwchj",styles:"overflow-y:auto"}),hc=(e,t)=>(0,wl.ob)({name:e,uiPosition:"console_actions",data:{state_event_was_triggered_on:"playback.player_console"},groupData:wl.P6.extractSiteGroupingProps(t)}),mc=()=>{const[e,t]=(0,i.useState)(300),[n,o]=(0,i.useState)(!1),{isConsoleOpen:r,scrollToTime:a,recording:s,site:l,user:c,jsonFilters:d}=$e((e=>{let{isConsoleOpen:t,scrollToTime:n,recording:i,site:o,user:r,jsonFilters:a}=e;return{isConsoleOpen:t,scrollToTime:n,recording:i,site:o,user:r,jsonFilters:a}})),{sessionCaptureConsoleConsent:u}=(0,Tl.b)(l),g=Cn(s),p=(0,i.useCallback)((e=>{hc("view_trends",l).finally((()=>{const t=((e,t)=>n=>{const i=`/sites/${e}/trends`,o=(0,lc.rm)(t),r=(0,dc.Z)(o);r.filterList=r.filterList.filter((e=>e.kind!==oc.w_.Error)),((e,t)=>{e.filterList.push({id:(0,uc.v4)(),kind:oc.w_.Error,value:{operation:rc.o.OCCURRED,subFilters:[{id:(0,uc.v4)(),kind:ac.C.TEXT,value:{operation:sc.qC.STARTS_WITH,value:t}}]}})})(r,n);const a=JSON.stringify((0,cc.L)(r)),s=new URLSearchParams({filters:a});return new URL(`${i}?${s}`,window.location.href).toString()})(l?.id,d);window.open(t(e),"_blank")}))}),[l,d]),h=(0,i.useCallback)((()=>{hc("copy_error",l)}),[l]);(0,i.useEffect)((()=>{if(!r||!g.length||null===a)return;const e=document.querySelector(`[data-time-in-timeline="${a}"]`);e&&e.scrollIntoView()}),[r,g,a]),(0,i.useEffect)((()=>{r&&s&&c&&wl.EX.track("Console Opened",{site_id:s.site_id,organization_id:s.organization_id,account_id:s.account_id,user_id:c.user_id,url_event_was_triggered_on:(0,wn.j1)(location.href),state_event_was_triggered_on:u?"console_tracking_enabled":"console_tracking_disabled",number_errors:g.reduce(((e,t)=>t.type===Tn.ERROR?e+1:e),0)})}),[r]);const{visible:m,open:b,animating:f}=Cs(r);return m?(0,M.tZ)(xl.e,{size:{height:b?e:0,width:"100%"},style:{transition:f?"height ease-in-out 300ms":""},enable:{top:!0,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},minHeight:"300",maxHeight:"75vh",onResizeStop:(n,i,o,r)=>{t(e+r.height)},children:(0,M.BX)(gc,{children:[(0,M.tZ)(El,{}),g.length>0?(0,M.tZ)(pc,{children:g.map(((e,t)=>((e,t,n)=>e.type===Tn.ERROR?(0,M.tZ)(tc,{event:e.event,...n},t):e.type===Tn.NAVIGATION?(0,M.tZ)(ic,{event:e.event},t):null)(e,t,{onTrendNavigationClick:p,onCopyActionClick:h})))}):(0,M.tZ)(jl,{isCapturingErrors:u,siteId:l?.id,hasEnabledCapture:n,onEnableCapture:()=>o(!0)})]})}):null},bc=(0,i.memo)(mc);var fc=n(16494);const yc=()=>new DOMRect,_c=()=>{const e=(0,i.useRef)(null),t=(0,i.useRef)(!0),n=(0,i.useRef)(null),[o,r]=(0,i.useState)(yc()),a=(0,i.useCallback)((n=>()=>{if(function(e){return null===e.closest("body")}(n))return;const i=n.getBoundingClientRect();!function(e){return 0===e.height&&0===e.width}(i)?t.current&&r(i):e.current=requestAnimationFrame(a(n))}),[r]),s=(0,i.useCallback)((i=>{e.current&&cancelAnimationFrame(e.current);const o=n.current;if(n.current=i,null===i)return t.current&&r(yc()),void(null!==o&&(e.current=requestAnimationFrame(a(o))));const s=a(i);null!==o?s():requestAnimationFrame(s)}),[r,a]);return(0,i.useEffect)((()=>()=>{t.current=!1}),[]),[o,s]};var vc=n(78483),kc=n(39015);function xc(e){return(0,r.useMutation)((async t=>{if(null===e)throw new Error("site ID is not defined");return(0,Y.B1)(J.o.RECORDING_HIGHLIGHT_CREATE_START),(0,vc.St)(e,{...t,uiPosition:t.uiPosition??"unknown"})}),{onSuccess:()=>{(0,N.event)("recording_highlight_created"),p.E.invalidateQueries(vc.UR),p.E.invalidateQueries(vc.gU),p.E.invalidateQueries(vc.Rl),p.E.invalidateQueries(kc.r5)},onSettled:()=>{(0,Y.fj)({name:J.o.RECORDING_HIGHLIGHT_CREATE_TIME,startMark:J.o.RECORDING_HIGHLIGHT_CREATE_START})}})}var wc=n(44490),Tc=n(15040),Cc=n(29082);const Sc=(0,Fe.Z)(Mi.N8,{target:"ehhnbi51"})({name:"xg0yy4",styles:"z-index:2;span{z-index:2;}:hover{z-index:2;}"}),Ic=(0,Fe.Z)("span",{target:"ehhnbi50"})("bottom:",(e=>e.isParentWithStem?0:45),"px;position:absolute;transform:translateX(calc(-50% + ",(e=>e.horizontalOffset),"px));cursor:default;&.newItem{bottom:",(e=>e.isParentWithStem?0:Mi.n5),"px;}"),Zc=e=>{let{item:t,isActive:n,horizontalOffset:i,showStickerLabels:o,setPopoverRef:r,renderedExistingContent:a,onClick:s,onMouseEnter:l,author:c,labels:d,hasComments:u}=e;return n?(0,M.tZ)(Ic,{horizontalOffset:i,isParentWithStem:!o,ref:r,children:a}):(0,M.tZ)(Cc.D,{onClick:()=>s(t),onMouseEnter:()=>l(t),showReactionIcon:o,author:c,labels:d,hasComments:u})},Rc=e=>{let{item:t,isActive:n,isInteractionHappening:i,horizontalOffset:o,showStickerLabels:r,setPopoverRef:a,renderedExistingContent:s,onClick:l,onMouseEnter:c,author:d,labels:u,hasComments:g}=e;return(0,M.BX)(M.HY,{children:[n&&(0,M.tZ)(Ic,{horizontalOffset:o,isParentWithStem:!r,ref:a,children:s}),(0,M.tZ)("div",{css:(0,yt.iv)("transition:all 0.2s ease-in-out;",n?"transform: scale(1.2);":null," ",!n&&i?"opacity: 0.8;":null,";",""),children:(0,M.tZ)(Cc.D,{onClick:()=>l(t),onMouseEnter:()=>c(t),showReactionIcon:r,author:d,labels:u,hasComments:g})})]})},Ec=e=>{let{activeItemId:t,timelineBox:n,newItem:o,setActiveItem:r,items:a=[],showLollipopFooter:s,showStickerLabels:l,renderExistingContent:c,renderNewContent:d}=e;const[u,g]=_c(),p=(0,i.useMemo)((()=>{const{left:e,right:t}=u;return e<0?20-e:window.innerWidth-t<0?-(t-window.innerWidth+20):0}),[u]),{deactivateCurrentItem:h,deactivateNotInteractedCurrentItem:m,markCurrentItemAsInteracted:b,makeItemActive:f,openItemPreview:y}=function(e){let{newItemTime:t,setActiveItem:n}=e;const[o,r]=(0,i.useState)(!1),a=(0,i.useCallback)((()=>{n(null),r(!1)}),[n,r]),s=(0,i.useCallback)((()=>{o||a()}),[o,a]),l=(0,i.useCallback)((()=>{o||r(!0)}),[r,o]),c=(0,i.useCallback)((e=>{n({type:cn.HIGHLIGHT,id:e.id}),r(!0)}),[n,r]),d=(0,i.useCallback)((e=>{o||null!==t||n({type:cn.HIGHLIGHT,id:e.id})}),[n,t,o]);return{deactivateCurrentItem:a,deactivateNotInteractedCurrentItem:s,markCurrentItemAsInteracted:l,makeItemActive:c,openItemPreview:d}}({setActiveItem:r,newItemTime:o?.time.marker??null}),_=n?.width??0;return(0,M.BX)(M.HY,{children:[a.map((e=>{const n={item:e,isActive:Number(e.id)===t,isInteractionHappening:!!t,horizontalOffset:p,showStickerLabels:l,setPopoverRef:g,renderedExistingContent:c(e,{deactivateCurrentItem:h,deactivateNotInteractedCurrentItem:m,markCurrentItemAsInteracted:b}),onClick:()=>f(e),onMouseEnter:()=>{y(e)},author:{avatar:e.author.avatar,name:e.author.name},labels:e.labels?.map((e=>e.id)),hasComments:!!e?.commentCount&&e.commentCount>0};return(0,M.tZ)(Sc,{increaseZIndex:Number(e.id)===t,position:e.position,showLollipopFooter:s,showStem:!l,timelineWidth:_,children:l?(0,M.tZ)(Rc,{...n}):(0,M.tZ)(Zc,{...n})},e.id)})),null!==o&&d&&(0,M.tZ)(Sc,{increaseZIndex:!0,position:o.position.marker,showLollipopFooter:s,showStem:!l,timelineWidth:_,children:(0,M.tZ)(Ic,{horizontalOffset:p,isParentWithStem:!l,ref:g,className:"newItem",children:d(o.type)})},`new-item-${o.time.marker}`)]})};var Pc=n(14928),Nc=n(13575),Oc=n(77715);function Ac(e){let{highlightTime:t,recordingDuration:n}=e;return null===t?null:{end:t.end/n*100,marker:t.marker/n*100,start:t.start/n*100}}var Lc=n(96681);function Mc(e){let{initialValue:t,onScrub:n,onScrubStart:o,...r}=e;const a=(0,i.useRef)(null),s=(0,i.useRef)(!1),l=(0,i.useCallback)((()=>{o?.(),s.current||(s.current=!0)}),[o]),c=(0,i.useRef)(n);(0,i.useEffect)((()=>{c.current=n}),[n]);const d=(0,i.useCallback)((e=>{c.current?.(e)}),[]),u=(0,Lc.Z)(a,{...r,onScrub:d,onScrubStart:l}),g=s.current?u.value:t;return{...u,ref:a,value:g}}const Vc=(0,Fe.Z)("div",{target:"ezjzvsf7"})({name:"1kxe993",styles:"height:24px;position:relative;width:100%"}),Dc=(0,Fe.Z)("section",{target:"ezjzvsf6"})("border:","2px"," solid ",a.TV.color.white,";border-radius:",a.TV.radius.m,";overflow:hidden;pointer-events:none;position:absolute;bottom:0;left:",(e=>{let{position:t}=e;return t.start}),"%;right:",(e=>{let{position:t}=e;return 100-t.end}),"%;top:0;"),Bc=(0,Fe.Z)("div",{target:"ezjzvsf5"})({name:"1h00h4f",styles:"bottom:0;left:0;position:absolute;right:0;top:0;z-index:2"}),jc=(0,Fe.Z)(Bc,{target:"ezjzvsf4"})("background-color:",(e=>{let{debug:t}=e;return t?"rgba(255, 0, 0, 0.5)":"transparent"}),";cursor:w-resize;left:",(e=>{let{isSliding:t,position:n}=e;return t?0:`${n}%`}),";right:",(e=>{let{isSliding:t,position:n}=e;return t?0:`calc(${100-n}% - 11px)`}),";"),zc=(0,Fe.Z)(Bc,{target:"ezjzvsf3"})("background-color:",(e=>{let{debug:t}=e;return t?"rgba(0, 0, 255, 0.5)":"transparent"}),";cursor:e-resize;left:",(e=>{let{isSliding:t,position:n}=e;return t?0:`calc(${n}% - 11px)`}),";right:",(e=>{let{isSliding:t,position:n}=e;return t?0:100-n+"%"}),";"),Hc=(0,Fe.Z)("span",{target:"ezjzvsf2"})("background-color:",a.TV.color.primary_cta,";bottom:0;position:absolute;top:0;width:","11px",";z-index:2;&:after,&:before{background-color:",a.TV.color.white,";content:'';height:",a.TV.spacer.x1,";left:48%;position:absolute;top:50%;width:1px;}&:after{transform:translateY(-50%) translateX(-1px);}&:before{transform:translateY(-50%) translateX(1px);}"),$c=(0,Fe.Z)(Hc,{target:"ezjzvsf1"})("border-bottom-left-radius:",a.TV.radius.m,";border-top-left-radius:",a.TV.radius.m,";left:",(e=>{let{position:t}=e;return t}),"%;"),Xc=(0,Fe.Z)(Hc,{target:"ezjzvsf0"})("border-bottom-right-radius:",a.TV.radius.m,";border-top-right-radius:",a.TV.radius.m,";right:",(e=>{let{position:t}=e;return 100-t}),"%;");function Gc(e){let{className:t,debug:n=!1,onPositionChange:o,position:r}=e;const a=(0,i.useCallback)((e=>{o({...r,start:100*e})}),[o,r]),s=Mc({initialValue:r.start/100,onScrub:a}),l=(0,i.useCallback)((e=>{o({...r,end:100*e})}),[o,r]),c=Mc({initialValue:r.end/100,onScrub:l});return(0,M.BX)(Vc,{className:t,children:[(0,M.tZ)(Dc,{position:r}),(0,M.tZ)($c,{position:r.start}),(0,M.tZ)(Xc,{position:r.end}),(0,M.tZ)(jc,{debug:n,isSliding:s.isSliding,position:r.start,ref:s.ref}),(0,M.tZ)(zc,{debug:n,isSliding:c.isSliding,position:r.end,ref:c.ref})]})}var Fc=n(7664),Uc=n(52343),Wc=n(3234),qc=n(56551),Yc=n(98405),Jc=n(3655);const Kc=(0,Fe.Z)(a.Zb,{target:"ejmsp762"})({name:"1flj9lk",styles:"text-align:left"}),Qc=(0,Fe.Z)(Ci.YH,{target:"ejmsp761"})("margin-top:",a.TV.spacer.x1,";margin-bottom:",a.TV.spacer.x2,";"),ed=(0,Fe.Z)(a.NU,{target:"ejmsp760"})("margin-top:",a.TV.spacer.x1,";margin-bottom:",a.TV.spacer.x2,";z-index:2;div[data-tippy-root]{position:relative;z-index:2;:hover{position:relative;z-index:2;}}"),td=e=>e?.map((e=>({label:e.name,value:e.id,icon:"unknown"!==e.iconName?Ci.kh[e.iconName]??e.iconName:void 0})))??[];function nd(e){let{currentOrganization:t,deactivateCurrentItem:n,newHighlightTime:o,newHighlightTimeError:r,recordingId:s,setActiveItem:l,onNewHighlightTime:c,showSuccessMessage:d,siteId:u,jumpTo:g,onPlay:p,pause:h,loaded:m,isPlaying:b}=e;const f=(0,i.useRef)(null),[y,_]=(0,i.useState)(["",[]]),[v,k]=(0,i.useState)(new Set),{isLoading:x,mutateAsync:w}=xc(u),{t:T}=(0,We.$G)(),C=t?.users??[],{click:S}=(0,qc.S)(),{hasPermission:I}=(0,Nl.o)(),Z=I("organization",`${t?.id}`,"org-invite"),R=(0,fn.y)("settings.custom-labels"),{createLabel:E}=(0,Ci.B8)(Number(u)),{data:P}=(0,Ci.cW)(u,"all"),[N,O]=(0,i.useState)(td(P));(0,i.useEffect)((()=>{O(td(P))}),[P,O]);const[A,L]=(0,i.useState)([]),V=e=>{void 0!==e&&(L(e),k(new Set(e.map((e=>e.value)))))};return o&&t?(0,M.tZ)(Kc,{onDismiss:n,className:"highlight-popover",children:(0,M.BX)(a.Zb.Body,{className:"card-body",children:[(0,M.tZ)(Jc.v,{as:"p",textType:"subtitle2",children:T("highlights:recordings.create")}),R?(0,M.tZ)(ed,{size:"s",availableOptions:N,selectedOptions:A,placeholder:T("highlights:popover.add-label"),onChange:V,hasAddOption:!0,onAddOption:async e=>{const t=await E(e.charAt(0).toUpperCase()+e.slice(1));t&&void 0!==A&&(L([...A??[],{value:String(t.id),label:t.name}]),k(new Set(A.map((e=>e.value)))),V([...A??[],{value:String(t.id),label:t.name}]))}}):(0,M.tZ)(Fc.T,{children:(0,M.tZ)(Qc,{siteId:u,selectedLabelIds:v,onSelectedIdsChange:k,onAdd:()=>S("Create highlight - label click","clicked_on_popup_label",{})})}),(0,M.tZ)(Wc.g,{hasOrgInvitePermission:Z,"data-testid":"comment",inputPlaceholder:T("comment:create.placeholder"),onChange:(e,t)=>{_([e,t])},organizationName:t.name,ref:f,users:C,value:y[0]}),(0,M.tZ)(Yc.x,{highlightType:"recording",isSubmitting:x,newHighlightTimeError:r,newHighlightTime:o,onNewHighlightTime:c,onSave:async()=>{const e=(0,Uc.Qc)(y[0],(0,Uc.S4)(y[1],C)),{id:t}=await w({highlightTime:o.marker,labels:Array.from(v),recordingId:s,startTime:o.start,endTime:o.end,comment:e.length>0?e:void 0,uiPosition:"highlight bulb"});n(),l({type:cn.HIGHLIGHT,id:Number(t)}),d(T("highlights:save.highlight-created"))},onClose:n,jumpTo:g,onPlay:p,pause:h,loaded:m,isPlaying:b})]})}):null}function id(e,t){return(0,r.useQuery)([vc.UR,e,t],(()=>(0,vc.yN)(e,t)),{enabled:null!==e,staleTime:3e5})}var od=n(24685);function rd(e,t){return null===e?null:{end:Math.min(t,e+2e4),marker:e,start:Math.max(0,e-1e4)}}const ad=(0,Fe.Z)(Gc,{target:"e1l4jkb80"})({name:"1antkw8",styles:"left:0;position:absolute;right:0;top:calc(50% + 9px)"}),sd=e=>{let{activeItemId:t,apiToken:n=null,currentUser:o,duration:r,isPlaying:a,newHighlightMetadata:s,onNewHighlightTimeChange:l,onPause:c,onShare:d,organizationId:u,recordingId:g,resetActiveItem:p,setActiveItem:h,timelineBox:m,jumpTo:b,onPlay:f,pause:y,loaded:_,onCommentsFetched:v}=e;const k=(0,D.hr)((e=>e.setIsRelevantActionOverlappingHighlight)),x=(0,D.hr)((e=>e.currentTime)),[w,T]=(0,i.useState)(rd(s.time,r)),[C,S]=(0,i.useState)(null),I=(0,Pc.$n)(),{data:Z,isFetched:R,refetch:E}=id(I,g),{data:P}=(0,Nc.o8)(u,o.id),{success:N}=(0,Pl.d)(),O=Ac({highlightTime:w,recordingDuration:r}),A=(0,i.useMemo)((()=>null===w||null===O?null:{time:w,position:O,type:s.type}),[w,O,s.type]),L=(0,i.useMemo)((()=>m?Math.ceil(29*r/m.width):0),[m,r]);(0,i.useEffect)((()=>{if(!Z)return void k(!1);const e=Z.items.some((e=>{const t=rd(e.metadata.clip.marker??null,r);if(!t)return!1;const n=t.start>L?t.start-L:t.start,i=t.end+L<r?t.end+L:t.end;return x>=n&&x<=i}));k(e)}),[Z,x,L,r,k]),(0,i.useEffect)((()=>{T(rd(s.time,r))}),[s.time,r]),(0,i.useEffect)((()=>{a&&p()}),[a,p]),(0,i.useEffect)((()=>{T(rd(s.time,r))}),[r,s.time]),(0,i.useEffect)((()=>{null!==s.time&&p()}),[s,p]),(0,i.useEffect)((()=>{if(null===C)return;const e=setTimeout((()=>{S(null)}),3e3);return()=>clearTimeout(e)}),[C]);const V=(0,i.useCallback)((e=>{const t=(0,od.FF)({newHighlightTime:e});S(t),t||T(e)}),[T,S]),B=(0,i.useCallback)((e=>{null!==w&&V({end:e.end/100*r,marker:w.marker,start:e.start/100*r})}),[r,w,V]),[j,z]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{R&&!j&&Z&&(z(!0),v())}),[R,Z,j,v,z]),Z?.items?(0,M.BX)(Vi.S,{squadSentryTag:"workflow",children:[(0,M.tZ)(Ec,{activeItemId:t,items:Z.items.map((e=>{const t=Ac({highlightTime:rd(e.metadata.clip.marker,r),recordingDuration:r})?.marker??0;return{...e,id:Number(e.id),position:t,type:"recording"}})),newItem:A,renderExistingContent:(e,t)=>{let{deactivateCurrentItem:i,deactivateNotInteractedCurrentItem:r,markCurrentItemAsInteracted:s}=t;return(0,M.tZ)(Tc.B,{children:(0,M.tZ)(Oc.H,{isDesktop:!0,apiToken:n,currentUser:o,deactivateCurrentItem:i,deactivateNotInteractedCurrentItem:r,isPlaying:a,item:e,markCurrentItemAsInteracted:s,onPause:c,onShare:d,organizationId:u,refetchHighlights:E,setActiveItem:h,siteId:I})})},renderNewContent:()=>(0,M.tZ)(nd,{currentOrganization:P,deactivateCurrentItem:()=>l(null),newHighlightTime:w,newHighlightTimeError:C,onNewHighlightTime:V,recordingId:g,setActiveItem:h,showSuccessMessage:N,siteId:I,jumpTo:b,onPlay:f,pause:y,loaded:_,isPlaying:a}),setActiveItem:h,showLollipopFooter:!0,showStickerLabels:!0,timelineBox:m}),A?(0,M.tZ)(ad,{onPositionChange:B,position:A.position}):null]}):null},ld=(0,Fe.Z)("div",{target:"e8lihut1"})("background:",a.TV.color.neutral_500,";background-clip:content-box;bottom:",(e=>{let{isRespectivePageHovered:t}=e;return t?-1:-5}),"px;border-radius:4px;box-shadow:0px 0px 0px 1px ",a.TV.color.text_default,";cursor:pointer;box-sizing:border-box;height:",(e=>{let{isHovered:t}=e;return t?4:2}),"px;overflow:hidden;position:absolute;transition:all 0.1s ease-out;transform-origin:center;"),cd=(0,Fe.Z)("div",{target:"e8lihut0"})("background:",a.TV.color.ember_600,";height:",(e=>{let{isHovered:t}=e;return t?4:2}),"px;width:100%;transform-origin:top left;"),dd=e=>{let{xPositionInPx:t,xWidthInPx:n,xProgressInPercent:i,isHovered:o,isRespectivePageHovered:r}=e;return(0,M.tZ)(ld,{draggable:"false","data-testid":"mini-timeline",style:{left:t,width:n,zIndex:Math.round(t)},isHovered:o,isRespectivePageHovered:r,children:(0,M.tZ)(cd,{style:{transform:`scaleX(${i/100})`},isHovered:o})})},ud=(0,Fe.Z)("div",{target:"e1ac5adm0"})({name:"1xrxvpq",styles:"width:100%;position:absolute;bottom:0;z-index:0"}),gd=e=>{let{duration:t,activeItemId:n,siteId:o,recordingId:r}=e;const{data:a}=id(String(o),r),s=(0,i.useRef)(null),{width:l}=Xo(s),c=(0,D.hr)((0,i.useCallback)((e=>e.isDragging?e.draggedTime/t*l:e.currentTimeWithLessPrecision/t*l),[t,l])),d=(0,D.hr)((e=>e.isHovering)),u=(0,D.hr)((e=>e.hoveredPageIndex)),g=(0,D.hr)((0,i.useCallback)((e=>{const[t,...n]=e.sectionInfoList.filter((e=>e.pageIndex===u)),i=n.reduce(((e,t)=>t.durationInMs+e),t.durationInMs);return{startTimeInMs:t.startTimeInMs,endTimeInMs:t.startTimeInMs+i,durationInMs:i}}),[u])),p=a?.items.map((e=>{let{id:t,metadata:n}=e;return{id:Number(t),highlightStartTime:n.clip.start,highlightEndTime:n.clip.end,highlightDuration:n.clip.duration}}));return(0,M.tZ)(ud,{ref:s,children:p?.map((e=>{let{id:i,highlightStartTime:o,highlightEndTime:r,highlightDuration:a}=e;const s=Qo(o*l/t),u=Qo(a*l/t);return(0,M.tZ)(dd,{isHovered:i===n,isRespectivePageHovered:d&&(o>=g.startTimeInMs&&o<=g.endTimeInMs||o<=g.startTimeInMs&&(r>=g.endTimeInMs||r>=g.startTimeInMs)),xPositionInPx:s,xWidthInPx:u,xProgressInPercent:(p=c,h=s,m=u,p<h?0:(p-h)/(h+m-h)*100)},i);var p,h,m}))})},pd=i.memo(gd),hd=(0,Fe.Z)("div",{target:"e1b038512"})("overflow:auto;background:linear-gradient(",a.TV.color.neutral_100,", ",a.TV.color.neutral_100,") center/1px 100% no-repeat;display:grid;grid-gap:",a.TV.spacer.x4,";grid-template-columns:1fr 1fr;padding:0 ",a.TV.spacer.x2," ",a.TV.spacer.x2," ",a.TV.spacer.x2,";"),md=(0,Fe.Z)(a.Vp,{target:"e1b038511"})("font-size:12px;height:",a.TV.spacer.x3,";"),bd=(0,Fe.Z)("div",{target:"e1b038510"})("align-items:center;display:flex;font-size:12px;justify-content:space-between;padding:",a.TV.spacer.x2," 0;>span{white-space:nowrap;}&:not(:last-child){border-bottom:1px solid ",a.TV.color.ui_border_light,";}"),fd=e=>{let{isOpen:t,onClose:n,isNewHighlightsOn:o,isReadOnly:r,isTokenShared:s,isPlaying:l,onPause:c,onPlay:d}=e;const{t:u}=(0,We.$G)(),[g,p]=(0,i.useState)(!1),h=(0,i.useCallback)((()=>{p(l),l&&c()}),[l,c]),m=(0,i.useCallback)((()=>{g&&d()}),[g,d]);return(0,M.BX)(a.u_,{appElementSelector:"body",contentLabel:"Keyboard shortcuts",isOpen:t,onClose:n,className:"keyboard-shortcut-modal",onAfterOpen:h,onAfterClose:m,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[(0,M.tZ)(a.u_.Header,{title:"Keyboard shortcuts"}),(0,M.BX)(hd,{children:[(0,M.BX)("div",{children:[(0,M.BX)(bd,{children:[u("common:player.shortcuts.play-or-pause"),(0,M.BX)("span",{children:[(0,M.tZ)(md,{children:"k"}),"or",(0,M.tZ)(md,{children:"space"})]})]}),(0,M.BX)(bd,{children:[u("common:player.shortcuts.toggle-speed"),(0,M.tZ)(md,{children:"i"})]}),(0,M.BX)(bd,{children:[u("common:player.shortcuts.rewind-x-seconds"),(0,M.tZ)("span",{children:(0,M.tZ)(md,{children:"left arrow"})})]}),(0,M.BX)(bd,{children:[u("common:player.shortcuts.skip-x-seconds"),(0,M.tZ)("span",{children:(0,M.tZ)(md,{children:"right arrow"})})]}),(0,M.BX)(bd,{children:[u("common:player.shortcuts.jump-to-prev-page"),(0,M.BX)("span",{children:[(0,M.tZ)(md,{children:"shift"}),"+",(0,M.tZ)(md,{children:"left arrow"})]})]}),(0,M.BX)(bd,{children:[u("common:player.shortcuts.jump-to-next-page"),(0,M.BX)("span",{children:[(0,M.tZ)(md,{children:"shift"}),"+",(0,M.tZ)(md,{children:"right arrow"})]})]}),!s&&(0,M.BX)(M.HY,{children:[(0,M.BX)(bd,{children:[u("common:player.shortcuts.load-prev-recording"),(0,M.BX)("span",{children:[(0,M.tZ)(md,{children:"shift"}),"+",(0,M.tZ)(md,{children:"p"})]})]}),(0,M.BX)(bd,{children:[u("common:player.shortcuts.load-next-recording"),(0,M.BX)("span",{children:[(0,M.tZ)(md,{children:"shift"}),"+",(0,M.tZ)(md,{children:"n"})]})]})]})]}),(0,M.BX)("div",{children:[(0,M.BX)(bd,{children:[u("common:player.shortcuts.skip-current-inactivity"),(0,M.tZ)(md,{children:"s"})]}),(0,M.BX)(bd,{children:[u("common:player.replay"),(0,M.tZ)(md,{children:"r"})]}),(!s||!r)&&(0,M.BX)(bd,{children:[u("common:player.shortcuts.delete"),(0,M.tZ)(md,{children:"d"})]}),!s&&(0,M.tZ)(M.HY,{children:(0,M.BX)(bd,{children:[u(o?"common:player.shortcuts.save-clip-as-highlight":"common:player.shortcuts.add-comment"),(0,M.tZ)(md,{children:"c"})]})}),(0,M.BX)(bd,{children:[u("common:player.shortcuts.collapse-expand-sidebar"),(0,M.tZ)(md,{children:"h"})]}),(0,M.BX)(bd,{children:[u("common:player.shortcuts.show-modal"),(0,M.tZ)(md,{children:"?"})]})]})]})]})};var yd=n(13212),_d=n(46962);const vd=e=>{let{recording:t,isPlaying:n,onPause:o,onPlay:r}=e;const{t:s}=(0,We.$G)(),{showToast:l}=(0,a.d$)(),[c,d]=(0,i.useState)(!1),u=dn((e=>e.activeModal)),{setActiveModal:g}=dn.getState(),p=()=>g(ln.CLOSE),m=(0,i.useCallback)((()=>{d(n),n&&o()}),[n,o]),b=(0,i.useCallback)((()=>{c&&r()}),[c,r]);return(0,M.BX)(a.u_,{appElementSelector:"body",contentLabel:"Delete recording",isOpen:u===ln.DELETE_RECORDING_OPEN,onClose:p,className:"keyboard-shortcut-modal",onAfterOpen:m,onAfterClose:b,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[(0,M.tZ)(a.u_.Header,{title:s("common:player.delete-recording-question")}),(0,M.tZ)(a.u_.Body,{children:(0,M.tZ)("p",{children:s("common:player.recording-delete-warning")})}),(0,M.BX)(a.u_.Footer,{children:[(0,M.tZ)(a.zx,{onClick:p,kind:"ghost",children:s("common:player.cancel")}),(0,M.tZ)(a.zx,{onClick:async()=>{const{id:e,created_epoch_time:n,site_id:i}=t;try{await(0,_d.V)([{id:e,created:n}],i)?(h.Z.signal("recordingDeleted",{recordingDeletedFromThisTab:!0,recordingId:e},!0),p()):l({kind:"danger",text:s("common:player.recording-not-deleted")})}catch(e){l({kind:"danger",text:s("common:player.recording-not-deleted")}),nn.uT("Error deleting recording",yd.z.Error),nn.Tb(e)}},kind:"danger",children:s("common:player.recording-delete-confirm")})]})]})},kd=(0,Fe.Z)("div",{target:"e1ykurat3"})("background-color:",a.TV.BRAND_COLORS.white,";border-top:1px solid ",a.TV.color.neutral_300,";width:100%;bottom:0;z-index:",30,";left:0;"),xd=(0,Fe.Z)("div",{target:"e1ykurat2"})("width:100%;position:relative;margin-bottom:",a.TV.spacer.x1,";"),wd=(0,Fe.Z)("div",{target:"e1ykurat1"})("position:absolute;bottom:16px;left:",or,"px;width:calc(100% - ",48,"px);"),Td=(0,Fe.Z)("div",{target:"e1ykurat0"})("display:block;height:11px;margin:0;bottom:33px;position:absolute;left:",or,"px;width:calc(100% - ",48,"px);"),Cd=()=>{const e=ze(),{showCommentMentionsCallout:t,setShared:n}=He(),{playing:o,loaded:r,recording:a,sidePanelEventMarkers:s,showSidePanel:l,done:c,manuallyPausedOnce:d,isAutoplaying:g,isSharedRecording:p,user:h,sharingToken:m,organizationId:b,siteId:_,eventMarkers:v,playbackSpeed:k,skipPauses:x,isJumpStartActive:T,isMuteClicksActive:C,isForcingPlayback:S,isConsoleOpen:Z,isShared:R}=$e((e=>({playing:e.playing,loaded:e.loaded,recording:e.recording,sidePanelEventMarkers:e.sidePanelEventMarkers,showSidePanel:e.showSidePanel,done:e.done,manuallyPausedOnce:e.manuallyPausedOnce,isAutoplaying:e.isAutoplaying,isSharedRecording:e.isSharedRecording,user:e.user,sharingToken:e.sharingToken,organizationId:e.organizationId,siteId:e.siteId,eventMarkers:e.eventMarkers,playbackSpeed:e.playbackSpeed,skipPauses:e.skipPauses,isJumpStartActive:e.isJumpStartActive,isMuteClicksActive:e.isMuteClicksActive,isForcingPlayback:e.isForcingPlayback,isConsoleOpen:e.isConsoleOpen,isShared:e.isShared}))),{success:E}=(0,Pl.d)(),{t:N}=(0,We.$G)(),O=dn((e=>e.activeModal)),A=!(0,B.RJ)(),[L,V]=(0,i.useState)(null),j=(0,i.useCallback)((()=>V(null)),[V]),{setActiveModal:z}=dn.getState(),[H,$]=(0,i.useState)(),[X,G]=(0,i.useState)({type:cn.HIGHLIGHT,time:null}),[F,U]=_c(),W=(0,i.useCallback)((e=>{X.time!==e&&G((t=>({...t,time:e})))}),[G,X]),q=(0,i.useCallback)(((t,n)=>{const i=D.hr.getState().currentTime<t?"forward":"backward";A&&((e,t,n)=>{y(e,{element_name:`playback_jumped_${t}`,state_event_was_triggered_on:"playback.player_navigation",ui_position:n})})(a,i,n),ce(e,t)}),[a,A,e]),K=I(e),Q=t=>fe(e,t),ee=t=>((e,t)=>{const{setAutoplay:n}=e.getState();n(t),Oe(e)})(e,t),ie=(t,n)=>{te(e,t,n)},{showNewItemNow:oe}=function(e){let{itemTime:t,isAutoplaying:n,isDone:o,onAutoplayToggle:r,pause:a,setItemMetadataTime:s,setCurrentNewItemMetadata:l}=e;const[c,d]=(0,i.useState)(t),u=(0,i.useCallback)((()=>{o&&n&&r(!1)}),[r,o,n]),g=(0,i.useCallback)((()=>{const{currentTime:e}=D.hr.getState();l({type:cn.HIGHLIGHT,time:e}),u(),a()}),[l,u,a]);return(0,i.useEffect)((()=>{t!==c&&(u(),d(t),s(t))}),[t,c,s,u]),{cancelAutoplay:u,showNewItemNow:g}}({itemTime:null,isAutoplaying:g,isDone:c,onAutoplayToggle:ee,pause:ie,setItemMetadataTime:W,setCurrentNewItemMetadata:G}),re=(0,D.hr)((e=>e.isRelevantActionOverlappingHighlight)),ae=(0,i.useCallback)((()=>{const e=D.hr.getState(),t=e.sectionInfoList[e.currentSectionIndex];if(t&&!t.isActive){const n=t.startTimeInMs+t.durationInMs+1;e.setCurrentTime(Math.min(n,e.duration))}}),[]),{mutateAsync:le}=xc(String(_));(0,i.useEffect)((()=>{"true"===(0,kl.XX)(window.location.href,"highlights-flow")&&(0,fc.c)(wc.R)}),[]);const de=!o&&!c&&d,ue=!p,ge=h?.user_email,pe=h?.user_picture_url,he=h?.user_name,be=h?.user_id;return(0,M.BX)("footer",{className:"bottom-section",children:[(0,M.tZ)(bc,{}),(0,M.BX)(kd,{children:[(0,M.BX)(xd,{children:[r&&a&&de&&!I(e)&&!X?.time&&!re?(0,M.tZ)(wd,{id:se.RELEVANT_ACTIONS_CONTAINER,children:(0,M.tZ)(no,{onShare:()=>{$("clicked_share_in_actions_onpause_popover"),z(ln.SHARE_RECORDING_OPEN)},onCreate:oe,recording:a,showCommentMentionsCallout:t,showStickerLabels:ue})}):null,r&&a&&be&&ue?(0,M.tZ)(Tc.B,{children:(0,M.BX)(Td,{id:se.COMMENTS_CONTAINER,children:[(0,M.tZ)(sd,{apiToken:m,currentUser:{id:be,name:he,avatar:pe,email:ge},activeItemId:L?.id||null,duration:a?.duration||0,isPlaying:o,newHighlightMetadata:X,onCommentsFetched:()=>(e=>{const{isLightPlayer:t,isRetakerMode:n,recording:i,isAutogenerated:o,hasLoadedFirstRecording:r,setHasLoadedFirstRecording:a,siteId:s,recordingId:l,playbacksOpener:c}=e.getState();if("true"===(0,B.ak)("demo")||t||n||!i)return;new Date(0).setUTCSeconds(i.created_epoch_time),u.page("playbacks.view"),o&&((e,t)=>{const n={...f(e),element_name:"Autogenerated Recording",ui_position:"Recording Player"};(0,u.track)("Element Viewed",n)})(i);const d=i.page_visit_recordings.reduce(((e,t)=>t.events.length+e),0);if("visible"!==document.visibilityState)return;if(r){const e=performance.getEntriesByName(J.o.PLAYBACKS_NEXT_RECORDING_FETCH_START)[0],t=Math.floor(performance.now())-Math.floor(e.startTime);(0,Y.fj)({name:J.o.PLAYBACKS_RECORDING_LOADED,startMark:J.o.PLAYBACKS_NEXT_RECORDING_FETCH_START,extra:{load_time:t,mutations_count:d,duration:i.duration,isFirstRecording:!1}})}else(0,Y.fj)({name:J.o.PLAYBACKS_RECORDING_LOADED,extra:{load_time:Math.floor(performance.now()),mutations_count:d,duration:i.duration,isFirstRecording:!0}}),a(!0);const g=c?`&opener=${c}`:"",p=`${(0,B.Gr)()}${g}`;w().post(`/api/v3/sites/${s}/recordings/${l}/tracking`,{url:p})})(e),onNewHighlightTimeChange:W,onPause:ie,onShare:()=>{$("clicked_share_in_comment"),z(ln.SHARE_RECORDING_OPEN)},organizationId:b,recordingId:a?.id,resetActiveItem:j,setActiveItem:V,timelineBox:F,jumpTo:t=>ce(e,t),onPlay:Q,pause:ie,loaded:r}),(0,M.tZ)(pd,{duration:a?.duration,activeItemId:L?.id??-1,recordingId:a?.id,siteId:_})]})}):null,r&&a?(0,M.tZ)(la,{duration:a?.duration,jumpTo:q,eventMarkers:v,sidePanelEventMarkers:s,isDesktopRecording:"desktop"===a.device,siteId:a.site_id,isPlaying:o,setTimelineBox:U}):null]}),(0,M.tZ)(Li,{shouldTrack:A,isTokenShared:p,currentSpeed:k,onSpeedChange:()=>Le(e),isSkippingAllPauses:x,onSkipPausesToggle:t=>((e,t)=>{const{setSkipPauses:n}=e.getState();n(t),Ae(e)})(e,t),duration:a?.duration,onRewind:t=>Ne(e,t),onPlay:Q,onReplay:()=>Pe(e),onPause:ie,onSkipCurrentInactivity:ae,onNewHighlight:oe,onAddLabel:async e=>{await le({highlightTime:D.hr.getState().currentTime,recordingId:a?.id||0,labels:[e],uiPosition:"sticker label"}),E(N("common:player.toast-saved-highlight"))},isPlaying:o,isDone:c,onForward:t=>Ce(e,t),onAutoplayToggle:ee,isAutoplaying:g,isJumpStartActive:T,onToggleJumpStart:()=>(e=>{const{isJumpStartActive:t,setIsJumpStartActive:n}=e.getState();n(!t),P.mM.set("playbackJumpStart",!t)})(e),isMuteClicksActive:C,onToggleMuteClicks:()=>(e=>{const{isMuteClicksActive:t,setIsMuteClicksActive:n}=e.getState();n(!t),P.mM.set("playbackMuteClicks",!t)})(e),loaded:r,recording:a,isForcingPlayback:S,onForcePlaybackClose:()=>(e=>{const{setIsForcingPlayback:t}=e.getState();t(!1)})(e),showStickerLabels:ue,activeModal:O,setActiveModal:z,isConsoleOpen:Z})]}),(0,M.BX)(M.HY,{children:[(0,M.tZ)(St,{recording:a,hasNextRecording:ne(e),hasPreviousRecording:Se(e),isNewHighlightsOn:ue,isReadOnly:K,isTokenShared:p,jumpTo:t=>ce(e,t),isSkippingAllPauses:x,skipPauses:x,onSkipCurrentInactivity:ae,onPlayPauseToggle:t=>Me(e,t),onPlaybackSpeedToggle:()=>Le(e),onExpandCollapseToggle:()=>Ve(e,!l),onSkipPausesToggle:()=>(e=>{const{skipPauses:t,setSkipPauses:n}=e.getState();n(!t),Ae(e)})(e),onReplay:()=>Pe(e),onForward:t=>Ce(e,t),onRewind:t=>Ne(e,t),onNext:()=>me(e),onPrevious:()=>Ee(e),onNewComment:oe,onDelete:()=>z(ln.DELETE_RECORDING_OPEN),onAutoplayToggle:()=>{(e=>{const{isAutoplaying:t,setAutoplay:n}=e.getState();n(!t),Oe(e)})(e),E(g?"Autoplay disabled":"Autoplay enabled")},onShortcutsModalToggle:()=>O===ln.KEYBOARD_SHORTCUT_OPEN?z(ln.CLOSE):z(ln.KEYBOARD_SHORTCUT_OPEN)}),(0,M.tZ)(fd,{isOpen:O===ln.KEYBOARD_SHORTCUT_OPEN,onClose:()=>z(ln.CLOSE),isNewHighlightsOn:ue,isReadOnly:K,isTokenShared:p,isPlaying:o,onPause:Q,onPlay:ie}),a?(0,M.tZ)(vd,{recording:a,onPlay:Q,onPause:ie,isPlaying:o}):null,r&&a?(0,M.tZ)(tn,{isPlaying:o,isShared:R,play:Q,pause:ie,isOpen:O===ln.SHARE_RECORDING_OPEN,recording:a,onClose:()=>z(ln.CLOSE),onShare:n,uiPosition:H}):null]})]})},Sd=()=>{const e=ze(),{maintenanceMode:t}=e.getState(),{site:n,done:o,loaded:r,user:a,isLightPlayer:s}=e((e=>({site:e.site,done:e.done,loaded:e.loaded,user:e.user,isLightPlayer:e.isLightPlayer})),Be.Z),l=I(e);var c,d;(e=>{const t=(0,i.useCallback)((()=>(e=>{const{setLoaded:t,setEnableMaintenanceMode:n}=e.getState();t(),n()})(e)),[e]);(0,i.useEffect)((()=>(ue(e),h.Z.listen("recordingDeleted",(t=>((e,t)=>{const{recording:n,removeRecordingFromList:i,setNextRecordingCountdown:o}=e.getState();i(t.recordingId),t.recordingDeletedFromThisTab?ne(e)?o(+setTimeout((()=>me(e)),2e3)):window.close():t.recordingId===n?.id&&window.close()})(e,t)),!0),window.addEventListener("feature-maintenance-mode",t),()=>{window.removeEventListener("feature-maintenance-mode",t)})),[t,e])})(e),Ge(r,o,l),((e,t)=>{const{recordingId:n,recordingsList:o,siteId:r,getRecordingIdByIndex:a,getRecordingIndexById:s}=e.getState(),l=window.fetchRecording;(0,i.useEffect)((()=>{if(!t||!l||!o.length)return;const e=s(n),i=a(e-1),c=a(e+1),d=(0,B.Gr)(),u=(0,B.LP)(),g=(0,B.tu)();c&&l(r,c,g,u,d),i&&l(r,i,g,u,d)}),[t,l,n,o,r,s,a])})(e,r),c=a?.user_id,d=n?.id,(0,i.useEffect)((()=>{d&&c&&(async()=>{P.mM.get(ut)||!0===(await dt.JJ.get(d)).data?.session_capture_console_consent&&(P.mM.set(ut,!0),window.hj&&window.hj("identify",c,{console_tracking:"on"}))})()}),[d,c]);const u=window.iframeController.getError();return u?(0,M.tZ)(ct,{error:u}):t?(0,M.tZ)(m.y,{}):(0,M.BX)("div",{className:"recording-player",children:[(0,M.tZ)(Os,{}),(0,M.tZ)(vl,{}),s?null:(0,M.tZ)(Cd,{})]})},Id={},Zd=(e,t)=>{const n=function(){const e=navigator.userAgent;for(let t=5;t<11;t++)if(e.indexOf(`MSIE ${t}`)>0)return!0;return e.indexOf("Trident/")>0}()?t:e;return void 0===Id[n]&&(Id[n]=new Audio(n)),Id[n]};var Rd=n(89176);const Ed="#svg-actions-container",Pd="hotjar-css-hover",Nd=[];let Od,Ad=null,Ld=null,Md=null,Vd=null;const Dd=function(){return{setVal:function(e,t){return void 0!==t&&(e.value=t),void 0!==e?e.value:""},getOffset:function(e){const t=e.ownerDocument.documentElement;return{top:e.getBoundingClientRect().top+Ad.pageYOffset-t.clientTop,left:e.getBoundingClientRect().left+Ad.pageXOffset-t.clientLeft}}}},Bd=function(){const e=new Dd;let t,n,i=null,o={x:0,y:0},r=null,a=!1,s=1,l=0,c=!1,d=()=>{},u=()=>{},g=()=>{};function p(){return Boolean(new URLSearchParams(window.document.location.search).get("forScreenshot"))}function h(e,t,n){return n.indexOf(e)===t}function m(e){e.rules.map((e=>e.parentSelector)).filter(h).map(f).forEach((e=>{const t=e.sheet;e.textContent=[...t.cssRules].map((e=>`${e.cssText} `)).join("")}))}function b(){r.doBlur(),r=null}function f(e){const t=parseInt(e.split(":")[0]),n=e.substring(e.indexOf(":")+1);try{return n.includes(ha)?function(e,t){const n=new RegExp("^(.*?hj-shadow:.*?)>(.*)$","i"),i=(e,t)=>{let o=[];const[,r,a]=t.match(n);return e.querySelectorAll(r.replace(ha,"")).forEach((e=>{e.shadowRoot&&(a&&a.includes(ha)?o.push(...i(e.shadowRoot,a)):o.push(...e.shadowRoot.querySelectorAll(a)))})),o};return i(Ld,e)[t]}(n,t):Ld.querySelectorAll(n)[t]}catch(e){try{const e=function(e){return e.startsWith("#")&&(e=e.replaceAll(/\s/g,(e=>`\\${e[0]}`))),(e=e.replaceAll(/(<)/g,(e=>`\\${e[0]}`))).replaceAll(/(#|\.)(\d)/g,(e=>`${e[0]}\\3${e[1]} `))}(n);return Ld.querySelectorAll(e)[t]}catch(e){window.Sentry.captureMessage(`Player invalid querySelectorAll: ${n}`)}}}function y(e,t){const n=window.document.getElementById("preview-cursor"),r=Ld.body.scrollLeft||Ad.pageXOffset,l=Ld.body.scrollTop||Ad.pageYOffset,c={x:e.x+r+o.x,y:e.y+l+o.y};if(null!==i&&(a&&(i=c,a=!1),x(t))){const t=parseInt(n.clientHeight,10),r=parseInt(n.clientWidth,10),a={x:e.x+o.x-r/2,y:e.y+o.y-t/2};n.style.transform=`translate(${a.x}px, ${a.y}px)`,function(e,t,n,i){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",e),o.setAttribute("y1",t),o.setAttribute("x2",n),o.setAttribute("y2",i),o.setAttribute("stroke","#FF3C00"),o.setAttribute("stroke-width",4),o.setAttribute("class","_hjRecordingTrail hide-after-delay"),o.style.animation=`fadeOut ${5/s}s ${5/s}s 1`,document.querySelector("#svg-actions").appendChild(o)}(i.x,i.y,c.x,c.y)}i=c}function _(e){const t=e-l>=4e3;!c&&t?v(!0):c&&!t&&v(!1)}function v(e){const t=e?"add":"remove";c=!!e,document.body.classList[t]("pause-animation")}function k(){const e=function(){if(!Ld||!Ld.body)return;const e=Ld.body,t=Ld.documentElement;return{width:Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth),height:Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}}(),t=document.querySelector("#svg-actions");for(var n in e)t.getAttribute(n)!==e[n]&&t.setAttribute(n,e[n])}function x(e){return e>=t-1e4}function w(e){e?.target?.parentNode?.removeChild(e.target)}function T(e,t,n){document.querySelector("#svg-actions").addEventListener("animationend",w),window.iframeController.showIframe(e,t).then((()=>{Ld=n.contentWindow.document,Ad=n.contentWindow,k(),window.playbackModuleHasLoadedThePage=!0}))}let C=!1;function S(e){n=e}function I(t,n,c){switch(t.type){case"key_press":!function(t){const n=f(t.selector);void 0!==n&&e.setVal(n,t.text)}(t);break;case"select_change":!function(t){const n=f(t.selector);void 0!==n&&(e.setVal(n,t.value),n.dispatchEvent(new Event("change")),r&&b())}(t);break;case"input_choice_change":!function(e){const t=f(e.selector);void 0!==t&&(e.value?t.checked=e.value:t.checked=!1)}(t);break;case"mouse_move":l=t.time_in_timeline,function(e){let t,n;if("desktop"===Od){if(t=Ld.elementFromPoint(e.x,e.y),t!==Vd){for(Ld.querySelectorAll("[hotjar-css-hover]").forEach((function(e){e.removeAttribute(Pd)})),n=t;n;){try{n.setAttribute(Pd,!0)}catch(e){}n=n.parentNode}Vd=t}y({x:e.x,y:e.y},e.time_in_timeline)}}(t);break;case"mouse_click":!function(t){let n=f(t.selector);if(void 0===n)return;r&&b(),"SELECT"===n.tagName&&(function(t){const n=e.getOffset(t);let i=t.cloneNode(!0);i.size=Math.min(20,t.options.length),i.removeAttribute("id"),i.style.position="absolute",i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.width=t.offsetWidth,i.style.height="auto",i.style.zIndex="1000000",i=document.querySelector(Ed).appendChild(i),t.doBlur=function(){i.parentNode.removeChild(i),t.blur()},t.focus()}(n),r=n);const a=e.getOffset(n),l={x:t.offset_x+a.left,y:t.offset_y+a.top};o={x:l.x-(t.page_x||i.x),y:l.y-(t.page_y||i.y)},x(t.time_in_timeline)&&(y({x:l.x-(Ld.body.scrollLeft||Ad.pageXOffset)-o.x,y:l.y-(Ld.body.scrollTop||Ad.pageYOffset)-o.y},t.time_in_timeline),function(e){const t=Math.round(e.x-15)+"px",n=Math.round(e.y-15)+"px";let i=document.createElement("div");i.style.pointerEvents="none",i.style.border="0px solid transparent",i.style.boxSizing="border-box",i.style.backgroundColor="#DF4C2B",i.style.height="30px",i.style.width="30px",i.style.position="absolute",i.style.zIndex=2147483647,i.style.opacity=.4,i.style.borderRadius="50%",i.style.backgroundClip="padding-box",i.style.left=t,i.style.top=n,i.style.transitionDuration=".5s",i.className="_hjRecordingTrail hide-after-delay",i.style.animation=`fadeOut ${5/s}s ${5/s}s 1`,i=document.querySelector(Ed).appendChild(i),setTimeout((function(){i.style.border="9px solid transparent",i.style.opacity=.8}),10)}(l))}(t);break;case"mutation":!function(e,t,n){let i;try{void 0!==e.removed&&(e.a=e.removed),void 0!==e.addedOrMoved&&(e.b=e.addedOrMoved),void 0!==e.attributes&&(e.c=e.attributes),void 0!==e.text&&(e.d=e.text),void 0===e.a&&(e.a=[]),void 0===e.b&&(e.b=[]),void 0===e.c&&(e.c=[]),void 0===e.d&&(e.d=[]),e.b.forEach((function(e){i=e.parentNode&&e.parentNode.id,"STYLE"===e.tagName&&Nd.push(e.id),e.textContent&&Nd.indexOf(i)>-1&&(e.textContent=e.textContent.replace(/:hover/g,"[hotjar-css-hover]"))})),window.iframeController.applyChanged(n,t,e.a,e.b,e.c,e.d,e.timestamp)}catch(t){console.error(t,e)}}(t,n,c),k();break;case"scroll":(d=t).elem||(d.elem="window"),d.x||(d.x=0),a=!0,"window"===d.elem?(Ad.scrollTo(d.x,d.y),document.querySelector(Ed).scrollTo(d.x,d.y)):f(d.elem).scrollTo(d.x,d.y);break;case"inserted_rule":!function(e,t,n){e.rules.forEach((function(e){try{const i=e.nodeId;let o,r,a=window.iframeController.getTreeMirror(n,t).getNodeById(i)??f(e.parentSelector);if(!a)return;a.shadowRoot&&(a=a.shadowRoot.querySelector("style")),o=a.sheet,r=e.rule.includes("@import")?0:Math.min(o.cssRules.length,e.index),o.insertRule(e.rule.replace(/:hover/g,"[hotjar-css-hover]"),r)}catch(t){console.error(t,e)}})),p()&&m(e)}(t,n,c);break;case"deleted_rule":!function(e,t,n){e.rules.forEach((function(e){try{let i,o=window.iframeController.getTreeMirror(n,t).getNodeById(e.nodeId)??f(e.parentSelector);if(!o)return;if(o.shadowRoot&&(o=o.shadowRoot.querySelector("style")),i=o.sheet,e.index>=i.cssRules.length)return;i.deleteRule(e.index)}catch(t){console.error(t,e)}})),p()&&m(e)}(t,n,c);break;case"adopted_style_sheets":!function(e,t,n){const i=(window.iframeController.getTreeMirror(n,t).getNodeById(e.nodeId)??f(e.parentSelector)).shadowRoot,o=i.querySelectorAll(`style[id^="${Rd.II}"`);o.length&&o.forEach((e=>e.remove()));const r=(0,Rd.u5)(e.sheets);i.appendChild(r)}(t,n,c)}var d}function Z(e,t,n){const i=e.slice(t,n+1),o=["mutation","inserted_rule","deleted_rule","adopted_style_sheets"];let r=[],a=[];i.forEach((e=>{r.push(e.type),o.includes(e.type)&&a.push(e)}));const s=r.lastIndexOf("mouse_move"),l=r.lastIndexOf("scroll");if(s>=0){const e=i[s];a.push(e)}if(l>=0){const e=i[l];a.push(e)}return a}function R(e,t,n,i,o,r){if("string"!=typeof i)for(let a=o;a<=r;a++){const o=i[a];_(o.time_in_timeline);try{I(o,n,t)}catch(e){window.Sentry.captureException(e)}g({page:e,toPosition:r})}}return{adjustSVGSize:k,run:function(e,n,i,o,r,a){Od=r,window.playbackModuleHasLoadedThePage=!1,t=a;const s=window.iframeController;i&&s.removeIframe(o,i),s.maybePrerenderIframes(o,n).then((()=>{!function(e,t){C=!1,window.iframeController.getIframe(e,t).then((n=>{"true"===n.getAttribute("data-loaded")?C||T(e,t,n):n.addEventListener("load",(()=>{C||T(e,t,n)}))})),Md=window.document.getElementById("preview-cursor")}(o,n)}))},skipEvents:Z,forcePlayback:function(e,t){C=!0,window.iframeController.getIframe(e,t).then((n=>{T(e,t,n)}))},sendEventsData:function(e,t,i){let{fromPosition:o,toPosition:r,...a}=i;if(void 0!==o&&void 0!==r){const i=a.page,s=a.recordingId,l=a.startPageContentIdentifier;let c=[];!n&&t&&S(t),a.skipNonMutationEvents&&(c=Z(e,o,r)),c.length>0?R(i,s,l,c,o,c.length-1):R(i,s,l,e,o,r)}},onInactiveTickDone:function(e){d=e},onRetrieveHtmlResponse:function(e){u=e},onEventsProcessed:function(e){g=e},pause:function(){v(!0)},clearTrail:function(){const e=document.getElementsByClassName("_hjRecordingTrail");for(let t=e.length-1;t>=0;t--){const n=e[t];n.parentNode.removeChild(n)}},adjustSpeed:function(e){s=e},inactiveTick:function(e){_(e),d()},adjustRecordingWidth:S,retrieveHtml:function(){const e=new XMLSerializer,t=e.serializeToString(Ld.doctype),n=e.serializeToString(Ld.getElementsByTagName("html")[0]);u(t+n)},resume:function(){v(!1)},getElementByCustomSelector:f}};var jd=n(48869);const zd=e=>{const{site:t,lowerBound:n,recording:i,recordingId:o,recordingsList:r,rootRecording:a,hasMoreRecordings:s,populateRootRecording:l,fetchPreviousRecordingsPage:c,fetchNextRecordingsPage:d}=e;if(!t)return;if(sessionStorage.setItem(jd.PZ,String(o)),!i)return;if(!r.length)return a&&l(i),c(),void d();const u=r.findIndex((e=>e.id===o));n&&u<=jd.K6&&c(),s&&u>=r.length-jd.K6&&d()},Hd=e=>{const{isScreenshotMode:t,isHighlightMode:n,isRetakerMode:i}=e.getState();t||n||i||((e=>{if(new URLSearchParams(window.location.search).get("token"))return;let t=null;t=e.subscribe((e=>{e.user&&(e.fetchSiteForUserId(e.user.user_id),t?.())}),(e=>e),((e,t)=>e.user===t.user))})(e),(e=>{const t=new URLSearchParams(window.location.search);if(t.get("token"))return;const n=t.get(gt)||"",i=sessionStorage.getItem(gt)||"";n&&sessionStorage.setItem(gt,n);const o=n||i;if([pt.HIGHLIGHT,pt.INCOMING_FEEDBACK_RESPONSE,pt.SURVEY_RESPONSE].includes(o))return;const r=localStorage.getItem(jd.ZU),a=sessionStorage.getItem(jd.ZU);if(r||a){r&&(localStorage.removeItem(jd.ZU),sessionStorage.setItem(jd.ZU,r));const t=r||a;e.setState({recordingsList:JSON.parse(t),lowerBound:0,hasMoreRecordings:!1})}else e.subscribe(zd,(e=>e),((e,t)=>e.recording===t.recording&&e.site===t.site))})(e),(e=>{new URLSearchParams(window.location.search).get("token")||e.subscribe((e=>{const{recording:t,recordingId:n,watchedRecordingsIdsList:i,setWatchedRecordingsIdsList:o}=e;if(!t||i?.includes(n))return;const r=i?[t.id,...i]:[t.id];localStorage.setItem(jd.oL,JSON.stringify(r)),o(r)}),(e=>e),((e,t)=>e.recording===t.recording))})(e))};var $d=n(98845),Xd=n(65505),Gd=n(92891),Fd=n(71969),Ud=n(43554),Wd=n(75350),qd=n(55914),Yd=n(41375);const Jd=()=>{const e=localStorage.getItem(jd._9);if(e)return localStorage.removeItem(jd._9),sessionStorage.setItem(jd._9,e),JSON.parse(e);const t=sessionStorage.getItem(jd._9),n=sessionStorage.getItem(jd.PZ)||"";if(t&&parseInt(n)===(0,B.Tw)())return JSON.parse(t);const i={jsonFilters:{AND:[{DAYS_AGO:{created:365}}]},hotjarFilters:{...qd.v},sortBy:"-relevance_score",recordingsRequestTimeRange:(0,Yd.B)(),rootRecording:{id:(0,B.Tw)()}};return sessionStorage.setItem(jd._9,JSON.stringify(i)),i},Kd=()=>{const e=sessionStorage.getItem(jd.jm);if(e)return JSON.parse(e);const t=localStorage.getItem(jd.Yn);t&&localStorage.removeItem(jd.Yn);const n={recordingsList:[],lowerBound:t?Number(t):0,watchedRecordingsIdsList:[]};return sessionStorage.setItem(jd.jm,JSON.stringify(n)),n};var Qd=n(31327),eu=n(88151);const tu=(e,t)=>({hasMoreRecordings:!0,hotjarFilters:{...qd.v},...Jd(),...Kd(),getRecordingIndexById:e=>{const{lowerBound:n,recordingsList:i}=t();return i.findIndex((t=>t.id===e))+n},getRecordingIdByIndex:e=>{const{lowerBound:n,recordingsList:i}=t();return i[e-n]?.id},addRecordingsAtOffset:(n,i)=>{const{recordingsList:o,lowerBound:r}=t(),a=i<r?[...n,...o]:[...o,...n],s=P.mM.get(jd.oL)||[],l=a.filter((e=>e.watched)).map((e=>e.id)),c={recordingsList:(0,$d.Z)(a,(e=>e.id)),lowerBound:i>=0&&i<r?i:r,watchedRecordingsIdsList:(0,Xd.Z)([...s,...l])};sessionStorage.setItem(jd.jm,JSON.stringify(c)),e(c)},removeRecordingFromList:n=>{const{rootRecording:i,recordingsList:o}=t();e({rootRecording:i?.id===n?void 0:i,recordingsList:o.filter((e=>e.id===n))})},populateRootRecording:n=>{const{rootRecording:i}=t();if(!i)return;const o=JSON.parse(sessionStorage.getItem(jd._9)||"{}");o.rootRecording=(0,Qd.N)(n),sessionStorage.setItem(jd._9,JSON.stringify(o)),e({rootRecording:o.rootRecording})},setWatchedRecordingsIdsList:t=>{e({watchedRecordingsIdsList:t})},fetchPreviousRecordingsPage:()=>{const{lowerBound:e,fetchRecordings:n}=t();e&&n(e>=jd.gK?e-jd.gK:0)},fetchNextRecordingsPage:()=>{const{recordingsList:e,lowerBound:n,hasMoreRecordings:i,rootRecording:o,fetchRecordings:r}=t();if(!i)return;const a=n+e.length;r(0!==a&&o?a-1:a)},fetchRecordings:n=>{const{site:i,rootRecording:o,jsonFilters:r,hotjarFilters:a,sortBy:s,siteId:l,recordingsRequestTimeRange:c,playbacksOpener:d}=t(),u=i&&(0,yn.yy)("recordings.list.clickhouse",i)&&!(0,Fd.e)(r),g=u?jd.RU:jd.Kp,p=(0,Yd.L)(r,c);let h={action:"search",is_initial_load:!1,sort_by:s,source:d?["recordings-player",d].join("_"):"recordings-player",tz_offset:-(new Date).getTimezoneOffset(),size:jd.gK,offset:n,exclude_ids:o?[o.id]:void 0};if(u){const e=(0,eu.S)(p,a);if(h={...h,global_filters:JSON.stringify(e)},a.watched!==Wd.kQ&&(h={...h,watched:a.watched===Wd.o6}),s){const e=s.replace(/^-/,"");Hs.ri[e]&&(h.sort_by=s.replace(e,Hs.ri[e]))}}else h={...h,json_query_string:(0,Ud.q)(p,a)};w().post(`${g}/${l}/recordings`,h).then((i=>{let{data:r}=i;const{addRecordingsAtOffset:a}=t();r.total_hits<=n+jd.gK&&e({hasMoreRecordings:!1});const s=r.recordings.map((e=>(0,Qd.N)(e)));0===n&&o&&s.unshift(o),a(s,n)}))},site:null,fetchSiteForUserId:async n=>{const{siteId:i}=t(),o=await p.E.fetchQuery(Gd.jS,Gd.YG.bind(null,n)),r=o.sites.find((e=>e.id===i))||o.sites[0];e({site:r})}}),nu=["survey-response","incoming-feedback-response","highlight"],iu=()=>{const e=new URLSearchParams(window.location.search),t=e.get("forScreenshot"),n=e.get("forHighlight"),i=e.get("forRetaker"),o=e.get("token"),r=nu.includes(e.get("opener")||"");return!(t||n||i||o||r)},ou=e=>{const t=P.mM.get("playlistTogglePreference");return{playlistVisible:iu(),playlistOpened:"closed"!==t,lastFetchedRecordingId:null,setPlaylistOpened:t=>{P.mM.set(jd.ES,t?"opened":"closed"),e({playlistOpened:t})},setPlaylistVisible:t=>e({playlistVisible:t}),setLastFetchedRecordingId:t=>e({lastFetchedRecordingId:t})}},ru=e=>({isConsoleOpen:!1,scrollToTime:null,toggleConsole:()=>e((e=>{let{isConsoleOpen:t}=e;return{isConsoleOpen:!t}})),openConsole:t=>{e({isConsoleOpen:!0,scrollToTime:t&&Number.isInteger(t)?t:null})}}),au=P.mM.get("playbacksAutoplay"),su=P.mM.get("playbacksAutostart"),lu=Boolean((0,B.ak)("forScreenshot")),cu=Boolean((0,B.ak)("forHighlight")),du=lu||cu,uu=Boolean((0,B.ak)("forRetaker")),gu=()=>{const e=parseInt((0,B.ak)("comment"),10);return isNaN(e)?null:e};let pu;const hu=()=>({autostart:Boolean(null==su||su),clickSound:Zd(n(65195),n(30161)),isScreenshotMode:lu,isHighlightMode:cu,isLightPlayer:du,isHtmlReportMode:Boolean((0,B.ak)("forHtmlReport")),isRetakerMode:Boolean((0,B.ak)("forRetaker")),isCypressMode:Boolean((0,B.ak)("forCypress")),recordingId:Number((0,B.ak)("recording")),sharingToken:(0,B.ak)("token"),playbackScript:pu,playTickInterval:100,debugAllEvents:!1,debugSpecificEvents:[],lastTickTime:null,playTickCount:0,playbackSpeedLogCount:{.5:0,1:0,2:0,4:0},playbackSpeedTotalLog:{.5:0,1:0,2:0,4:0},isFirstTimelineJump:!0,timelineJumpToTime:null,playTimeoutId:null,pageToStartProcess:-1,currentPageIndex:0,processedPosition:0,currentPosition:0,jumpToPause:!1,skipNonMutationEvents:!1,iframeStartLoadTime:null,nextRecordingCountdown:null,openWorthWatchingTooltipCountdown:null,hasNoIncomingFeedback:!1,targetEndTime:null,filterEvents:[],eventMarkers:[],sidePanelEventMarkers:[],commentMentionsCalloutDisplayed:!1,experimentForcePlaybackVariant:null,isAutoplaying:Boolean(null==au||au),endCallback:null,hasLoadedFirstRecording:!1,hasRegisteredFirstTick:!1,playbacksOpener:"",isSharedRecording:!1,isAutogenerated:!1,loaded:!1,openedCommentId:gu(),showHotjarLogo:!1,siteId:Number((0,B.ak)("site")),jumpToCallback:null,organizationId:null,user:null,recording:null,skipPauses:Boolean(P.mM.get("playbacksSkipPauses"))||!1,playbackSpeed:Number(localStorage.getItem("playbacksPlaybackSpeed")||1),manuallyPausedOnce:!1,currentPageOriginalUrl:null,isForcingPlayback:!1,showLoader:!0,done:!1,playing:!1,startPageContentIdentifier:null,availableTagNames:[],showCommentMentionsCallout:!1,isWorthWatching:void 0,isJumpStartActive:Boolean(P.mM.get("playbackJumpStart",!0)),jumpStartEvent:void 0,isMuteClicksActive:Boolean(P.mM.get("playbackMuteClicks",!1)),showCursor:!1,maintenanceMode:!1,isCancelledNextRecordingCountdown:!1,isRecordingListOutOfSync:!1,showSidePanel:!du&&!uu&&Boolean(P.mM.get("playbackShowSidePanel",!0)),showFeedbackPrompt:!1,openWorthWatchingTooltip:!1,isShared:!1,showPollUpsell:!1});(0,g.F)(),u.setLogImplementation(d.c),u.setLocationHrefGetter((function(){return location.href}));const mu=document.getElementById("root"),bu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();pu=Bd();const t=(0,an.Z)((function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const[o]=n;return{...e,playbackScript:pu,setDebugEvents:e=>{if(!Array.isArray(e))return o({debugAllEvents:!0});o({debugSpecificEvents:e})},setLastTickTime:e=>o({lastTickTime:e}),incrementPlayTickCount:()=>o((e=>({playTickCount:e.playTickCount+1}))),resetPlaybackSpeedLog:e=>o((t=>({playbackSpeedLogCount:{...t.playbackSpeedLogCount,[e]:0},playbackSpeedTotalLog:{...t.playbackSpeedTotalLog,[e]:0}}))),incrementPlaybackSpeedLog:(e,t)=>o((n=>({playbackSpeedLogCount:{...n.playbackSpeedLogCount,[e]:n.playbackSpeedLogCount[e]+1},playbackSpeedTotalLog:{...n.playbackSpeedTotalLog,[e]:n.playbackSpeedTotalLog[e]+t}}))),setFirstTimelineJump:()=>o({isFirstTimelineJump:!1}),setTimelineJumpToTime:e=>o({timelineJumpToTime:e}),setPlayTimeoutId:e=>o({playTimeoutId:e}),setPageToStartProcess:e=>o({pageToStartProcess:e}),setCurrentPageIndex:e=>o({currentPageIndex:e}),setPosition:(e,t)=>o({currentPosition:e,processedPosition:t}),setJumpToPause:e=>o({jumpToPause:e}),setSkipNonMutationEvents:e=>o({skipNonMutationEvents:e}),storeIframeLoadTime:()=>o({iframeStartLoadTime:Date.now()}),setNextRecordingCountdown:e=>o({nextRecordingCountdown:e}),setOpenWorthWatchingTooltipCountdown:e=>o({openWorthWatchingTooltipCountdown:e}),setHasNoIncomingFeedback:()=>o({hasNoIncomingFeedback:!0}),setTargetEndTime:e=>o({targetEndTime:e}),setEvents:(e,t,n)=>o({filterEvents:e,eventMarkers:t,sidePanelEventMarkers:n}),setCommentMentionsCalloutDisplayed:()=>o({commentMentionsCalloutDisplayed:!0}),setExperimentForcePlaybackVariant:e=>o({experimentForcePlaybackVariant:e}),setAutoplay:e=>o({isAutoplaying:e}),setJumpToCallback:e=>o({jumpToCallback:e}),setEndCallback:e=>o({endCallback:e}),setHasLoadedFirstRecording:e=>o({hasLoadedFirstRecording:e}),setHasRegisteredFirstTick:e=>o({hasRegisteredFirstTick:e}),setPlaybacksOpener:e=>o({playbacksOpener:e}),setUser:e=>o({user:e}),setRecording:e=>o((t=>({recording:e,isShared:e.shared,organizationId:e.organization_id,isWorthWatching:e.worth_watching,isSharedRecording:Boolean(t.sharingToken),isAutogenerated:Boolean(e.autotags?.includes("autogenerated")),showHotjarLogo:Boolean(t.sharingToken)}))),setSkipPauses:e=>o({skipPauses:e}),setLoaded:()=>o({loaded:!0}),setPlaybackSpeed:e=>o({playbackSpeed:e}),setManuallyPausedOnce:e=>o({manuallyPausedOnce:e}),setCurrentPageOriginalUrl:e=>o({currentPageOriginalUrl:e}),setIsForcingPlayback:e=>o({isForcingPlayback:e}),setShowLoader:e=>o({showLoader:e}),setDone:e=>o({done:e}),setPlaying:e=>o({playing:e}),setStartPageContentIdentifier:e=>o({startPageContentIdentifier:e}),setAvailableTagNames:e=>o({availableTagNames:e}),setShowCommentMentionsCallout:e=>o({showCommentMentionsCallout:e}),setWorthWatching:e=>o({isWorthWatching:e}),setIsJumpStartActive:e=>o({isJumpStartActive:e}),setJumpStartEvent:e=>o({jumpStartEvent:e}),setIsMuteClicksActive:e=>o({isMuteClicksActive:e}),setShowCursor:e=>o({showCursor:e}),setEnableMaintenanceMode:()=>o({maintenanceMode:!0}),setCancelledNextRecordingCountdown:e=>o({isCancelledNextRecordingCountdown:e}),setIsRecordingListOutOfSync:e=>o({isRecordingListOutOfSync:e}),setShowSidePanel:e=>o({showSidePanel:e}),setShowFeedbackPrompt:e=>o({showFeedbackPrompt:e}),setOpenWorthWatchingTooltip:e=>o({openWorthWatchingTooltip:e}),setShared:e=>o({isShared:e}),setShowPollUpsell:e=>o({showPollUpsell:e}),reset:e=>{let{hasLoadedFirstRecording:t,hasRegisteredFirstTick:n,playlistVisible:i,playlistOpened:r,lastFetchedRecordingId:a}=e;return o({...hu(),hasLoadedFirstRecording:t,hasRegisteredFirstTick:n,playlistVisible:i,playlistOpened:r,lastFetchedRecordingId:a})},...tu(...n),...ou(...n),...ru(...n)}}));return Hd(t),t}();function fu(e){let{children:t}=e;const{i18n:n,ready:i}=(0,s.$G)();return(0,M.tZ)(a.bL,{i18n:{strings:i?n.getResourceBundle(n.language,"hotsauce"):{}},onNavigate:l.j,children:(0,M.tZ)(r.QueryClientProvider,{client:p.E,children:(0,M.tZ)(c.V,{children:(0,M.tZ)(Xe,{store:bu,children:t})})})})}var yu;yu=function(){o.render((0,M.tZ)(i.Suspense,{fallback:(0,M.tZ)(M.HY,{}),children:(0,M.BX)(fu,{children:[(0,M.tZ)(a.P6.GlobalStyle,{}),(0,M.tZ)(Sd,{})]})}),mu)},w().get("/api/v1/settings").then((function(e){window.settings=e.data,yu()})).catch((function(){console.log("Failed to load settings"),window.Sentry.captureMessage("Failed to load settings")}))},18496:(e,t,n)=>{(0,n(9779).p0)(),window.UAParser=n(80892),window.Clipboard=n(97394),n(42704),window.injectHotjarTrackingCode=n(83419).l,n(16998)},50785:(e,t,n)=>{"use strict";function i(e){return unescape(encodeURIComponent(e))}function o(e){return btoa(i(e))}n.r(t),n.d(t,{b64EncodeUnicode:()=>o,encodeAsUtf8:()=>i})},36172:(e,t,n)=>{"use strict";n.r(t),n.d(t,{hjHash:()=>h});const i={};function o(e,t){return e+t&4294967295}function r(e,t){var n=s(n=e[0],a=e[1],r=e[2],i=e[3],t[0],7,-680876936),i=s(i,n,a,r,t[1],12,-389564586),r=s(r,i,n,a,t[2],17,606105819),a=s(a,r,i,n,t[3],22,-1044525330);n=s(n,a,r,i,t[4],7,-176418897),i=s(i,n,a,r,t[5],12,1200080426),r=s(r,i,n,a,t[6],17,-1473231341),a=s(a,r,i,n,t[7],22,-45705983),n=s(n,a,r,i,t[8],7,1770035416),i=s(i,n,a,r,t[9],12,-1958414417),r=s(r,i,n,a,t[10],17,-42063),a=s(a,r,i,n,t[11],22,-1990404162),n=s(n,a,r,i,t[12],7,1804603682),i=s(i,n,a,r,t[13],12,-40341101),r=s(r,i,n,a,t[14],17,-1502002290),n=l(n,a=s(a,r,i,n,t[15],22,1236535329),r,i,t[1],5,-165796510),i=l(i,n,a,r,t[6],9,-1069501632),r=l(r,i,n,a,t[11],14,643717713),a=l(a,r,i,n,t[0],20,-373897302),n=l(n,a,r,i,t[5],5,-701558691),i=l(i,n,a,r,t[10],9,38016083),r=l(r,i,n,a,t[15],14,-660478335),a=l(a,r,i,n,t[4],20,-405537848),n=l(n,a,r,i,t[9],5,568446438),i=l(i,n,a,r,t[14],9,-1019803690),r=l(r,i,n,a,t[3],14,-187363961),a=l(a,r,i,n,t[8],20,1163531501),n=l(n,a,r,i,t[13],5,-1444681467),i=l(i,n,a,r,t[2],9,-51403784),r=l(r,i,n,a,t[7],14,1735328473),n=c(n,a=l(a,r,i,n,t[12],20,-1926607734),r,i,t[5],4,-378558),i=c(i,n,a,r,t[8],11,-2022574463),r=c(r,i,n,a,t[11],16,1839030562),a=c(a,r,i,n,t[14],23,-35309556),n=c(n,a,r,i,t[1],4,-1530992060),i=c(i,n,a,r,t[4],11,1272893353),r=c(r,i,n,a,t[7],16,-155497632),a=c(a,r,i,n,t[10],23,-1094730640),n=c(n,a,r,i,t[13],4,681279174),i=c(i,n,a,r,t[0],11,-358537222),r=c(r,i,n,a,t[3],16,-722521979),a=c(a,r,i,n,t[6],23,76029189),n=c(n,a,r,i,t[9],4,-640364487),i=c(i,n,a,r,t[12],11,-421815835),r=c(r,i,n,a,t[15],16,530742520),n=d(n,a=c(a,r,i,n,t[2],23,-995338651),r,i,t[0],6,-198630844),i=d(i,n,a,r,t[7],10,1126891415),r=d(r,i,n,a,t[14],15,-1416354905),a=d(a,r,i,n,t[5],21,-57434055),n=d(n,a,r,i,t[12],6,1700485571),i=d(i,n,a,r,t[3],10,-1894986606),r=d(r,i,n,a,t[10],15,-1051523),a=d(a,r,i,n,t[1],21,-2054922799),n=d(n,a,r,i,t[8],6,1873313359),i=d(i,n,a,r,t[15],10,-30611744),r=d(r,i,n,a,t[6],15,-1560198380),a=d(a,r,i,n,t[13],21,1309151649),n=d(n,a,r,i,t[4],6,-145523070),i=d(i,n,a,r,t[11],10,-1120210379),r=d(r,i,n,a,t[2],15,718787259),a=d(a,r,i,n,t[9],21,-343485551),e[0]=o(n,e[0]),e[1]=o(a,e[1]),e[2]=o(r,e[2]),e[3]=o(i,e[3])}function a(e,t,n,i,r,a){return t=o(o(t,e),o(i,a)),o(t<<r|t>>>32-r,n)}function s(e,t,n,i,o,r,s){return a(t&n|~t&i,e,t,o,r,s)}function l(e,t,n,i,o,r,s){return a(t&i|n&~i,e,t,o,r,s)}function c(e,t,n,i,o,r,s){return a(t^n^i,e,t,o,r,s)}function d(e,t,n,i,o,r,s){return a(n^(t|~i),e,t,o,r,s)}function u(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}i.md5=function(e){return function(e){for(var t=0;t<e.length;t++)e[t]=p(e[t]);return e.join("")}(function(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)r(i,u(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),55<t)for(r(i,o),t=0;16>t;t++)o[t]=0;return o[14]=8*n,r(i,o),i}(e))};var g="0123456789abcdef".split("");function p(e){for(var t="",n=0;4>n;n++)t+=g[e>>8*n+4&15]+g[e>>8*n&15];return t}const h=i},57608:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HjTreeMirror:()=>d});var i=n(41389);const{getApiHost:o}=n(16420),{hjHash:r}=n(36172),{b64EncodeUnicode:a}=n(50785),s={};let l;s.findStoredCss=function(e,t){let{sceneDocument:n,siteId:i,recordingId:s,webResources:c,token:d}=t;l||(l=n.createElement("link"),l.rel="stylesheet"),l.href=e;var u=r.md5(a(l.href));let g;return c.forEach((e=>{e.url_hash===u&&e.content_hash&&(g=function(e,t,n,i){let r=`${o()}/api/v2/sites/${t}/recording-id/${n}/web-resource/${e}`;return i&&(r+=`?token=${i}`),r}(e.content_hash,i,s,d))})),g||e};const c=s;class d{w=window;sceneDocument;allowlistedDomains=[];webResources=[];pageVisitUrl;siteId;recordingId;token;baseTag;childDebugEnabled;cssHoverAttribute="hotjar-css-hover";currentDomain="hj-hardcoded-domain.no-match";constructor(){this.setAttribute=(0,i.t)(this.setAttribute,window.document.location.hostname)}getDomain(e){return e&&e.replace("http://","").replace("https://","").split(/[/?#]/)[0]||""}checkIsValidDomain(e,t){var n=this.getDomain(t);return!n||!!e.filter((e=>n.indexOf(e)>-1)).length}setChildDebugEnabled=e=>{this.childDebugEnabled=e};setSceneDocument=e=>{this.sceneDocument=e};setToken=e=>{this.token=e};setBaseTag=e=>{this.baseTag=e};setRecordingId=e=>{this.recordingId=e};setSiteId=e=>{this.siteId=e};setWebResources=e=>{this.webResources=e};setAllowlistedDomains=e=>{this.allowlistedDomains=e};setPageVisitUrl=e=>{this.pageVisitUrl=e};setCurrentDomain=e=>{e&&(this.currentDomain=this.getDomain(e))};checkEmptyAndReturnLower=e=>"string"==typeof e?e.toLowerCase():"";ignoredElement=e=>{var t=this.sceneDocument.createElement("IGNORE-"+e.tagName);return t.style.display="none",t};createElement=e=>{var t;if(this.childDebugEnabled&&console.debug(e),"object"==typeof e&&"string"==typeof e.tagName){if(e.tagName=e.tagName.replace(/[^a-zA-Z0-9-_]/g,""),"SCRIPT"===e.tagName||"NOSCRIPT"===e.tagName)return this.ignoredElement(e);if("LINK"===e.tagName){if(e.attributes.integrity&&delete e.attributes.integrity,e.attributes.crossorigin&&delete e.attributes.crossorigin,e.attributes.href&&-1!==e.attributes.href.indexOf("blob:")&&delete e.attributes.href,"script"===this.checkEmptyAndReturnLower(e.attributes.as)&&"preload"===this.checkEmptyAndReturnLower(e.attributes.rel))return this.ignoredElement(e);if(-1!==this.checkEmptyAndReturnLower(e.attributes.href).indexOf("-extension://"))return this.ignoredElement(e)}else{if("HEAD"===e.tagName)return(t=this.sceneDocument.createElement("HEAD")).appendChild(this.sceneDocument.createElement("BASE")),this.baseTag?t.firstChild.href=this.fixBaseTagHref(this.baseTag.attributes.href,this.pageVisitUrl):t.firstChild.href=this.pageVisitUrl,t;if("STYLE"===e.tagName)for(var n=0;n<(e.childNodes||[]).length;n++){var i=e.childNodes[n];i.textContent&&(i.textContent=i.textContent.replace(/:hover/g,"["+this.cssHoverAttribute+"]"))}else{if("META"===e.tagName&&("object"==typeof e.attributes&&"x-frame-options"===this.checkEmptyAndReturnLower(e.attributes["http-equiv"])&&"deny"===this.checkEmptyAndReturnLower(e.attributes.content)||"content-security-policy"===this.checkEmptyAndReturnLower(e.attributes["http-equiv"])))return this.ignoredElement(e);if("INPUT"===e.tagName)return(t=this.sceneDocument.createElement(e.tagName)).setAttribute("autocomplete","nope"),t.setAttribute("readonly",""),t;if("IFRAME"===e.tagName){if("_hjRemoteVarsFrame"===e.attributes.id)return this.ignoredElement(e);if(-1!==this.checkEmptyAndReturnLower(e.attributes.src).indexOf("-extension://"))return this.ignoredElement(e);void 0!==e.attributes["data-hj-allow-iframe"]&&this.checkIsValidDomain(this.allowlistedDomains.concat(this.currentDomain),e.attributes.src)||(void 0!==e.attributes.src&&(e.attributes["data-hj-original-src"]=e.attributes.src),e.attributes.src=document.location.protocol+"//"+document.location.host+"/static/playbacks/html/iframe-content-blocked.html")}}}if("LINK"===e.tagName){var o=this.sceneDocument.createElement(e.tagName);return(!e.attributes.href||e.attributes.href&&-1!==e.attributes.href.indexOf("blob:"))&&(delete e.attributes.href,o.setAttribute("href","#")),o}return e&&e.namespaceURI?this.sceneDocument.createElementNS(e.namespaceURI,e.tagName.toLowerCase()):this.sceneDocument.createElement(e.tagName)}return!1};setAttribute=(e,t,n)=>{if(t=t.replace(/[^a-z0-9-_:]/gi,""),"BASE"===e.tagName&&"href"===t)n=this.fixBaseTagHref(n,this.pageVisitUrl);else if("LINK"===e.tagName&&"href"===t)n=c.findStoredCss(n,{webResources:this.webResources,siteId:this.siteId,recordingId:this.recordingId,sceneDocument:this.sceneDocument,token:this.token});else if("INPUT"===e.tagName&&"autofocus"===t)return e.setAttribute("ignore-"+t,n),!0;return"LINK"===e.tagName&&"href"===t&&-1!==n.indexOf("blob:")||("src"===t||"href"===t)&&-1!==n.toLowerCase().indexOf("javascript:")||(isNaN(t.charAt(0))&&"-"!==t.charAt(0)&&0!==t.indexOf("on")&&(-1!==t.indexOf("xlink:")&&e.setAttributeNS?e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n):e.setAttribute&&e.setAttribute(t,n),e.setAttribute),!0)};fixBaseTagHref=(e,t)=>{const n=document.createElement("a");var i;if(n.setAttribute("href",t),"http"===e.substr(0,4)||"//"===e.substr(0,2))return e;i="/"===e.substr(0,1)?e:("/"===n.pathname.slice(-1)?n.pathname:n.pathname.substring(0,n.pathname.lastIndexOf("/")+1))+e;var o=n.protocol+"//"+n.hostname+(n.port?":"+n.port:"");return new URL(o+i).href}}},89176:(e,t,n)=>{"use strict";n.d(t,{II:()=>r,Qq:()=>s,u5:()=>a});var i=n(65387);const{HjTreeMirror:o}=n(57608),r="constructed-style-";function a(e){const t=document.createDocumentFragment();return e.forEach((e=>{const n=e.rules.join(" "),i=document.createElement("style");var o;i.appendChild(document.createTextNode(n)),i.id=(o=e.id,r+o),t.appendChild(i)})),t}function s(e){this.hjTreeMirror=new o,this.root=e,this.delegate={createElement:this.hjTreeMirror.createElement,setAttribute:this.hjTreeMirror.setAttribute},this.idMap={},this.isEmpty=!1,this.SVG_NAMESPACE="http://www.w3.org/2000/svg"}s.prototype.isSVGNamespacedElement=(0,i.Z)((function(e){for(;e;){if(e.tagName&&"foreignobject"===e.tagName.toLowerCase())return!1;if(e.tagName&&"svg"===e.tagName.toLowerCase()||e.namespaceURI===this.SVG_NAMESPACE)return!0;e=e.parentNode}return!1})),s.prototype.configurePage=function(e){let{token:t,siteId:n,recordingId:i,pageVisitUrl:o,baseTag:r,allowlistedDomains:a,webResources:s,debug:l}=e;this.hjTreeMirror.setSceneDocument(this.root),this.hjTreeMirror.setToken(t),this.hjTreeMirror.setSiteId(n),this.hjTreeMirror.setRecordingId(i),this.hjTreeMirror.setCurrentDomain(o),this.hjTreeMirror.setPageVisitUrl(o),this.hjTreeMirror.setBaseTag(r),this.hjTreeMirror.setAllowlistedDomains(a),this.hjTreeMirror.setWebResources(s),this.hjTreeMirror.setChildDebugEnabled(l)},s.prototype.initialize=function(e,t){if(e){this.idMap[e]=this.root;for(var n=0;n<t.length;n++)this.deserializeNode(t[n],this.root)}else this.isEmpty=!0};var l=0;function c(e,t,n){return function(){try{return e.apply(this,arguments)}catch(e){20===(l+=1)&&console.error("*** Error logging stopped for mutation errors (over threshold) ***"),l<20&&console.error(e,{nodeData:arguments[0],mutation:arguments[2],context:t,mutationTimestamp:n}),l<5&&parent&&parent.Sentry&&parent.Sentry.withScope((function(i){i.setExtras({errorIndex:l,nodeData:arguments[0],mutation:arguments[2],context:t,module:"playback-tree-mirror"});const o=new URLSearchParams(window.document.location.search);i.setTags({site:o.get("site"),recording:o.get("recording"),mutationTimestamp:n}),parent.Sentry.captureException(e)}))}}}s.prototype.applyChanged=function(e,t,n,i,o){if(!this.isEmpty){var r=this;t.forEach(c((function(e){const t=r.deserializeNode(e.parentNode),n=r.deserializeNode(e,null,r.isSVGNamespacedElement(t));r.deserializeNode(e.previousSibling);const i=n.parentNode;i&&i.removeChild(n)}),"addedOrMoved1",o)),e.forEach(c((function(e){const t=r.deserializeNode(e),n=t.parentNode;n&&n.removeChild(t)}),"removed",o)),t.forEach(c((function(e){const t=r.deserializeNode(e.parentNode),n=r.deserializeNode(e,null,r.isSVGNamespacedElement(t)),i=r.deserializeNode(e.previousSibling);t.shadowRoot&&e.isInShadowRoot?t.shadowRoot.insertBefore(n,i?i.nextSibling:t.shadowRoot.firstChild):t.insertBefore(n,i?i.nextSibling:t.firstChild)}),"addedOrMoved2",o)),n.forEach(c((function(e){var t=r.deserializeNode(e);Object.keys(e.attributes).forEach((function(n){var i=e.attributes[n];((e,t)=>{var n=e&&e.tagName?e.tagName.toLowerCase():"",i=t?t.toLowerCase():"",o="iframe"===n&&"src"===i;return!o||o&&e.hasAttribute("data-hj-allow-iframe")})(t,n)&&(null===i?t.removeAttribute(n):r.delegate&&r.delegate.setAttribute&&r.delegate.setAttribute(t,n,i)||t.setAttribute(n,i))}))}),"attributes",o)),i.forEach(c((function(e){r.deserializeNode(e).textContent=e.textContent}),"text",o)),e.forEach(c((function(e){delete r.idMap[e.id]}),"removed",o))}},s.prototype.deserializeNode=function(e,t,n){var i=this;if(null===e)return null;var o=this.idMap[e.id];if(o)return o;var r=this.root.ownerDocument;switch(null===r&&(r=this.root),e.nodeType){case Node.COMMENT_NODE:o=r.createComment(e.textContent);break;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:o=r.createTextNode(e.textContent);break;case Node.DOCUMENT_TYPE_NODE:o=r.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);break;case Node.ELEMENT_NODE:if(e&&e.namespaceURI||["style"].indexOf(e.tagName.toLowerCase())>=0||!n&&"svg"!==e.tagName&&!i.isSVGNamespacedElement(t)?(this.delegate&&this.delegate.createElement&&(o=this.delegate.createElement(e)),o||(o=r.createElement(e.tagName))):(o=r.createElementNS(this.SVG_NAMESPACE,e.tagName),e.attributes.xmlns&&delete e.attributes.xmlns),o.tagName.toLowerCase().startsWith("ignore"))break;Object.keys(e.attributes).forEach((function(t){i.delegate&&i.delegate.setAttribute&&i.delegate.setAttribute(o,t,e.attributes[t])||o.setAttribute(t,e.attributes[t])}));break;case Node.PROCESSING_INSTRUCTION_NODE:o=r.createTextNode("")}if(!o)throw Error("Problem detected playing back recording.");if(this.idMap[e.id]=o,t&&t.shadowRoot&&e.isInShadowRoot?t.shadowRoot.appendChild(o):t&&t.appendChild(o),e&&e.hasShadowRoot&&!e.isSyntheticShadow){const t=o.attachShadow({mode:"open"});if(e.adoptedStyleSheetsRules){const n=a(e.adoptedStyleSheetsRules);t.append(n)}}var s=o&&0===(o.tagName||"").toLowerCase().indexOf("ignore-");if(e.childNodes&&!s)for(var l=0;l<e.childNodes.length;l++)this.deserializeNode(e.childNodes[l],o);return o},s.prototype.getNodeById=function(e){return this.idMap[e]}},41375:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,L:()=>o});const i=()=>{const e=Math.floor(Date.now()/1e3);return[e-31536e3,e]},o=(e,t)=>{const n=(e?.AND?[...e.AND]:[e]).filter((e=>e&&Object.keys(e).length>0&&Object.keys(e).every((e=>"RANGE_IN"!==e&&"DAYS_AGO"!==e)))),o={RANGE_IN:{created:t&&2===t.length?t:i()}};return n.length>0?{AND:[...n,o]}:o}},42704:(e,t,n)=>{"use strict";n.r(t)},30161:(e,t,n)=>{"use strict";e.exports=n.p+"f40a38bc46b3c14da7b9.mp3"},65195:(e,t,n)=>{"use strict";e.exports=n.p+"6de89456ed1fea42a083.wav"}},e=>{e.O(0,[5733,4870,5356,4566,7759,3059,3501,5616,3803,249,3072,7,3226,916,3305,4183,291,6420,1781,3125,9953,609,8740,6586,387,9269,4],(()=>(18496,e(e.s=18496)))),e.O()}]);