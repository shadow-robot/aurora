#jinja2: trim_blocks:False
#!/bin/bash

terminator --geometry "{{ term_1 }}" -T 'Launching server container...' -e "{{ shadow_hand_launcher_folder}}/shadow_server_container.sh"
sleep 3
terminator --geometry "{{ term_2 }}" -T 'Server ROS Core' -e "{{ shadow_hand_launcher_folder}}/shadow_roscore.sh" &
sleep 5
terminator --geometry "{{ term_3 }}" -T 'Server Right Teleop Simulation' -e "{{ shadow_hand_launcher_folder}}/shadow_sim_right.sh" &
sleep 3
if {{ real_glove | lower }}; then
    if [[ "{{ glove }}" == "haptx"  ]]; then
        terminator --geometry "{{ term_4 }}" -T 'Server HaptX Right Mapping' -e "{{ shadow_hand_launcher_folder}}/shadow_haptx_mapping_launch_right.sh"
    fi
    if [[ "{{ glove }}" == "polhemus"  ]]; then
        terminator --geometry "{{ term_4 }}" -T 'Server Polhemus Right Mapping' -e "{{ shadow_hand_launcher_folder}}/shadow_polhemus_mapping_launch_right.sh"
        sleep 3
        terminator --geometry "{{ term_5 }}" -T 'Server Polhemus Driver Right' -e "{{ shadow_hand_launcher_folder}}/shadow_polhemus_driver_right.sh"
    fi
fi
sleep 3

if {{ not real_vive | lower }}; then
    terminator --geometry "{{ term_6 }}" -T 'Simulated Right Arm Wrist Tracker' -e "{{ shadow_hand_launcher_folder}}/shadow_mock_vive_right.sh"
fi
