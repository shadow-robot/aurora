---
- name: Set haptx icon
  set_fact:
    haptx_type: "bimanual"
    haptx_icon: "haptx_{{ haptx_type }}.png"
  when: bimanual|bool

- name: Install desktop icon for Teleop server container (for haptx)
  include_tasks: default-icon.yml
  vars:
    template: ../../../common/resources/templates/scripts/start-docker-container.j2
    desktop_icon_png: "{{ haptx_icon }}"
    launch_script: "shadow_launcher_exec.sh"
    desktop_icon_name: "Teleop_Container_Launch"

- name: Install desktop icon for Teleop server GUI (for haptx)
  include_tasks: gui-icon.yml
  vars:
    desktop_icon_png: "{{ haptx_icon }}"
    launch_script: "shadow_roslaunch_demo.sh"
    desktop_icon_name: "Teleop_GUI_haptx"
    gui_project_name: "sr_teleop_vive_haptx"
    gui_launch_file: "teleop_vive_haptx.launch external_control_loop:=true"

- name: Install desktop icon for running haptx mapping node
  include_tasks: gui-icon.yml
  vars:
    desktop_icon_png: "{{ haptx_icon }}"
    launch_script: "shadow_haptx_mapping_launch_demo.sh"
    desktop_icon_name: "Teleop_Haptx_Mapping_Launch"
    gui_project_name: "sr_teleop_vive_haptx"
    gui_launch_file: "haptx_base.launch"
