---
- name: Custom shared volume for bag storage
  block:
  - name: Set shadow_bag_storage folder names
    set_fact:
      shadow_bag_storage_folder: "{{ user_folder }}/shadow_bag_storage"
      shadow_bag_storage_inside_docker: "/home/user/shadow_bag_storage"

  - name: Ensure {{ shadow_bag_storage_folder }} folder exists
    file:
      path: "{{ shadow_bag_storage_folder }}"
      mode: '755'
      state: directory

  - name: Set custom shared volumes for docker container
    set_fact:
      custom_shared_volumes: 
        - "{{ shadow_bag_storage_folder }}:{{ shadow_bag_storage_inside_docker }}"

