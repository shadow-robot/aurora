---
- name: Ensures that Desktop folder exists
  file:
    path: "{{ user_folder }}/Desktop"
    mode: '755'
    state: directory

- name: Ensures that shadow_hand_launcher directory exists
  file:
    path: "{{ shadow_hand_launcher_folder }}"
    state: directory

- name: Install desktop icon for server container
  include_tasks: default-icon.yml
  vars:
    template: ../../../common/resources/templates/scripts/start-docker-container.j2
    desktop_icon_png: "hand-e.png"
    launch_script: "shadow_server_container.sh"
    desktop_icon_name: "Server_Container_Launch"

- name: Install desktop icon for NUC container
  include_tasks: default-icon.yml
  vars:
    template: templates/scripts/start-docker-container-only-nuc.j2
    desktop_icon_png: "hand-e.png"
    launch_script: "shadow_nuc_container.sh"
    desktop_icon_name: "NUC_Container_Launch"

- name: Install desktop icon for launching ROSCORE
  import_tasks: default-icon.yml
  vars:
    template: ../../../common/resources/templates/scripts/start-roscore.j2
    desktop_icon_png: "ROS_logo.png"
    launch_script: "shadow_roscore.sh"
    desktop_icon_name: "ROSCORE"

- name: Include products/common/demo-icons role
  include_role:
    name: products/common/demo-icons
  when: demo_icons|bool

- name: Install desktop icon for hand
  import_tasks: hand-icon.yml
  vars:
    desktop_icon_png: "hand-e.png"
    launch_script: "shadow_launcher_exec.sh"
    hand_branch: "{{ config_branch }}"
    desktop_icon_name: "Shadow_Hand_Launcher"
    ethercat_interface_var: "{{ ethercat_interface }}"

- name: Install desktop icon for hand GUI
  import_tasks: roslaunch-icon.yml
  vars:
    desktop_icon_png: "hand-e.png"
    launch_script: "shadow_GUI.sh"
    project_name_input: "sr_robot_launch"
    launch_file_input: "srhand.launch external_control_loop:=true"
    desktop_icon_name: "Shadow_Hand_GUI"
