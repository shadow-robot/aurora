---
- name: Ensures that shadow_hand_launcher directory exists
  file:
    path: "{{ shadow_hand_launcher_folder }}"
    state: directory

- name: Copy Shadow_Hand_Launcher desktop icon
  copy: 
    src: files/hand_e.png
    dest: "{{ shadow_hand_launcher_folder }}/hand_e.png"
    mode: '664'

- name: Create Shadow_Hand_Launcher executable launch script
  template:
    src: templates/scripts/start_docker_container.j2
    dest: "{{ shadow_hand_launcher_folder }}/shadow_launcher_exec.sh"
    mode: '755'

- name: Create Shadow_Hand_Launcher desktop icon
  template:
    src: templates/desktop_labels/desktop_icon.j2
    dest: "{{ user_folder }}/Desktop/Shadow_Hand_Launcher.desktop"
    mode: '755'
  vars:
    desktop_shortcut_name: Shadow_Hand_Launcher
    comment: "This is application launches the hand"
    window_title: shadow_launcher_app_xterm
    folder: "{{ shadow_hand_launcher_folder }}"
    shell_script_file_name: shadow_launcher_exec.sh
    icon_file_name: hand_e.png

- name: Ensures that save_latest_ros_logs_folder exists
  file:
    path: "{{ save_latest_ros_logs_folder }}"
    state: directory

- name: Copy ROS Logs Saver desktop icon
  copy: 
    src: files/log_icon.png
    dest: "{{ save_latest_ros_logs_folder }}/log_icon.png"
    mode: '664'

- name: Copy ROS Logs Saver main script
  copy: 
    src: files/save_latest_ros_logs.sh
    dest: "{{ save_latest_ros_logs_folder }}/save_latest_ros_logs.sh"
    mode: '755'

- name: Create ROS Logs Saver desktop icon
  when: not use_aws
  template:
    src: templates/desktop_labels/desktop_icon.j2
    dest: "{{ user_folder }}/Desktop/ROS_Logs_Saver.desktop"
    mode: '755'
  vars:
    desktop_shortcut_name: ROS_Logs_Saver
    comment: "This application saves latest ros logs file from running docker container"
    window_title: shadow_save_log_app_xterm
    folder: "{{ save_latest_ros_logs_folder }}"
    shell_script_file_name: save_latest_ros_logs.sh
    icon_file_name: log_icon.png

- name: Create ROS Logs Saver and Uploader desktop icon
  when: use_aws
  template:
    src: templates/desktop_labels/desktop_icon.j2
    dest: "{{ user_folder }}/Desktop/ROS_Logs_Saver_And_Uploader.desktop"
    mode: '755'
  vars:
    desktop_shortcut_name: ROS_Logs_Saver_And_Uploader
    comment: "This application saves and uploads to AWS latest ros logs file from running docker container"
    window_title: shadow_save_log_app_xterm
    folder: "{{ save_latest_ros_logs_folder }}"
    shell_script_file_name: save_latest_ros_logs.sh
    icon_file_name: log_icon.png

- name: Copy Close Hand desktop icon
  when: demo_icons
  copy: 
    src: files/close_hand_icon.png
    dest: "{{ shadow_hand_launcher_folder }}/close_hand_icon.png"
    mode: '664'

- name: Create Close Hand executable launch script
  when: demo_icons
  template:
    src: templates/scripts/rosrun_script.j2
    dest: "{{ shadow_hand_launcher_folder }}/close_hand.sh"
    mode: '755'
  vars:
    script_name: demo_rs.py

- name: Create Close Hand desktop icon
  when: demo_icons
  template:
    src: templates/desktop_labels/desktop_icon.j2
    dest: "{{ user_folder }}/Desktop/Close_hand.desktop"
    mode: '755'
  vars:
    desktop_shortcut_name: Close Hand
    comment: "This runs closes the hand for transportation"
    window_title: close_hand_xterm
    folder: "{{ shadow_hand_launcher_folder }}"
    shell_script_file_name: close_hand.sh
    icon_file_name: close_hand_icon.png

- name: Copy Open Hand desktop icon
  when: demo_icons
  copy: 
    src: files/open_hand_icon.png
    dest: "{{ shadow_hand_launcher_folder }}/open_hand_icon.png"
    mode: '664'

- name: Create Open Hand executable launch script
  when: demo_icons
  template:
    src: templates/scripts/rosrun_script.j2
    dest: "{{ shadow_hand_launcher_folder }}/open_hand.sh"
    mode: '755'
  vars:
    script_name: demo_ro.py

- name: Create Open Hand desktop icon
  when: demo_icons
  template:
    src: templates/desktop_labels/desktop_icon.j2
    dest: "{{ user_folder }}/Desktop/Open_hand.desktop"
    mode: '755'
  vars:
    desktop_shortcut_name: Open Hand
    comment: "This opens the hand"
    window_title: open_hand_xterm
    folder: "{{ shadow_hand_launcher_folder }}"
    shell_script_file_name: open_hand.sh
    icon_file_name: open_hand_icon.png

- name: Copy Standard Demo desktop icon
  when: demo_icons
  copy: 
    src: files/demo_hand_icon.png
    dest: "{{ shadow_hand_launcher_folder }}/demo_hand_icon.png"
    mode: '664'

- name: Create Standard Demo executable launch script
  when: demo_icons
  template:
    src: templates/scripts/rosrun_script.j2
    dest: "{{ shadow_hand_launcher_folder }}/demo_hand.sh"
    mode: '755'
  vars:
    script_name: demo_r.py

- name: Create Standard Demo desktop icon
  when: demo_icons
  template:
    src: templates/desktop_labels/desktop_icon.j2
    dest: "{{ user_folder }}/Desktop/Demo_hand.desktop"
    mode: '755'
  vars:
    desktop_shortcut_name: Demo Hand
    comment: "This runs the standard demo for the hand"
    window_title: demo_hand_xterm
    folder: "{{ shadow_hand_launcher_folder }}"
    shell_script_file_name: demo_hand.sh
    icon_file_name: demo_hand_icon.png